{"ast":null,"code":"\"use client\";import{useState,useEffect,useCallback}from\"react\";import{Link}from\"react-router-dom\";import{useAuth}from\"../contexts/AuthContext\";import apiClient from\"../services/api\";import{Calendar,Users,FileText,Utensils,Plus,CheckCircle,TrendingUp,Clock,AlertCircle,PawPrint,X}from\"lucide-react\";import AddNutritionModal from\"../components/AddNutritionModal\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const VetDashboard=()=>{var _selectedAppointment$,_selectedAppointment$2,_selectedAppointment$3,_selectedAppointment$4,_selectedAppointment$5,_selectedAppointment$6,_selectedAppointment$7;const{user}=useAuth();const[appointments,setAppointments]=useState([]);const[nutritionGuidelines,setNutritionGuidelines]=useState([]);const[articles,setArticles]=useState([]);const[patientPets,setPatientPets]=useState([]);const[stats,setStats]=useState({totalAppointments:0,todayAppointments:0,pendingAppointments:0,totalArticles:0,totalPatientPets:0});const[loading,setLoading]=useState(true);const[activeTab,setActiveTab]=useState(\"appointments\");const[showAddNutritionModal,setShowAddNutritionModal]=useState(false);const[selectedAppointment,setSelectedAppointment]=useState(null);const[showAppointmentModal,setShowAppointmentModal]=useState(false);const[userImages,setUserImages]=useState({});const[petImages,setPetImages]=useState({});const fetchVetData=useCallback(async()=>{try{const[appointmentsResponse,nutritionResponse,articlesResponse,petsResponse]=await Promise.allSettled([apiClient.get(\"/appointments/vet\"),apiClient.get(\"/nutrition/guidelines\"),apiClient.get(\"/articles\"),apiClient.get(\"/pets\")// ดึงข้อมูลสัตว์เลี้ยงทั้งหมดสำหรับสัตวแพทย์\n]);// console.log(\"=== VetDashboard API Responses ===\")\n// console.log(\"Appointments Response:\", appointmentsResponse)\n// console.log(\"Nutrition Response:\", nutritionResponse)\n// console.log(\"Articles Response:\", articlesResponse)\n// ประมวลผลข้อมูล Appointments\nif(appointmentsResponse.status==='fulfilled'){const responseData=appointmentsResponse.value.data;// console.log(\"Appointments Response Data:\", responseData)\n// ลองหลายรูปแบบของ response structure\nlet appointmentsData=[];if(responseData.appointments){appointmentsData=responseData.appointments;}else if(Array.isArray(responseData)){appointmentsData=responseData;}else if(responseData.data&&Array.isArray(responseData.data)){appointmentsData=responseData.data;}// console.log(\"Processed Appointments Data:\", appointmentsData)\nsetAppointments(appointmentsData);// console.log(\"Appointments state set to:\", appointmentsData.length, \"items\")\n// คำนวณสถิติ\nconst today=new Date();today.setHours(0,0,0,0);const todayAppointments=appointmentsData.filter(a=>{const appointmentDate=new Date(a.appointment_date);appointmentDate.setHours(0,0,0,0);return appointmentDate.getTime()===today.getTime();}).length;const pendingAppointments=appointmentsData.filter(a=>a.status==='scheduled').length;setStats(prev=>({...prev,totalAppointments:appointmentsData.length,todayAppointments,pendingAppointments}));}// ประมวลผลข้อมูล Nutrition Guidelines\nif(nutritionResponse.status==='fulfilled'){const responseData=nutritionResponse.value.data;// console.log(\"Nutrition Response Data:\", responseData)\nlet nutritionData=[];if(Array.isArray(responseData)){nutritionData=responseData;}else if(responseData.data&&Array.isArray(responseData.data)){nutritionData=responseData.data;}// console.log(\"Processed Nutrition Data:\", nutritionData)\nsetNutritionGuidelines(nutritionData);// console.log(\"Nutrition Guidelines state set to:\", nutritionData.length, \"items\")\n}// ประมวลผลข้อมูล Articles\nif(articlesResponse.status==='fulfilled'){const responseData=articlesResponse.value.data;// console.log(\"Articles Response Data:\", responseData)\nlet articlesData=[];if(responseData.articles){articlesData=responseData.articles;}else if(Array.isArray(responseData)){articlesData=responseData;}else if(responseData.data&&Array.isArray(responseData.data)){articlesData=responseData.data;}// console.log(\"Processed Articles Data:\", articlesData)\nsetArticles(articlesData);// console.log(\"Articles state set to:\", articlesData.length, \"items\")\nsetStats(prev=>({...prev,totalArticles:articlesData.length}));}// ประมวลผลข้อมูล Patient Pets\nif(petsResponse.status==='fulfilled'){const responseData=petsResponse.value.data;// console.log(\"Pets Response Data:\", responseData)\nlet petsData=[];if(responseData.pets){petsData=responseData.pets;}else if(Array.isArray(responseData)){petsData=responseData;}else if(responseData.data&&Array.isArray(responseData.data)){petsData=responseData.data;}// Load images for pets that have photo_url\nconst petsWithImages=await Promise.all(petsData.map(async pet=>{if(pet.photo_url){try{// For existing images, try to fetch and convert to base64\nif(pet.photo_url.startsWith('/uploads/')||pet.photo_url.startsWith('http://localhost:5000/api/upload/image/')){const filename=pet.photo_url.includes('/')?pet.photo_url.split('/').pop():pet.photo_url;const response=await fetch(`${process.env.REACT_APP_API_URL}/upload/image/${filename}`);if(response.ok){const blob=await response.blob();const reader=new FileReader();return new Promise(resolve=>{reader.onload=e=>{resolve({...pet,photo_url:e.target.result});};reader.readAsDataURL(blob);});}}}catch(error){console.error('Failed to load pet image:',error);}}return pet;}));// console.log(\"Processed Pets Data:\", petsWithImages)\n// console.log(\"Sample Pet Data Structure:\", petsWithImages[0]) // ดูโครงสร้างข้อมูลตัวอย่าง\nsetPatientPets(petsWithImages);// console.log(\"Patient Pets state set to:\", petsWithImages.length, \"items\")\nsetStats(prev=>({...prev,totalPatientPets:petsWithImages.length}));}}catch(error){console.error(\"Failed to fetch vet data:\",error);}finally{setLoading(false);}},[]);useEffect(()=>{if(user){fetchVetData();}},[user,fetchVetData]);const handleStatusUpdate=async(appointmentId,status)=>{try{console.log(`Updating appointment ${appointmentId} to status: ${status}`);await apiClient.patch(`/appointments/${appointmentId}/status`,{status});setAppointments(appointments.map(a=>a.id===appointmentId?{...a,status}:a));// อัปเดตสถิติ\nfetchVetData();console.log(`Successfully updated appointment ${appointmentId} to ${status}`);}catch(error){var _error$response,_error$response$data;console.error(\"Failed to update appointment status:\",error);if((_error$response=error.response)!==null&&_error$response!==void 0&&(_error$response$data=_error$response.data)!==null&&_error$response$data!==void 0&&_error$response$data.message){alert(`ไม่สามารถอัปเดตสถานะได้: ${error.response.data.message}`);}else{alert(\"เกิดข้อผิดพลาดในการอัปเดตสถานะนัดหมาย\");}}};const handleAppointmentClick=appointment=>{setSelectedAppointment(appointment);setShowAppointmentModal(true);};const handleNutritionAdded=newGuideline=>{setNutritionGuidelines([...nutritionGuidelines,newGuideline]);setShowAddNutritionModal(false);};// Debug: Log current state values (commented out for production)\n// console.log(\"=== VetDashboard Render State ===\")\n// console.log(\"Loading:\", loading)\n// console.log(\"Appointments:\", appointments.length, appointments)\n// console.log(\"Nutrition Guidelines:\", nutritionGuidelines.length, nutritionGuidelines)\n// console.log(\"Articles:\", articles.length, articles)\n// console.log(\"Patient Pets:\", patientPets.length, patientPets)\n// console.log(\"Stats:\", stats)\nif(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\",children:[user.profile_picture_url?/*#__PURE__*/_jsx(\"img\",{src:user.profile_picture_url,alt:user.full_name,className:\"w-full h-full object-cover\",onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='flex';}}):null,/*#__PURE__*/_jsx(\"div\",{className:`w-full h-full flex items-center justify-center ${user.profile_picture_url?'hidden':'flex'}`,children:/*#__PURE__*/_jsx(Users,{className:\"h-6 w-6 text-gray-400\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"\\u0E41\\u0E14\\u0E0A\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E14\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E41\\u0E1E\\u0E17\\u0E22\\u0E4C\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mt-2\",children:[\"\\u0E2A\\u0E27\\u0E31\\u0E2A\\u0E14\\u0E35, \",user.full_name]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-64\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E25\\u0E48\\u0E32\\u0E2A\\u0E38\\u0E14\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"(\",appointments.length,\" \\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23)\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3 max-h-48 overflow-y-auto\",children:appointments.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center py-4\",children:\"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\"}):appointments.slice(0,5).map(appointment=>{var _appointment$pets;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer\",onClick:()=>handleAppointmentClick(appointment),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4 text-blue-500\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-medium text-gray-900 truncate\",children:[((_appointment$pets=appointment.pets)===null||_appointment$pets===void 0?void 0:_appointment$pets.name)||'N/A',\" - \",appointment.appointment_type===\"checkup\"?\"ตรวจสุขภาพ\":appointment.appointment_type]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[new Date(appointment.appointment_date).toLocaleDateString(\"th-TH\"),\" \",new Date(appointment.appointment_date).toLocaleTimeString(\"th-TH\",{hour:\"2-digit\",minute:\"2-digit\"})]})]}),/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 text-xs rounded-full ${appointment.status===\"scheduled\"?\"bg-yellow-100 text-yellow-800\":appointment.status===\"confirmed\"?\"bg-green-100 text-green-800\":appointment.status===\"completed\"?\"bg-gray-100 text-gray-800\":\"bg-red-100 text-red-800\"}`,children:appointment.status===\"scheduled\"?\"รอยืนยัน\":appointment.status===\"confirmed\"?\"ยืนยันแล้ว\":appointment.status===\"completed\"?\"เสร็จสิ้น\":\"ยกเลิก\"})]},appointment.id);})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-64\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\\u0E1C\\u0E39\\u0E49\\u0E1B\\u0E48\\u0E27\\u0E22\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"(\",patientPets.length,\" \\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23)\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3 max-h-48 overflow-y-auto\",children:patientPets.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center py-4\",children:\"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"}):patientPets.slice(0,5).map(pet=>{var _pet$users,_pet$users2,_pet$users3,_pet$users4,_pet$user,_pet$users5,_pet$users6,_pet$users7;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center overflow-hidden\",children:[pet.photo_url?/*#__PURE__*/_jsx(\"img\",{src:pet.photo_url,alt:pet.name,className:\"w-full h-full object-cover\",onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='flex';}}):null,/*#__PURE__*/_jsx(\"div\",{className:`w-full h-full flex items-center justify-center ${pet.photo_url?'hidden':'flex'}`,children:/*#__PURE__*/_jsx(PawPrint,{className:\"h-4 w-4 text-green-500\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 truncate\",children:pet.name||'N/A'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[pet.species||'N/A',\" \\u2022 \",pet.breed||'N/A',pet.weight&&` • ${pet.weight} กก.`]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-xs text-gray-500\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-4 h-4 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\",children:[(_pet$users=pet.users)!==null&&_pet$users!==void 0&&_pet$users.profile_picture_url&&pet.users.profile_picture_url.startsWith('data:')?/*#__PURE__*/_jsx(\"img\",{src:pet.users.profile_picture_url,alt:(_pet$users2=pet.users)===null||_pet$users2===void 0?void 0:_pet$users2.full_name,className:\"w-full h-full object-cover\",onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='flex';}}):null,/*#__PURE__*/_jsx(\"div\",{className:`w-full h-full flex items-center justify-center ${(_pet$users3=pet.users)!==null&&_pet$users3!==void 0&&_pet$users3.profile_picture_url&&pet.users.profile_picture_url.startsWith('data:')?'hidden':'flex'}`,children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-2 w-2 text-gray-400\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\",clipRule:\"evenodd\"})})})]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u0E40\\u0E08\\u0E49\\u0E32\\u0E02\\u0E2D\\u0E07: \",((_pet$users4=pet.users)===null||_pet$users4===void 0?void 0:_pet$users4.full_name)||((_pet$user=pet.user)===null||_pet$user===void 0?void 0:_pet$user.full_name)||'N/A']}),((_pet$users5=pet.users)===null||_pet$users5===void 0?void 0:_pet$users5.email)&&` (${pet.users.email})`,((_pet$users6=pet.users)===null||_pet$users6===void 0?void 0:_pet$users6.phone)&&` • ${pet.users.phone}`]}),((_pet$users7=pet.users)===null||_pet$users7===void 0?void 0:_pet$users7.address)&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-400\",children:[\"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48: \",pet.users.address]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-400\",children:[\"\\u0E40\\u0E1E\\u0E28: \",pet.gender||'N/A',\" \\u2022\",pet.birth_date&&`เกิด: ${new Date(pet.birth_date).toLocaleDateString(\"th-TH\")} • `,\"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E40\\u0E21\\u0E37\\u0E48\\u0E2D: \",pet.created_at?new Date(pet.created_at).toLocaleDateString(\"th-TH\"):'N/A']}),pet.microchip_id&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-purple-500\",children:[\"\\u0E44\\u0E21\\u0E42\\u0E04\\u0E23\\u0E0A\\u0E34\\u0E1B: \",pet.microchip_id]}),pet.color&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-400\",children:[\"\\u0E2A\\u0E35: \",pet.color]})]})]},pet.id);})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-3\",children:\"\\u0E01\\u0E32\\u0E23\\u0E17\\u0E33\\u0E07\\u0E32\\u0E19\\u0E14\\u0E48\\u0E27\\u0E19\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(AlertCircle,{className:\"h-3 w-3 text-red-500\"})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-700\",children:[\"\\u0E23\\u0E2D\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19: \",stats.pendingAppointments]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Calendar,{className:\"h-3 w-3 text-blue-500\"})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-700\",children:[\"\\u0E27\\u0E31\\u0E19\\u0E19\\u0E35\\u0E49: \",stats.todayAppointments]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Users,{className:\"h-3 w-3 text-green-500\"})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-700\",children:[\"\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14: \",stats.totalAppointments]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-3\",children:\"\\u0E1A\\u0E17\\u0E04\\u0E27\\u0E32\\u0E21\\u0E25\\u0E48\\u0E32\\u0E2A\\u0E38\\u0E14\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:articles.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E1A\\u0E17\\u0E04\\u0E27\\u0E32\\u0E21\"}):articles.slice(0,3).map(article=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(FileText,{className:\"h-3 w-3 text-purple-500\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700 truncate\",children:article.title})]},article.id))})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"\\u0E01\\u0E32\\u0E23\\u0E41\\u0E08\\u0E49\\u0E07\\u0E40\\u0E15\\u0E37\\u0E2D\\u0E19\\u0E2A\\u0E33\\u0E04\\u0E31\\u0E0D\"}),/*#__PURE__*/_jsx(Link,{to:\"/notifications\",className:\"text-green-500 hover:text-green-600 text-sm\",children:\"\\u0E14\\u0E39\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 p-3 bg-yellow-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Clock,{className:\"h-5 w-5 text-yellow-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:\"\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E23\\u0E2D\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-bold text-yellow-600\",children:[stats.pendingAppointments,\" \\u0E23\\u0E32\\u0E22\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Calendar,{className:\"h-5 w-5 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:\"\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E27\\u0E31\\u0E19\\u0E19\\u0E35\\u0E49\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-bold text-blue-600\",children:[stats.todayAppointments,\" \\u0E23\\u0E32\\u0E22\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 p-3 bg-green-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-5 w-5 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:\"\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-bold text-green-600\",children:[stats.totalAppointments,\" \\u0E23\\u0E32\\u0E22\"]})]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit\",children:[{key:\"appointments\",label:\"นัดหมาย\"},{key:\"nutrition\",label:\"จัดการโภชนาการ\"},{key:\"articles\",label:\"จัดการบทความ\"}].map(tab=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(tab.key),className:`px-6 py-2 rounded-md text-sm font-medium transition-colors ${activeTab===tab.key?\"bg-white text-green-600 shadow-sm\":\"text-gray-600 hover:text-gray-900\"}`,children:tab.label},tab.key))})}),activeTab===\"appointments\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E02\\u0E2D\\u0E07\\u0E09\\u0E31\\u0E19\"}),appointments.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center py-12\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-16 w-16 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E08\\u0E30\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E17\\u0E35\\u0E48\\u0E19\\u0E35\\u0E48\\u0E40\\u0E21\\u0E37\\u0E48\\u0E2D\\u0E21\\u0E35\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E08\\u0E2D\\u0E07\\u0E04\\u0E34\\u0E27\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:appointments.map(appointment=>{var _appointment$pets2,_appointment$user,_appointment$user2,_appointment$user3,_appointment$user4;return/*#__PURE__*/_jsx(\"div\",{className:\"card hover:shadow-lg transition-shadow cursor-pointer\",onClick:()=>handleAppointmentClick(appointment),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Calendar,{className:\"h-6 w-6 text-blue-500\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-gray-900\",children:appointment.appointment_type===\"checkup\"?\"ตรวจสุขภาพ\":appointment.appointment_type===\"vaccination\"?\"ฉีดวัคซีน\":appointment.appointment_type===\"grooming\"?\"ตัดขน\":appointment.appointment_type===\"surgery\"?\"ผ่าตัด\":appointment.appointment_type}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-sm text-gray-600 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:new Date(appointment.appointment_date).toLocaleDateString(\"th-TH\")}),/*#__PURE__*/_jsx(\"span\",{children:new Date(appointment.appointment_date).toLocaleTimeString(\"th-TH\",{hour:\"2-digit\",minute:\"2-digit\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-sm text-gray-600 mt-1\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07: \",((_appointment$pets2=appointment.pets)===null||_appointment$pets2===void 0?void 0:_appointment$pets2.name)||'N/A']}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-4 h-4 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\",children:[(_appointment$user=appointment.user)!==null&&_appointment$user!==void 0&&_appointment$user.profile_picture_url?/*#__PURE__*/_jsx(\"img\",{src:appointment.user.profile_picture_url,alt:(_appointment$user2=appointment.user)===null||_appointment$user2===void 0?void 0:_appointment$user2.full_name,className:\"w-full h-full object-cover\",onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='flex';}}):null,/*#__PURE__*/_jsx(\"div\",{className:`w-full h-full flex items-center justify-center ${(_appointment$user3=appointment.user)!==null&&_appointment$user3!==void 0&&_appointment$user3.profile_picture_url?'hidden':'flex'}`,children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-2 w-2 text-gray-400\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\",clipRule:\"evenodd\"})})})]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u0E40\\u0E08\\u0E49\\u0E32\\u0E02\\u0E2D\\u0E07: \",((_appointment$user4=appointment.user)===null||_appointment$user4===void 0?void 0:_appointment$user4.full_name)||'N/A']})]})]}),appointment.notes&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-2\",children:appointment.notes})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[appointment.status===\"scheduled\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:e=>{e.stopPropagation();handleStatusUpdate(appointment.id,\"confirmed\");},className:\"flex items-center space-x-1 bg-green-500 text-white px-3 py-1 rounded-md text-sm hover:bg-green-600\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleStatusUpdate(appointment.id,\"cancelled\");},className:\"flex items-center space-x-1 bg-red-500 text-white px-3 py-1 rounded-md text-sm hover:bg-red-600\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"})})]}),appointment.status===\"confirmed\"&&/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleStatusUpdate(appointment.id,\"completed\");},className:\"flex items-center space-x-1 bg-blue-500 text-white px-3 py-1 rounded-md text-sm hover:bg-blue-600\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E40\\u0E2A\\u0E23\\u0E47\\u0E08\\u0E2A\\u0E34\\u0E49\\u0E19\"})}),/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 rounded-full text-xs ${appointment.status===\"scheduled\"?\"bg-yellow-100 text-yellow-800\":appointment.status===\"confirmed\"?\"bg-green-100 text-green-800\":appointment.status===\"completed\"?\"bg-gray-100 text-gray-800\":\"bg-red-100 text-red-800\"}`,children:appointment.status===\"scheduled\"?\"รอยืนยัน\":appointment.status===\"confirmed\"?\"ยืนยันแล้ว\":appointment.status===\"completed\"?\"เสร็จสิ้น\":\"ยกเลิก\"})]})]})},appointment.id);})})]}),activeTab===\"nutrition\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E42\\u0E20\\u0E0A\\u0E19\\u0E32\\u0E01\\u0E32\\u0E23\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddNutritionModal(true),className:\"btn-primary flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E04\\u0E33\\u0E41\\u0E19\\u0E30\\u0E19\\u0E33\\u0E43\\u0E2B\\u0E21\\u0E48\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 gap-6\",children:nutritionGuidelines.map(guideline=>/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:guideline.species}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"\\u0E2D\\u0E32\\u0E22\\u0E38: \",guideline.age_range]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Utensils,{className:\"h-6 w-6 text-orange-500\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u0E41\\u0E04\\u0E25\\u0E2D\\u0E23\\u0E35\\u0E48\\u0E15\\u0E48\\u0E2D\\u0E27\\u0E31\\u0E19:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[guideline.daily_calories,\" kcal\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u0E42\\u0E1B\\u0E23\\u0E15\\u0E35\\u0E19:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[guideline.protein_percentage,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u0E44\\u0E02\\u0E21\\u0E31\\u0E19:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[guideline.fat_percentage,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u0E21\\u0E37\\u0E49\\u0E2D\\u0E15\\u0E48\\u0E2D\\u0E27\\u0E31\\u0E19:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[guideline.feeding_frequency,\" \\u0E21\\u0E37\\u0E49\\u0E2D\"]})]})]}),guideline.instructions&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-gray-50 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-700\",children:guideline.instructions})})]},guideline.id))})]}),activeTab===\"articles\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center py-12\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-16 w-16 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E1A\\u0E17\\u0E04\\u0E27\\u0E32\\u0E21\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"\\u0E04\\u0E38\\u0E13\\u0E2A\\u0E32\\u0E21\\u0E32\\u0E23\\u0E16\\u0E2A\\u0E23\\u0E49\\u0E32\\u0E07, \\u0E41\\u0E01\\u0E49\\u0E44\\u0E02, \\u0E41\\u0E25\\u0E30\\u0E25\\u0E1A\\u0E1A\\u0E17\\u0E04\\u0E27\\u0E32\\u0E21\\u0E02\\u0E2D\\u0E07\\u0E04\\u0E38\\u0E13\\u0E44\\u0E14\\u0E49\\u0E08\\u0E32\\u0E01\\u0E17\\u0E35\\u0E48\\u0E19\\u0E35\\u0E48\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/admin/articles\",className:\"btn-primary\",children:\"\\u0E44\\u0E1B\\u0E17\\u0E35\\u0E48\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E1A\\u0E17\\u0E04\\u0E27\\u0E32\\u0E21\"})]})]}),showAddNutritionModal&&/*#__PURE__*/_jsx(AddNutritionModal,{onClose:()=>setShowAddNutritionModal(false),onNutritionAdded:handleNutritionAdded}),showAppointmentModal&&selectedAppointment&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900\",children:\"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAppointmentModal(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-900\",children:selectedAppointment.appointment_type===\"checkup\"?\"ตรวจสุขภาพ\":selectedAppointment.appointment_type===\"vaccination\"?\"ฉีดวัคซีน\":selectedAppointment.appointment_type===\"grooming\"?\"ตัดขน\":selectedAppointment.appointment_type===\"surgery\"?\"ผ่าตัด\":selectedAppointment.appointment_type})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"}),/*#__PURE__*/_jsx(\"span\",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${selectedAppointment.status===\"scheduled\"?\"bg-yellow-100 text-yellow-800\":selectedAppointment.status===\"confirmed\"?\"bg-green-100 text-green-800\":selectedAppointment.status===\"completed\"?\"bg-gray-100 text-gray-800\":\"bg-red-100 text-red-800\"}`,children:selectedAppointment.status===\"scheduled\"?\"รอยืนยัน\":selectedAppointment.status===\"confirmed\"?\"ยืนยันแล้ว\":selectedAppointment.status===\"completed\"?\"เสร็จสิ้น\":\"ยกเลิก\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-900\",children:new Date(selectedAppointment.appointment_date).toLocaleDateString(\"th-TH\")})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"\\u0E40\\u0E27\\u0E25\\u0E32\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-900\",children:new Date(selectedAppointment.appointment_date).toLocaleTimeString(\"th-TH\",{hour:\"2-digit\",minute:\"2-digit\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-sm text-gray-900\",children:[((_selectedAppointment$=selectedAppointment.pets)===null||_selectedAppointment$===void 0?void 0:_selectedAppointment$.name)||'N/A',\" (\",((_selectedAppointment$2=selectedAppointment.pets)===null||_selectedAppointment$2===void 0?void 0:_selectedAppointment$2.species)||'N/A',\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"\\u0E40\\u0E08\\u0E49\\u0E32\\u0E02\\u0E2D\\u0E07\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mt-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\",children:[(_selectedAppointment$3=selectedAppointment.user)!==null&&_selectedAppointment$3!==void 0&&_selectedAppointment$3.profile_picture_url?/*#__PURE__*/_jsx(\"img\",{src:selectedAppointment.user.profile_picture_url,alt:(_selectedAppointment$4=selectedAppointment.user)===null||_selectedAppointment$4===void 0?void 0:_selectedAppointment$4.full_name,className:\"w-full h-full object-cover\",onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='flex';}}):null,/*#__PURE__*/_jsx(\"div\",{className:`w-full h-full flex items-center justify-center ${(_selectedAppointment$5=selectedAppointment.user)!==null&&_selectedAppointment$5!==void 0&&_selectedAppointment$5.profile_picture_url?'hidden':'flex'}`,children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4 text-gray-400\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\",clipRule:\"evenodd\"})})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-900\",children:[((_selectedAppointment$6=selectedAppointment.user)===null||_selectedAppointment$6===void 0?void 0:_selectedAppointment$6.full_name)||'N/A',\" (\",((_selectedAppointment$7=selectedAppointment.user)===null||_selectedAppointment$7===void 0?void 0:_selectedAppointment$7.email)||'N/A',\")\"]})})]})]}),selectedAppointment.notes&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E2B\\u0E15\\u0E38\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-900\",children:selectedAppointment.notes})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAppointmentModal(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200\",children:\"\\u0E1B\\u0E34\\u0E14\"}),selectedAppointment.status===\"scheduled\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{handleStatusUpdate(selectedAppointment.id,\"confirmed\");setShowAppointmentModal(false);},className:\"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700\",children:\"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{handleStatusUpdate(selectedAppointment.id,\"cancelled\");setShowAppointmentModal(false);},className:\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700\",children:\"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\"})]}),selectedAppointment.status===\"confirmed\"&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{handleStatusUpdate(selectedAppointment.id,\"completed\");setShowAppointmentModal(false);},className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700\",children:\"\\u0E40\\u0E2A\\u0E23\\u0E47\\u0E08\\u0E2A\\u0E34\\u0E49\\u0E19\"})]})]})]})})]});};export default VetDashboard;","map":{"version":3,"names":["useState","useEffect","useCallback","Link","useAuth","apiClient","Calendar","Users","FileText","Utensils","Plus","CheckCircle","TrendingUp","Clock","AlertCircle","PawPrint","X","AddNutritionModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","VetDashboard","_selectedAppointment$","_selectedAppointment$2","_selectedAppointment$3","_selectedAppointment$4","_selectedAppointment$5","_selectedAppointment$6","_selectedAppointment$7","user","appointments","setAppointments","nutritionGuidelines","setNutritionGuidelines","articles","setArticles","patientPets","setPatientPets","stats","setStats","totalAppointments","todayAppointments","pendingAppointments","totalArticles","totalPatientPets","loading","setLoading","activeTab","setActiveTab","showAddNutritionModal","setShowAddNutritionModal","selectedAppointment","setSelectedAppointment","showAppointmentModal","setShowAppointmentModal","userImages","setUserImages","petImages","setPetImages","fetchVetData","appointmentsResponse","nutritionResponse","articlesResponse","petsResponse","Promise","allSettled","get","status","responseData","value","data","appointmentsData","Array","isArray","today","Date","setHours","filter","a","appointmentDate","appointment_date","getTime","length","prev","nutritionData","articlesData","petsData","pets","petsWithImages","all","map","pet","photo_url","startsWith","filename","includes","split","pop","response","fetch","process","env","REACT_APP_API_URL","ok","blob","reader","FileReader","resolve","onload","e","target","result","readAsDataURL","error","console","handleStatusUpdate","appointmentId","log","patch","id","_error$response","_error$response$data","message","alert","handleAppointmentClick","appointment","handleNutritionAdded","newGuideline","className","children","profile_picture_url","src","alt","full_name","onError","style","display","nextSibling","slice","_appointment$pets","onClick","name","appointment_type","toLocaleDateString","toLocaleTimeString","hour","minute","_pet$users","_pet$users2","_pet$users3","_pet$users4","_pet$user","_pet$users5","_pet$users6","_pet$users7","species","breed","weight","users","fill","viewBox","fillRule","d","clipRule","email","phone","address","gender","birth_date","created_at","microchip_id","color","article","title","to","key","label","tab","_appointment$pets2","_appointment$user","_appointment$user2","_appointment$user3","_appointment$user4","notes","stopPropagation","guideline","age_range","daily_calories","protein_percentage","fat_percentage","feeding_frequency","instructions","href","onClose","onNutritionAdded"],"sources":["D:/senior.project/pet-health-docs/frontend/src/pages/VetDashboard.js"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useCallback } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { useAuth } from \"../contexts/AuthContext\"\nimport apiClient from \"../services/api\"\nimport { Calendar, Users, FileText, Utensils, Plus, CheckCircle, TrendingUp, Clock, AlertCircle, PawPrint, X } from \"lucide-react\"\nimport AddNutritionModal from \"../components/AddNutritionModal\"\n\nconst VetDashboard = () => {\n  const { user } = useAuth()\n  const [appointments, setAppointments] = useState([])\n  const [nutritionGuidelines, setNutritionGuidelines] = useState([])\n  const [articles, setArticles] = useState([])\n  const [patientPets, setPatientPets] = useState([])\n  const [stats, setStats] = useState({\n    totalAppointments: 0,\n    todayAppointments: 0,\n    pendingAppointments: 0,\n    totalArticles: 0,\n    totalPatientPets: 0\n  })\n  const [loading, setLoading] = useState(true)\n  const [activeTab, setActiveTab] = useState(\"appointments\")\n  const [showAddNutritionModal, setShowAddNutritionModal] = useState(false)\n  const [selectedAppointment, setSelectedAppointment] = useState(null)\n  const [showAppointmentModal, setShowAppointmentModal] = useState(false)\n  const [userImages, setUserImages] = useState({})\n  const [petImages, setPetImages] = useState({})\n\n  const fetchVetData = useCallback(async () => {\n    try {\n      const [appointmentsResponse, nutritionResponse, articlesResponse, petsResponse] = await Promise.allSettled([\n        apiClient.get(\"/appointments/vet\"),\n        apiClient.get(\"/nutrition/guidelines\"),\n        apiClient.get(\"/articles\"),\n        apiClient.get(\"/pets\") // ดึงข้อมูลสัตว์เลี้ยงทั้งหมดสำหรับสัตวแพทย์\n      ])\n\n      // console.log(\"=== VetDashboard API Responses ===\")\n      // console.log(\"Appointments Response:\", appointmentsResponse)\n      // console.log(\"Nutrition Response:\", nutritionResponse)\n      // console.log(\"Articles Response:\", articlesResponse)\n\n      // ประมวลผลข้อมูล Appointments\n      if (appointmentsResponse.status === 'fulfilled') {\n        const responseData = appointmentsResponse.value.data\n        // console.log(\"Appointments Response Data:\", responseData)\n        \n        // ลองหลายรูปแบบของ response structure\n        let appointmentsData = []\n        if (responseData.appointments) {\n          appointmentsData = responseData.appointments\n        } else if (Array.isArray(responseData)) {\n          appointmentsData = responseData\n        } else if (responseData.data && Array.isArray(responseData.data)) {\n          appointmentsData = responseData.data\n        }\n        \n        // console.log(\"Processed Appointments Data:\", appointmentsData)\n        setAppointments(appointmentsData)\n        // console.log(\"Appointments state set to:\", appointmentsData.length, \"items\")\n        \n        // คำนวณสถิติ\n        const today = new Date()\n        today.setHours(0, 0, 0, 0)\n        \n        const todayAppointments = appointmentsData.filter(a => {\n          const appointmentDate = new Date(a.appointment_date)\n          appointmentDate.setHours(0, 0, 0, 0)\n          return appointmentDate.getTime() === today.getTime()\n        }).length\n\n        const pendingAppointments = appointmentsData.filter(a => a.status === 'scheduled').length\n\n        setStats(prev => ({\n          ...prev,\n          totalAppointments: appointmentsData.length,\n          todayAppointments,\n          pendingAppointments\n        }))\n      }\n\n      // ประมวลผลข้อมูล Nutrition Guidelines\n      if (nutritionResponse.status === 'fulfilled') {\n        const responseData = nutritionResponse.value.data\n        // console.log(\"Nutrition Response Data:\", responseData)\n        \n        let nutritionData = []\n        if (Array.isArray(responseData)) {\n          nutritionData = responseData\n        } else if (responseData.data && Array.isArray(responseData.data)) {\n          nutritionData = responseData.data\n        }\n        \n        // console.log(\"Processed Nutrition Data:\", nutritionData)\n        setNutritionGuidelines(nutritionData)\n        // console.log(\"Nutrition Guidelines state set to:\", nutritionData.length, \"items\")\n      }\n\n      // ประมวลผลข้อมูล Articles\n      if (articlesResponse.status === 'fulfilled') {\n        const responseData = articlesResponse.value.data\n        // console.log(\"Articles Response Data:\", responseData)\n        \n        let articlesData = []\n        if (responseData.articles) {\n          articlesData = responseData.articles\n        } else if (Array.isArray(responseData)) {\n          articlesData = responseData\n        } else if (responseData.data && Array.isArray(responseData.data)) {\n          articlesData = responseData.data\n        }\n        \n        // console.log(\"Processed Articles Data:\", articlesData)\n        setArticles(articlesData)\n        // console.log(\"Articles state set to:\", articlesData.length, \"items\")\n        setStats(prev => ({\n          ...prev,\n          totalArticles: articlesData.length\n        }))\n      }\n\n      // ประมวลผลข้อมูล Patient Pets\n      if (petsResponse.status === 'fulfilled') {\n        const responseData = petsResponse.value.data\n        // console.log(\"Pets Response Data:\", responseData)\n        \n        let petsData = []\n        if (responseData.pets) {\n          petsData = responseData.pets\n        } else if (Array.isArray(responseData)) {\n          petsData = responseData\n        } else if (responseData.data && Array.isArray(responseData.data)) {\n          petsData = responseData.data\n        }\n        \n        // Load images for pets that have photo_url\n        const petsWithImages = await Promise.all(\n          petsData.map(async (pet) => {\n            if (pet.photo_url) {\n              try {\n                // For existing images, try to fetch and convert to base64\n                if (pet.photo_url.startsWith('/uploads/') || pet.photo_url.startsWith('http://localhost:5000/api/upload/image/')) {\n                  const filename = pet.photo_url.includes('/') ? pet.photo_url.split('/').pop() : pet.photo_url\n                  const response = await fetch(`${process.env.REACT_APP_API_URL}/upload/image/${filename}`)\n                  if (response.ok) {\n                    const blob = await response.blob()\n                    const reader = new FileReader()\n                    return new Promise((resolve) => {\n                      reader.onload = (e) => {\n                        resolve({ ...pet, photo_url: e.target.result })\n                      }\n                      reader.readAsDataURL(blob)\n                    })\n                  }\n                }\n              } catch (error) {\n                console.error('Failed to load pet image:', error)\n              }\n            }\n            return pet\n          })\n        )\n        \n        // console.log(\"Processed Pets Data:\", petsWithImages)\n        // console.log(\"Sample Pet Data Structure:\", petsWithImages[0]) // ดูโครงสร้างข้อมูลตัวอย่าง\n        setPatientPets(petsWithImages)\n        // console.log(\"Patient Pets state set to:\", petsWithImages.length, \"items\")\n        setStats(prev => ({\n          ...prev,\n          totalPatientPets: petsWithImages.length\n        }))\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch vet data:\", error)\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (user) {\n      fetchVetData()\n  }\n  }, [user, fetchVetData])\n\n  const handleStatusUpdate = async (appointmentId, status) => {\n    try {\n      console.log(`Updating appointment ${appointmentId} to status: ${status}`)\n      await apiClient.patch(`/appointments/${appointmentId}/status`, { status })\n      setAppointments(appointments.map((a) => (a.id === appointmentId ? { ...a, status } : a)))\n      // อัปเดตสถิติ\n      fetchVetData()\n      console.log(`Successfully updated appointment ${appointmentId} to ${status}`)\n    } catch (error) {\n      console.error(\"Failed to update appointment status:\", error)\n      if (error.response?.data?.message) {\n        alert(`ไม่สามารถอัปเดตสถานะได้: ${error.response.data.message}`)\n      } else {\n        alert(\"เกิดข้อผิดพลาดในการอัปเดตสถานะนัดหมาย\")\n      }\n    }\n  }\n\n  const handleAppointmentClick = (appointment) => {\n    setSelectedAppointment(appointment)\n    setShowAppointmentModal(true)\n  }\n\n  const handleNutritionAdded = (newGuideline) => {\n    setNutritionGuidelines([...nutritionGuidelines, newGuideline])\n    setShowAddNutritionModal(false)\n  }\n\n  // Debug: Log current state values (commented out for production)\n  // console.log(\"=== VetDashboard Render State ===\")\n  // console.log(\"Loading:\", loading)\n  // console.log(\"Appointments:\", appointments.length, appointments)\n  // console.log(\"Nutrition Guidelines:\", nutritionGuidelines.length, nutritionGuidelines)\n  // console.log(\"Articles:\", articles.length, articles)\n  // console.log(\"Patient Pets:\", patientPets.length, patientPets)\n  // console.log(\"Stats:\", stats)\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500\"></div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\">\n              {user.profile_picture_url ? (\n                <img \n                  src={user.profile_picture_url} \n                  alt={user.full_name}\n                  className=\"w-full h-full object-cover\"\n                  onError={(e) => {\n                    e.target.style.display = 'none'\n                    e.target.nextSibling.style.display = 'flex'\n                  }}\n                />\n              ) : null}\n              <div className={`w-full h-full flex items-center justify-center ${user.profile_picture_url ? 'hidden' : 'flex'}`}>\n                <Users className=\"h-6 w-6 text-gray-400\" />\n              </div>\n            </div>\n            <div>\n          <h1 className=\"text-3xl font-bold text-gray-900\">แดชบอร์ดสัตวแพทย์</h1>\n          <p className=\"text-gray-600 mt-2\">สวัสดี, {user.full_name}</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Stats Cards - Layout แบบเดิม */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-8\">\n          {/* นัดหมายล่าสุด */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"card h-64\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold text-gray-900\">นัดหมายล่าสุด</h3>\n                <span className=\"text-sm text-gray-500\">({appointments.length} รายการ)</span>\n              </div>\n              <div className=\"space-y-3 max-h-48 overflow-y-auto\">\n                {appointments.length === 0 ? (\n                  <p className=\"text-gray-500 text-center py-4\">ยังไม่มีนัดหมาย</p>\n                ) : (\n                  appointments.slice(0, 5).map((appointment) => (\n                    <div key={appointment.id} className=\"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer\" onClick={() => handleAppointmentClick(appointment)}>\n                      <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                        <Calendar className=\"h-4 w-4 text-blue-500\" />\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-sm font-medium text-gray-900 truncate\">\n                          {appointment.pets?.name || 'N/A'} - {appointment.appointment_type === \"checkup\" ? \"ตรวจสุขภาพ\" : appointment.appointment_type}\n                        </p>\n                        <p className=\"text-xs text-gray-500\">\n                          {new Date(appointment.appointment_date).toLocaleDateString(\"th-TH\")} {new Date(appointment.appointment_date).toLocaleTimeString(\"th-TH\", { hour: \"2-digit\", minute: \"2-digit\" })}\n                        </p>\n                      </div>\n                      <span className={`px-2 py-1 text-xs rounded-full ${\n                        appointment.status === \"scheduled\" ? \"bg-yellow-100 text-yellow-800\" :\n                        appointment.status === \"confirmed\" ? \"bg-green-100 text-green-800\" :\n                        appointment.status === \"completed\" ? \"bg-gray-100 text-gray-800\" :\n                        \"bg-red-100 text-red-800\"\n                      }`}>\n                        {appointment.status === \"scheduled\" ? \"รอยืนยัน\" :\n                         appointment.status === \"confirmed\" ? \"ยืนยันแล้ว\" :\n                         appointment.status === \"completed\" ? \"เสร็จสิ้น\" : \"ยกเลิก\"}\n                      </span>\n                    </div>\n                  ))\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* สัตว์เลี้ยงผู้ป่วย */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"card h-64\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold text-gray-900\">สัตว์เลี้ยงผู้ป่วย</h3>\n                <span className=\"text-sm text-gray-500\">({patientPets.length} รายการ)</span>\n              </div>\n              <div className=\"space-y-3 max-h-48 overflow-y-auto\">\n                {patientPets.length === 0 ? (\n                  <p className=\"text-gray-500 text-center py-4\">ยังไม่มีข้อมูล</p>\n                ) : (\n                  patientPets.slice(0, 5).map((pet) => (\n                    <div key={pet.id} className=\"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg\">\n                      <div className=\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center overflow-hidden\">\n                        {pet.photo_url ? (\n                          <img \n                            src={pet.photo_url} \n                            alt={pet.name}\n                            className=\"w-full h-full object-cover\"\n                            onError={(e) => {\n                              e.target.style.display = 'none'\n                              e.target.nextSibling.style.display = 'flex'\n                            }}\n                          />\n                        ) : null}\n                        <div className={`w-full h-full flex items-center justify-center ${pet.photo_url ? 'hidden' : 'flex'}`}>\n                          <PawPrint className=\"h-4 w-4 text-green-500\" />\n                        </div>\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-sm font-medium text-gray-900 truncate\">\n                          {pet.name || 'N/A'}\n                        </p>\n                        <p className=\"text-xs text-gray-500\">\n                          {pet.species || 'N/A'} • {pet.breed || 'N/A'}\n                          {pet.weight && ` • ${pet.weight} กก.`}\n                        </p>\n                        <div className=\"flex items-center space-x-2 text-xs text-gray-500\">\n                          <div className=\"w-4 h-4 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\">\n                            {(pet.users?.profile_picture_url && pet.users.profile_picture_url.startsWith('data:')) ? (\n                              <img \n                                src={pet.users.profile_picture_url} \n                                alt={pet.users?.full_name}\n                                className=\"w-full h-full object-cover\"\n                                onError={(e) => {\n                                  e.target.style.display = 'none'\n                                  e.target.nextSibling.style.display = 'flex'\n                                }}\n                              />\n                            ) : null}\n                            <div className={`w-full h-full flex items-center justify-center ${(pet.users?.profile_picture_url && pet.users.profile_picture_url.startsWith('data:')) ? 'hidden' : 'flex'}`}>\n                              <svg className=\"h-2 w-2 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                <path fillRule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clipRule=\"evenodd\" />\n                              </svg>\n                            </div>\n                          </div>\n                          <span>เจ้าของ: {pet.users?.full_name || pet.user?.full_name || 'N/A'}</span>\n                          {pet.users?.email && ` (${pet.users.email})`}\n                          {pet.users?.phone && ` • ${pet.users.phone}`}\n                        </div>\n                        {pet.users?.address && (\n                          <p className=\"text-xs text-gray-400\">\n                            ที่อยู่: {pet.users.address}\n                          </p>\n                        )}\n                        <p className=\"text-xs text-gray-400\">\n                          เพศ: {pet.gender || 'N/A'} • \n                          {pet.birth_date && `เกิด: ${new Date(pet.birth_date).toLocaleDateString(\"th-TH\")} • `}\n                          เพิ่มเมื่อ: {pet.created_at ? new Date(pet.created_at).toLocaleDateString(\"th-TH\") : 'N/A'}\n                        </p>\n                        {pet.microchip_id && (\n                          <p className=\"text-xs text-purple-500\">\n                            ไมโครชิป: {pet.microchip_id}\n                          </p>\n                        )}\n                        {pet.color && (\n                          <p className=\"text-xs text-gray-400\">\n                            สี: {pet.color}\n                          </p>\n                        )}\n                      </div>\n                    </div>\n                  ))\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* การทำงานด่วน + บทความล่าสุด */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"space-y-4\">\n              {/* การทำงานด่วน */}\n          <div className=\"card\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">การทำงานด่วน</h3>\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center space-x-2\">\n                    <div className=\"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center\">\n                      <AlertCircle className=\"h-3 w-3 text-red-500\" />\n                    </div>\n                    <span className=\"text-sm text-gray-700\">รอยืนยัน: {stats.pendingAppointments}</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <div className=\"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center\">\n                      <Calendar className=\"h-3 w-3 text-blue-500\" />\n                    </div>\n                    <span className=\"text-sm text-gray-700\">วันนี้: {stats.todayAppointments}</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <div className=\"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center\">\n                      <Users className=\"h-3 w-3 text-green-500\" />\n                    </div>\n                    <span className=\"text-sm text-gray-700\">ทั้งหมด: {stats.totalAppointments}</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* บทความล่าสุด */}\n              <div className=\"card\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">บทความล่าสุด</h3>\n                <div className=\"space-y-2\">\n                  {articles.length === 0 ? (\n                    <p className=\"text-gray-500 text-sm\">ยังไม่มีบทความ</p>\n                  ) : (\n                    articles.slice(0, 3).map((article) => (\n                      <div key={article.id} className=\"flex items-center space-x-2\">\n                        <div className=\"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center\">\n                          <FileText className=\"h-3 w-3 text-purple-500\" />\n                        </div>\n                        <span className=\"text-sm text-gray-700 truncate\">{article.title}</span>\n                      </div>\n                    ))\n                  )}\n                </div>\n              </div>\n              </div>\n            </div>\n          </div>\n\n        {/* การแจ้งเตือนสำคัญ */}\n        <div className=\"mb-8\">\n          <div className=\"card\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">การแจ้งเตือนสำคัญ</h3>\n              <Link to=\"/notifications\" className=\"text-green-500 hover:text-green-600 text-sm\">\n                ดูทั้งหมด\n              </Link>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              {/* นัดหมายรอยืนยัน */}\n              <div className=\"flex items-center space-x-3 p-3 bg-yellow-50 rounded-lg\">\n                <div className=\"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center\">\n                  <Clock className=\"h-5 w-5 text-yellow-600\" />\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-900\">นัดหมายรอยืนยัน</p>\n                  <p className=\"text-lg font-bold text-yellow-600\">{stats.pendingAppointments} ราย</p>\n                </div>\n              </div>\n\n              {/* นัดหมายวันนี้ */}\n              <div className=\"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg\">\n                <div className=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\">\n                  <Calendar className=\"h-5 w-5 text-blue-600\" />\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-900\">นัดหมายวันนี้</p>\n                  <p className=\"text-lg font-bold text-blue-600\">{stats.todayAppointments} ราย</p>\n                </div>\n              </div>\n\n              {/* สถิติรวม */}\n              <div className=\"flex items-center space-x-3 p-3 bg-green-50 rounded-lg\">\n                <div className=\"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center\">\n                  <TrendingUp className=\"h-5 w-5 text-green-600\" />\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-900\">นัดหมายทั้งหมด</p>\n                  <p className=\"text-lg font-bold text-green-600\">{stats.totalAppointments} ราย</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"mb-8\">\n          <div className=\"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit\">\n            {[\n              { key: \"appointments\", label: \"นัดหมาย\" },\n              { key: \"nutrition\", label: \"จัดการโภชนาการ\" },\n              { key: \"articles\", label: \"จัดการบทความ\" },\n            ].map((tab) => (\n              <button\n                key={tab.key}\n                onClick={() => setActiveTab(tab.key)}\n                className={`px-6 py-2 rounded-md text-sm font-medium transition-colors ${\n                  activeTab === tab.key ? \"bg-white text-green-600 shadow-sm\" : \"text-gray-600 hover:text-gray-900\"\n                }`}\n              >\n                {tab.label}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Tab Content */}\n        {activeTab === \"appointments\" && (\n          <div className=\"space-y-4\">\n            <h2 className=\"text-2xl font-bold text-gray-900\">นัดหมายของฉัน</h2>\n            {appointments.length === 0 ? (\n              <div className=\"card text-center py-12\">\n                <Calendar className=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">ยังไม่มีนัดหมาย</h3>\n                <p className=\"text-gray-600\">นัดหมายจะแสดงที่นี่เมื่อมีผู้ใช้จองคิว</p>\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {appointments.map((appointment) => (\n                  <div key={appointment.id} className=\"card hover:shadow-lg transition-shadow cursor-pointer\" onClick={() => handleAppointmentClick(appointment)}>\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center space-x-4\">\n                        <div className=\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center\">\n                          <Calendar className=\"h-6 w-6 text-blue-500\" />\n                        </div>\n                        <div className=\"flex-1\">\n                          <h4 className=\"text-lg font-semibold text-gray-900\">\n                            {appointment.appointment_type === \"checkup\" ? \"ตรวจสุขภาพ\" : \n                             appointment.appointment_type === \"vaccination\" ? \"ฉีดวัคซีน\" :\n                             appointment.appointment_type === \"grooming\" ? \"ตัดขน\" :\n                             appointment.appointment_type === \"surgery\" ? \"ผ่าตัด\" :\n                             appointment.appointment_type}\n                          </h4>\n                          <div className=\"flex items-center space-x-4 text-sm text-gray-600 mt-1\">\n                            <span>{new Date(appointment.appointment_date).toLocaleDateString(\"th-TH\")}</span>\n                            <span>\n                              {new Date(appointment.appointment_date).toLocaleTimeString(\"th-TH\", {\n                                hour: \"2-digit\",\n                                minute: \"2-digit\",\n                              })}\n                            </span>\n                          </div>\n                          <div className=\"flex items-center space-x-4 text-sm text-gray-600 mt-1\">\n                            <span>สัตว์เลี้ยง: {appointment.pets?.name || 'N/A'}</span>\n                            <div className=\"flex items-center space-x-2\">\n                              <div className=\"w-4 h-4 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\">\n                                {appointment.user?.profile_picture_url ? (\n                                  <img \n                                    src={appointment.user.profile_picture_url} \n                                    alt={appointment.user?.full_name}\n                                    className=\"w-full h-full object-cover\"\n                                    onError={(e) => {\n                                      e.target.style.display = 'none'\n                                      e.target.nextSibling.style.display = 'flex'\n                                    }}\n                                  />\n                                ) : null}\n                                <div className={`w-full h-full flex items-center justify-center ${appointment.user?.profile_picture_url ? 'hidden' : 'flex'}`}>\n                                  <svg className=\"h-2 w-2 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                    <path fillRule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clipRule=\"evenodd\" />\n                                  </svg>\n                                </div>\n                              </div>\n                              <span>เจ้าของ: {appointment.user?.full_name || 'N/A'}</span>\n                            </div>\n                          </div>\n                          {appointment.notes && <p className=\"text-sm text-gray-600 mt-2\">{appointment.notes}</p>}\n                        </div>\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        {appointment.status === \"scheduled\" && (\n                          <>\n                            <button\n                              onClick={(e) => {\n                                e.stopPropagation()\n                                handleStatusUpdate(appointment.id, \"confirmed\")\n                              }}\n                              className=\"flex items-center space-x-1 bg-green-500 text-white px-3 py-1 rounded-md text-sm hover:bg-green-600\"\n                            >\n                              <CheckCircle className=\"h-4 w-4\" />\n                              <span>ยืนยัน</span>\n                            </button>\n                            <button\n                              onClick={(e) => {\n                                e.stopPropagation()\n                                handleStatusUpdate(appointment.id, \"cancelled\")\n                              }}\n                              className=\"flex items-center space-x-1 bg-red-500 text-white px-3 py-1 rounded-md text-sm hover:bg-red-600\"\n                            >\n                              <span>ยกเลิก</span>\n                            </button>\n                          </>\n                        )}\n                        {appointment.status === \"confirmed\" && (\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation()\n                              handleStatusUpdate(appointment.id, \"completed\")\n                            }}\n                            className=\"flex items-center space-x-1 bg-blue-500 text-white px-3 py-1 rounded-md text-sm hover:bg-blue-600\"\n                          >\n                            <span>เสร็จสิ้น</span>\n                          </button>\n                        )}\n                        <span\n                          className={`px-2 py-1 rounded-full text-xs ${\n                            appointment.status === \"scheduled\"\n                              ? \"bg-yellow-100 text-yellow-800\"\n                              : appointment.status === \"confirmed\"\n                                ? \"bg-green-100 text-green-800\"\n                                : appointment.status === \"completed\"\n                                  ? \"bg-gray-100 text-gray-800\"\n                                  : \"bg-red-100 text-red-800\"\n                          }`}\n                        >\n                          {appointment.status === \"scheduled\"\n                            ? \"รอยืนยัน\"\n                            : appointment.status === \"confirmed\"\n                              ? \"ยืนยันแล้ว\"\n                              : appointment.status === \"completed\"\n                                ? \"เสร็จสิ้น\"\n                                : \"ยกเลิก\"}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {activeTab === \"nutrition\" && (\n          <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n              <h2 className=\"text-2xl font-bold text-gray-900\">จัดการข้อมูลโภชนาการ</h2>\n              <button\n                onClick={() => setShowAddNutritionModal(true)}\n                className=\"btn-primary flex items-center space-x-2\"\n              >\n                <Plus className=\"h-4 w-4\" />\n                <span>เพิ่มคำแนะนำใหม่</span>\n              </button>\n            </div>\n\n            <div className=\"grid md:grid-cols-2 gap-6\">\n              {nutritionGuidelines.map((guideline) => (\n                <div key={guideline.id} className=\"card\">\n                  <div className=\"flex items-start justify-between mb-4\">\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-900\">{guideline.species}</h3>\n                      <p className=\"text-gray-600\">อายุ: {guideline.age_range}</p>\n                    </div>\n                    <div className=\"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center\">\n                      <Utensils className=\"h-6 w-6 text-orange-500\" />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2 text-sm\">\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-600\">แคลอรี่ต่อวัน:</span>\n                      <span className=\"font-medium\">{guideline.daily_calories} kcal</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-600\">โปรตีน:</span>\n                      <span className=\"font-medium\">{guideline.protein_percentage}%</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-600\">ไขมัน:</span>\n                      <span className=\"font-medium\">{guideline.fat_percentage}%</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-600\">มื้อต่อวัน:</span>\n                      <span className=\"font-medium\">{guideline.feeding_frequency} มื้อ</span>\n                    </div>\n                  </div>\n\n                  {guideline.instructions && (\n                    <div className=\"mt-4 p-3 bg-gray-50 rounded-lg\">\n                      <p className=\"text-sm text-gray-700\">{guideline.instructions}</p>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {activeTab === \"articles\" && (\n           <div className=\"card text-center py-12\">\n               <FileText className=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\n               <h3 className=\"text-lg font-medium text-gray-900 mb-2\">จัดการบทความ</h3>\n               <p className=\"text-gray-600 mb-4\">คุณสามารถสร้าง, แก้ไข, และลบบทความของคุณได้จากที่นี่</p>\n               <a href=\"/admin/articles\" className=\"btn-primary\">ไปที่หน้าจัดการบทความ</a>\n           </div>\n        )}\n\n      </div>\n\n      {/* Add Nutrition Modal */}\n      {showAddNutritionModal && (\n        <AddNutritionModal onClose={() => setShowAddNutritionModal(false)} onNutritionAdded={handleNutritionAdded} />\n      )}\n\n      {/* Appointment Detail Modal */}\n      {showAppointmentModal && selectedAppointment && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-xl font-bold text-gray-900\">รายละเอียดนัดหมาย</h3>\n              <button\n                onClick={() => setShowAppointmentModal(false)}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <X className=\"h-6 w-6\" />\n              </button>\n            </div>\n            \n            <div className=\"space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">ประเภทนัดหมาย</label>\n                  <p className=\"mt-1 text-sm text-gray-900\">\n                    {selectedAppointment.appointment_type === \"checkup\" ? \"ตรวจสุขภาพ\" : \n                     selectedAppointment.appointment_type === \"vaccination\" ? \"ฉีดวัคซีน\" :\n                     selectedAppointment.appointment_type === \"grooming\" ? \"ตัดขน\" :\n                     selectedAppointment.appointment_type === \"surgery\" ? \"ผ่าตัด\" :\n                     selectedAppointment.appointment_type}\n                  </p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">สถานะ</label>\n                  <span\n                    className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                      selectedAppointment.status === \"scheduled\"\n                        ? \"bg-yellow-100 text-yellow-800\"\n                        : selectedAppointment.status === \"confirmed\"\n                          ? \"bg-green-100 text-green-800\"\n                          : selectedAppointment.status === \"completed\"\n                            ? \"bg-gray-100 text-gray-800\"\n                            : \"bg-red-100 text-red-800\"\n                    }`}\n                  >\n                    {selectedAppointment.status === \"scheduled\"\n                      ? \"รอยืนยัน\"\n                      : selectedAppointment.status === \"confirmed\"\n                        ? \"ยืนยันแล้ว\"\n                        : selectedAppointment.status === \"completed\"\n                          ? \"เสร็จสิ้น\"\n                          : \"ยกเลิก\"}\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">วันที่</label>\n                  <p className=\"mt-1 text-sm text-gray-900\">\n                    {new Date(selectedAppointment.appointment_date).toLocaleDateString(\"th-TH\")}\n                  </p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">เวลา</label>\n                  <p className=\"mt-1 text-sm text-gray-900\">\n                    {new Date(selectedAppointment.appointment_date).toLocaleTimeString(\"th-TH\", {\n                      hour: \"2-digit\",\n                      minute: \"2-digit\",\n                    })}\n                  </p>\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">สัตว์เลี้ยง</label>\n                <p className=\"mt-1 text-sm text-gray-900\">\n                  {selectedAppointment.pets?.name || 'N/A'} ({selectedAppointment.pets?.species || 'N/A'})\n                </p>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">เจ้าของ</label>\n                <div className=\"flex items-center space-x-3 mt-1\">\n                  <div className=\"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\">\n                    {selectedAppointment.user?.profile_picture_url ? (\n                      <img \n                        src={selectedAppointment.user.profile_picture_url} \n                        alt={selectedAppointment.user?.full_name}\n                        className=\"w-full h-full object-cover\"\n                        onError={(e) => {\n                          e.target.style.display = 'none'\n                          e.target.nextSibling.style.display = 'flex'\n                        }}\n                      />\n                    ) : null}\n                    <div className={`w-full h-full flex items-center justify-center ${selectedAppointment.user?.profile_picture_url ? 'hidden' : 'flex'}`}>\n                      <svg className=\"h-4 w-4 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clipRule=\"evenodd\" />\n                      </svg>\n                    </div>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-900\">\n                      {selectedAppointment.user?.full_name || 'N/A'} ({selectedAppointment.user?.email || 'N/A'})\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              {selectedAppointment.notes && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">หมายเหตุ</label>\n                  <p className=\"mt-1 text-sm text-gray-900\">{selectedAppointment.notes}</p>\n                </div>\n              )}\n\n              <div className=\"flex justify-end space-x-3 pt-4\">\n                <button\n                  onClick={() => setShowAppointmentModal(false)}\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200\"\n                >\n                  ปิด\n                </button>\n                {selectedAppointment.status === \"scheduled\" && (\n                  <>\n                    <button\n                      onClick={() => {\n                        handleStatusUpdate(selectedAppointment.id, \"confirmed\")\n                        setShowAppointmentModal(false)\n                      }}\n                      className=\"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700\"\n                    >\n                      ยืนยันนัดหมาย\n                    </button>\n                    <button\n                      onClick={() => {\n                        handleStatusUpdate(selectedAppointment.id, \"cancelled\")\n                        setShowAppointmentModal(false)\n                      }}\n                      className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700\"\n                    >\n                      ยกเลิกนัดหมาย\n                    </button>\n                  </>\n                )}\n                {selectedAppointment.status === \"confirmed\" && (\n                  <button\n                    onClick={() => {\n                      handleStatusUpdate(selectedAppointment.id, \"completed\")\n                      setShowAppointmentModal(false)\n                    }}\n                    className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700\"\n                  >\n                    เสร็จสิ้น\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default VetDashboard\n"],"mappings":"AAAA,YAAY,CAEZ,OAASA,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CACxD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,OAAO,KAAQ,yBAAyB,CACjD,MAAO,CAAAC,SAAS,KAAM,iBAAiB,CACvC,OAASC,QAAQ,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,IAAI,CAAEC,WAAW,CAAEC,UAAU,CAAEC,KAAK,CAAEC,WAAW,CAAEC,QAAQ,CAAEC,CAAC,KAAQ,cAAc,CAClI,MAAO,CAAAC,iBAAiB,KAAM,iCAAiC,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE/D,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,KAAAC,qBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CACzB,KAAM,CAAEC,IAAK,CAAC,CAAG5B,OAAO,CAAC,CAAC,CAC1B,KAAM,CAAC6B,YAAY,CAAEC,eAAe,CAAC,CAAGlC,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACmC,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGpC,QAAQ,CAAC,EAAE,CAAC,CAClE,KAAM,CAACqC,QAAQ,CAAEC,WAAW,CAAC,CAAGtC,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACuC,WAAW,CAAEC,cAAc,CAAC,CAAGxC,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACyC,KAAK,CAAEC,QAAQ,CAAC,CAAG1C,QAAQ,CAAC,CACjC2C,iBAAiB,CAAE,CAAC,CACpBC,iBAAiB,CAAE,CAAC,CACpBC,mBAAmB,CAAE,CAAC,CACtBC,aAAa,CAAE,CAAC,CAChBC,gBAAgB,CAAE,CACpB,CAAC,CAAC,CACF,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGjD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACkD,SAAS,CAAEC,YAAY,CAAC,CAAGnD,QAAQ,CAAC,cAAc,CAAC,CAC1D,KAAM,CAACoD,qBAAqB,CAAEC,wBAAwB,CAAC,CAAGrD,QAAQ,CAAC,KAAK,CAAC,CACzE,KAAM,CAACsD,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGvD,QAAQ,CAAC,IAAI,CAAC,CACpE,KAAM,CAACwD,oBAAoB,CAAEC,uBAAuB,CAAC,CAAGzD,QAAQ,CAAC,KAAK,CAAC,CACvE,KAAM,CAAC0D,UAAU,CAAEC,aAAa,CAAC,CAAG3D,QAAQ,CAAC,CAAC,CAAC,CAAC,CAChD,KAAM,CAAC4D,SAAS,CAAEC,YAAY,CAAC,CAAG7D,QAAQ,CAAC,CAAC,CAAC,CAAC,CAE9C,KAAM,CAAA8D,YAAY,CAAG5D,WAAW,CAAC,SAAY,CAC3C,GAAI,CACF,KAAM,CAAC6D,oBAAoB,CAAEC,iBAAiB,CAAEC,gBAAgB,CAAEC,YAAY,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,UAAU,CAAC,CACzG/D,SAAS,CAACgE,GAAG,CAAC,mBAAmB,CAAC,CAClChE,SAAS,CAACgE,GAAG,CAAC,uBAAuB,CAAC,CACtChE,SAAS,CAACgE,GAAG,CAAC,WAAW,CAAC,CAC1BhE,SAAS,CAACgE,GAAG,CAAC,OAAO,CAAE;AAAA,CACxB,CAAC,CAEF;AACA;AACA;AACA;AAEA;AACA,GAAIN,oBAAoB,CAACO,MAAM,GAAK,WAAW,CAAE,CAC/C,KAAM,CAAAC,YAAY,CAAGR,oBAAoB,CAACS,KAAK,CAACC,IAAI,CACpD;AAEA;AACA,GAAI,CAAAC,gBAAgB,CAAG,EAAE,CACzB,GAAIH,YAAY,CAACtC,YAAY,CAAE,CAC7ByC,gBAAgB,CAAGH,YAAY,CAACtC,YAAY,CAC9C,CAAC,IAAM,IAAI0C,KAAK,CAACC,OAAO,CAACL,YAAY,CAAC,CAAE,CACtCG,gBAAgB,CAAGH,YAAY,CACjC,CAAC,IAAM,IAAIA,YAAY,CAACE,IAAI,EAAIE,KAAK,CAACC,OAAO,CAACL,YAAY,CAACE,IAAI,CAAC,CAAE,CAChEC,gBAAgB,CAAGH,YAAY,CAACE,IAAI,CACtC,CAEA;AACAvC,eAAe,CAACwC,gBAAgB,CAAC,CACjC;AAEA;AACA,KAAM,CAAAG,KAAK,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CACxBD,KAAK,CAACE,QAAQ,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAE1B,KAAM,CAAAnC,iBAAiB,CAAG8B,gBAAgB,CAACM,MAAM,CAACC,CAAC,EAAI,CACrD,KAAM,CAAAC,eAAe,CAAG,GAAI,CAAAJ,IAAI,CAACG,CAAC,CAACE,gBAAgB,CAAC,CACpDD,eAAe,CAACH,QAAQ,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACpC,MAAO,CAAAG,eAAe,CAACE,OAAO,CAAC,CAAC,GAAKP,KAAK,CAACO,OAAO,CAAC,CAAC,CACtD,CAAC,CAAC,CAACC,MAAM,CAET,KAAM,CAAAxC,mBAAmB,CAAG6B,gBAAgB,CAACM,MAAM,CAACC,CAAC,EAAIA,CAAC,CAACX,MAAM,GAAK,WAAW,CAAC,CAACe,MAAM,CAEzF3C,QAAQ,CAAC4C,IAAI,GAAK,CAChB,GAAGA,IAAI,CACP3C,iBAAiB,CAAE+B,gBAAgB,CAACW,MAAM,CAC1CzC,iBAAiB,CACjBC,mBACF,CAAC,CAAC,CAAC,CACL,CAEA;AACA,GAAImB,iBAAiB,CAACM,MAAM,GAAK,WAAW,CAAE,CAC5C,KAAM,CAAAC,YAAY,CAAGP,iBAAiB,CAACQ,KAAK,CAACC,IAAI,CACjD;AAEA,GAAI,CAAAc,aAAa,CAAG,EAAE,CACtB,GAAIZ,KAAK,CAACC,OAAO,CAACL,YAAY,CAAC,CAAE,CAC/BgB,aAAa,CAAGhB,YAAY,CAC9B,CAAC,IAAM,IAAIA,YAAY,CAACE,IAAI,EAAIE,KAAK,CAACC,OAAO,CAACL,YAAY,CAACE,IAAI,CAAC,CAAE,CAChEc,aAAa,CAAGhB,YAAY,CAACE,IAAI,CACnC,CAEA;AACArC,sBAAsB,CAACmD,aAAa,CAAC,CACrC;AACF,CAEA;AACA,GAAItB,gBAAgB,CAACK,MAAM,GAAK,WAAW,CAAE,CAC3C,KAAM,CAAAC,YAAY,CAAGN,gBAAgB,CAACO,KAAK,CAACC,IAAI,CAChD;AAEA,GAAI,CAAAe,YAAY,CAAG,EAAE,CACrB,GAAIjB,YAAY,CAAClC,QAAQ,CAAE,CACzBmD,YAAY,CAAGjB,YAAY,CAAClC,QAAQ,CACtC,CAAC,IAAM,IAAIsC,KAAK,CAACC,OAAO,CAACL,YAAY,CAAC,CAAE,CACtCiB,YAAY,CAAGjB,YAAY,CAC7B,CAAC,IAAM,IAAIA,YAAY,CAACE,IAAI,EAAIE,KAAK,CAACC,OAAO,CAACL,YAAY,CAACE,IAAI,CAAC,CAAE,CAChEe,YAAY,CAAGjB,YAAY,CAACE,IAAI,CAClC,CAEA;AACAnC,WAAW,CAACkD,YAAY,CAAC,CACzB;AACA9C,QAAQ,CAAC4C,IAAI,GAAK,CAChB,GAAGA,IAAI,CACPxC,aAAa,CAAE0C,YAAY,CAACH,MAC9B,CAAC,CAAC,CAAC,CACL,CAEA;AACA,GAAInB,YAAY,CAACI,MAAM,GAAK,WAAW,CAAE,CACvC,KAAM,CAAAC,YAAY,CAAGL,YAAY,CAACM,KAAK,CAACC,IAAI,CAC5C;AAEA,GAAI,CAAAgB,QAAQ,CAAG,EAAE,CACjB,GAAIlB,YAAY,CAACmB,IAAI,CAAE,CACrBD,QAAQ,CAAGlB,YAAY,CAACmB,IAAI,CAC9B,CAAC,IAAM,IAAIf,KAAK,CAACC,OAAO,CAACL,YAAY,CAAC,CAAE,CACtCkB,QAAQ,CAAGlB,YAAY,CACzB,CAAC,IAAM,IAAIA,YAAY,CAACE,IAAI,EAAIE,KAAK,CAACC,OAAO,CAACL,YAAY,CAACE,IAAI,CAAC,CAAE,CAChEgB,QAAQ,CAAGlB,YAAY,CAACE,IAAI,CAC9B,CAEA;AACA,KAAM,CAAAkB,cAAc,CAAG,KAAM,CAAAxB,OAAO,CAACyB,GAAG,CACtCH,QAAQ,CAACI,GAAG,CAAC,KAAO,CAAAC,GAAG,EAAK,CAC1B,GAAIA,GAAG,CAACC,SAAS,CAAE,CACjB,GAAI,CACF;AACA,GAAID,GAAG,CAACC,SAAS,CAACC,UAAU,CAAC,WAAW,CAAC,EAAIF,GAAG,CAACC,SAAS,CAACC,UAAU,CAAC,yCAAyC,CAAC,CAAE,CAChH,KAAM,CAAAC,QAAQ,CAAGH,GAAG,CAACC,SAAS,CAACG,QAAQ,CAAC,GAAG,CAAC,CAAGJ,GAAG,CAACC,SAAS,CAACI,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC,CAAGN,GAAG,CAACC,SAAS,CAC7F,KAAM,CAAAM,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,iBAAiBR,QAAQ,EAAE,CAAC,CACzF,GAAII,QAAQ,CAACK,EAAE,CAAE,CACf,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAN,QAAQ,CAACM,IAAI,CAAC,CAAC,CAClC,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/B,MAAO,IAAI,CAAA1C,OAAO,CAAE2C,OAAO,EAAK,CAC9BF,MAAM,CAACG,MAAM,CAAIC,CAAC,EAAK,CACrBF,OAAO,CAAC,CAAE,GAAGhB,GAAG,CAAEC,SAAS,CAAEiB,CAAC,CAACC,MAAM,CAACC,MAAO,CAAC,CAAC,CACjD,CAAC,CACDN,MAAM,CAACO,aAAa,CAACR,IAAI,CAAC,CAC5B,CAAC,CAAC,CACJ,CACF,CACF,CAAE,MAAOS,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACnD,CACF,CACA,MAAO,CAAAtB,GAAG,CACZ,CAAC,CACH,CAAC,CAED;AACA;AACAtD,cAAc,CAACmD,cAAc,CAAC,CAC9B;AACAjD,QAAQ,CAAC4C,IAAI,GAAK,CAChB,GAAGA,IAAI,CACPvC,gBAAgB,CAAE4C,cAAc,CAACN,MACnC,CAAC,CAAC,CAAC,CACL,CACF,CAAE,MAAO+B,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACnD,CAAC,OAAS,CACRnE,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,EAAE,CAAC,CAENhD,SAAS,CAAC,IAAM,CACd,GAAI+B,IAAI,CAAE,CACR8B,YAAY,CAAC,CAAC,CAClB,CACA,CAAC,CAAE,CAAC9B,IAAI,CAAE8B,YAAY,CAAC,CAAC,CAExB,KAAM,CAAAwD,kBAAkB,CAAG,KAAAA,CAAOC,aAAa,CAAEjD,MAAM,GAAK,CAC1D,GAAI,CACF+C,OAAO,CAACG,GAAG,CAAC,wBAAwBD,aAAa,eAAejD,MAAM,EAAE,CAAC,CACzE,KAAM,CAAAjE,SAAS,CAACoH,KAAK,CAAC,iBAAiBF,aAAa,SAAS,CAAE,CAAEjD,MAAO,CAAC,CAAC,CAC1EpC,eAAe,CAACD,YAAY,CAAC4D,GAAG,CAAEZ,CAAC,EAAMA,CAAC,CAACyC,EAAE,GAAKH,aAAa,CAAG,CAAE,GAAGtC,CAAC,CAAEX,MAAO,CAAC,CAAGW,CAAE,CAAC,CAAC,CACzF;AACAnB,YAAY,CAAC,CAAC,CACduD,OAAO,CAACG,GAAG,CAAC,oCAAoCD,aAAa,OAAOjD,MAAM,EAAE,CAAC,CAC/E,CAAE,MAAO8C,KAAK,CAAE,KAAAO,eAAA,CAAAC,oBAAA,CACdP,OAAO,CAACD,KAAK,CAAC,sCAAsC,CAAEA,KAAK,CAAC,CAC5D,IAAAO,eAAA,CAAIP,KAAK,CAACf,QAAQ,UAAAsB,eAAA,YAAAC,oBAAA,CAAdD,eAAA,CAAgBlD,IAAI,UAAAmD,oBAAA,WAApBA,oBAAA,CAAsBC,OAAO,CAAE,CACjCC,KAAK,CAAC,4BAA4BV,KAAK,CAACf,QAAQ,CAAC5B,IAAI,CAACoD,OAAO,EAAE,CAAC,CAClE,CAAC,IAAM,CACLC,KAAK,CAAC,uCAAuC,CAAC,CAChD,CACF,CACF,CAAC,CAED,KAAM,CAAAC,sBAAsB,CAAIC,WAAW,EAAK,CAC9CzE,sBAAsB,CAACyE,WAAW,CAAC,CACnCvE,uBAAuB,CAAC,IAAI,CAAC,CAC/B,CAAC,CAED,KAAM,CAAAwE,oBAAoB,CAAIC,YAAY,EAAK,CAC7C9F,sBAAsB,CAAC,CAAC,GAAGD,mBAAmB,CAAE+F,YAAY,CAAC,CAAC,CAC9D7E,wBAAwB,CAAC,KAAK,CAAC,CACjC,CAAC,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAIL,OAAO,CAAE,CACX,mBACE7B,IAAA,QAAKgH,SAAS,CAAC,+CAA+C,CAAAC,QAAA,cAC5DjH,IAAA,QAAKgH,SAAS,CAAC,iEAAiE,CAAM,CAAC,CACpF,CAAC,CAEV,CAEA,mBACE9G,KAAA,QAAK8G,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3C/G,KAAA,QAAK8G,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eAErDjH,IAAA,QAAKgH,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB/G,KAAA,QAAK8G,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C/G,KAAA,QAAK8G,SAAS,CAAC,qFAAqF,CAAAC,QAAA,EACjGpG,IAAI,CAACqG,mBAAmB,cACvBlH,IAAA,QACEmH,GAAG,CAAEtG,IAAI,CAACqG,mBAAoB,CAC9BE,GAAG,CAAEvG,IAAI,CAACwG,SAAU,CACpBL,SAAS,CAAC,4BAA4B,CACtCM,OAAO,CAAGzB,CAAC,EAAK,CACdA,CAAC,CAACC,MAAM,CAACyB,KAAK,CAACC,OAAO,CAAG,MAAM,CAC/B3B,CAAC,CAACC,MAAM,CAAC2B,WAAW,CAACF,KAAK,CAACC,OAAO,CAAG,MAAM,CAC7C,CAAE,CACH,CAAC,CACA,IAAI,cACRxH,IAAA,QAAKgH,SAAS,CAAE,kDAAkDnG,IAAI,CAACqG,mBAAmB,CAAG,QAAQ,CAAG,MAAM,EAAG,CAAAD,QAAA,cAC/GjH,IAAA,CAACZ,KAAK,EAAC4H,SAAS,CAAC,uBAAuB,CAAE,CAAC,CACxC,CAAC,EACH,CAAC,cACN9G,KAAA,QAAA+G,QAAA,eACFjH,IAAA,OAAIgH,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,wGAAiB,CAAI,CAAC,cACvE/G,KAAA,MAAG8G,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EAAC,wCAAQ,CAACpG,IAAI,CAACwG,SAAS,EAAI,CAAC,EACvD,CAAC,EACH,CAAC,CACH,CAAC,cAGNnH,KAAA,QAAK8G,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eAEzDjH,IAAA,QAAKgH,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5B/G,KAAA,QAAK8G,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB/G,KAAA,QAAK8G,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDjH,IAAA,OAAIgH,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,gFAAa,CAAI,CAAC,cACtE/G,KAAA,SAAM8G,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,GAAC,CAACnG,YAAY,CAACoD,MAAM,CAAC,wCAAQ,EAAM,CAAC,EAC1E,CAAC,cACNlE,IAAA,QAAKgH,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAChDnG,YAAY,CAACoD,MAAM,GAAK,CAAC,cACxBlE,IAAA,MAAGgH,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,4FAAe,CAAG,CAAC,CAEjEnG,YAAY,CAAC4G,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAChD,GAAG,CAAEmC,WAAW,OAAAc,iBAAA,oBACvCzH,KAAA,QAA0B8G,SAAS,CAAC,4EAA4E,CAACY,OAAO,CAAEA,CAAA,GAAMhB,sBAAsB,CAACC,WAAW,CAAE,CAAAI,QAAA,eAClKjH,IAAA,QAAKgH,SAAS,CAAC,mEAAmE,CAAAC,QAAA,cAChFjH,IAAA,CAACb,QAAQ,EAAC6H,SAAS,CAAC,uBAAuB,CAAE,CAAC,CAC3C,CAAC,cACN9G,KAAA,QAAK8G,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B/G,KAAA,MAAG8G,SAAS,CAAC,4CAA4C,CAAAC,QAAA,EACtD,EAAAU,iBAAA,CAAAd,WAAW,CAACtC,IAAI,UAAAoD,iBAAA,iBAAhBA,iBAAA,CAAkBE,IAAI,GAAI,KAAK,CAAC,KAAG,CAAChB,WAAW,CAACiB,gBAAgB,GAAK,SAAS,CAAG,YAAY,CAAGjB,WAAW,CAACiB,gBAAgB,EAC5H,CAAC,cACJ5H,KAAA,MAAG8G,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EACjC,GAAI,CAAAtD,IAAI,CAACkD,WAAW,CAAC7C,gBAAgB,CAAC,CAAC+D,kBAAkB,CAAC,OAAO,CAAC,CAAC,GAAC,CAAC,GAAI,CAAApE,IAAI,CAACkD,WAAW,CAAC7C,gBAAgB,CAAC,CAACgE,kBAAkB,CAAC,OAAO,CAAE,CAAEC,IAAI,CAAE,SAAS,CAAEC,MAAM,CAAE,SAAU,CAAC,CAAC,EAC/K,CAAC,EACD,CAAC,cACNlI,IAAA,SAAMgH,SAAS,CAAE,kCACfH,WAAW,CAAC1D,MAAM,GAAK,WAAW,CAAG,+BAA+B,CACpE0D,WAAW,CAAC1D,MAAM,GAAK,WAAW,CAAG,6BAA6B,CAClE0D,WAAW,CAAC1D,MAAM,GAAK,WAAW,CAAG,2BAA2B,CAChE,yBAAyB,EACxB,CAAA8D,QAAA,CACAJ,WAAW,CAAC1D,MAAM,GAAK,WAAW,CAAG,UAAU,CAC/C0D,WAAW,CAAC1D,MAAM,GAAK,WAAW,CAAG,YAAY,CACjD0D,WAAW,CAAC1D,MAAM,GAAK,WAAW,CAAG,WAAW,CAAG,QAAQ,CACxD,CAAC,GArBC0D,WAAW,CAACN,EAsBjB,CAAC,EACP,CACF,CACE,CAAC,EACH,CAAC,CACH,CAAC,cAGNvG,IAAA,QAAKgH,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5B/G,KAAA,QAAK8G,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB/G,KAAA,QAAK8G,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDjH,IAAA,OAAIgH,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,8GAAkB,CAAI,CAAC,cAC3E/G,KAAA,SAAM8G,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,GAAC,CAAC7F,WAAW,CAAC8C,MAAM,CAAC,wCAAQ,EAAM,CAAC,EACzE,CAAC,cACNlE,IAAA,QAAKgH,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAChD7F,WAAW,CAAC8C,MAAM,GAAK,CAAC,cACvBlE,IAAA,MAAGgH,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,sFAAc,CAAG,CAAC,CAEhE7F,WAAW,CAACsG,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAChD,GAAG,CAAEC,GAAG,OAAAwD,UAAA,CAAAC,WAAA,CAAAC,WAAA,CAAAC,WAAA,CAAAC,SAAA,CAAAC,WAAA,CAAAC,WAAA,CAAAC,WAAA,oBAC9BxI,KAAA,QAAkB8G,SAAS,CAAC,6DAA6D,CAAAC,QAAA,eACvF/G,KAAA,QAAK8G,SAAS,CAAC,oFAAoF,CAAAC,QAAA,EAChGtC,GAAG,CAACC,SAAS,cACZ5E,IAAA,QACEmH,GAAG,CAAExC,GAAG,CAACC,SAAU,CACnBwC,GAAG,CAAEzC,GAAG,CAACkD,IAAK,CACdb,SAAS,CAAC,4BAA4B,CACtCM,OAAO,CAAGzB,CAAC,EAAK,CACdA,CAAC,CAACC,MAAM,CAACyB,KAAK,CAACC,OAAO,CAAG,MAAM,CAC/B3B,CAAC,CAACC,MAAM,CAAC2B,WAAW,CAACF,KAAK,CAACC,OAAO,CAAG,MAAM,CAC7C,CAAE,CACH,CAAC,CACA,IAAI,cACRxH,IAAA,QAAKgH,SAAS,CAAE,kDAAkDrC,GAAG,CAACC,SAAS,CAAG,QAAQ,CAAG,MAAM,EAAG,CAAAqC,QAAA,cACpGjH,IAAA,CAACJ,QAAQ,EAACoH,SAAS,CAAC,wBAAwB,CAAE,CAAC,CAC5C,CAAC,EACH,CAAC,cACN9G,KAAA,QAAK8G,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BjH,IAAA,MAAGgH,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CACtDtC,GAAG,CAACkD,IAAI,EAAI,KAAK,CACjB,CAAC,cACJ3H,KAAA,MAAG8G,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EACjCtC,GAAG,CAACgE,OAAO,EAAI,KAAK,CAAC,UAAG,CAAChE,GAAG,CAACiE,KAAK,EAAI,KAAK,CAC3CjE,GAAG,CAACkE,MAAM,EAAI,MAAMlE,GAAG,CAACkE,MAAM,MAAM,EACpC,CAAC,cACJ3I,KAAA,QAAK8G,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAChE/G,KAAA,QAAK8G,SAAS,CAAC,mFAAmF,CAAAC,QAAA,EAC9F,CAAAkB,UAAA,CAAAxD,GAAG,CAACmE,KAAK,UAAAX,UAAA,WAATA,UAAA,CAAWjB,mBAAmB,EAAIvC,GAAG,CAACmE,KAAK,CAAC5B,mBAAmB,CAACrC,UAAU,CAAC,OAAO,CAAC,cACnF7E,IAAA,QACEmH,GAAG,CAAExC,GAAG,CAACmE,KAAK,CAAC5B,mBAAoB,CACnCE,GAAG,EAAAgB,WAAA,CAAEzD,GAAG,CAACmE,KAAK,UAAAV,WAAA,iBAATA,WAAA,CAAWf,SAAU,CAC1BL,SAAS,CAAC,4BAA4B,CACtCM,OAAO,CAAGzB,CAAC,EAAK,CACdA,CAAC,CAACC,MAAM,CAACyB,KAAK,CAACC,OAAO,CAAG,MAAM,CAC/B3B,CAAC,CAACC,MAAM,CAAC2B,WAAW,CAACF,KAAK,CAACC,OAAO,CAAG,MAAM,CAC7C,CAAE,CACH,CAAC,CACA,IAAI,cACRxH,IAAA,QAAKgH,SAAS,CAAE,kDAAmD,CAAAqB,WAAA,CAAA1D,GAAG,CAACmE,KAAK,UAAAT,WAAA,WAATA,WAAA,CAAWnB,mBAAmB,EAAIvC,GAAG,CAACmE,KAAK,CAAC5B,mBAAmB,CAACrC,UAAU,CAAC,OAAO,CAAC,CAAI,QAAQ,CAAG,MAAM,EAAG,CAAAoC,QAAA,cAC5KjH,IAAA,QAAKgH,SAAS,CAAC,uBAAuB,CAAC+B,IAAI,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAA/B,QAAA,cAC5EjH,IAAA,SAAMiJ,QAAQ,CAAC,SAAS,CAACC,CAAC,CAAC,qDAAqD,CAACC,QAAQ,CAAC,SAAS,CAAE,CAAC,CACnG,CAAC,CACH,CAAC,EACH,CAAC,cACNjJ,KAAA,SAAA+G,QAAA,EAAM,8CAAS,CAAC,EAAAqB,WAAA,CAAA3D,GAAG,CAACmE,KAAK,UAAAR,WAAA,iBAATA,WAAA,CAAWjB,SAAS,KAAAkB,SAAA,CAAI5D,GAAG,CAAC9D,IAAI,UAAA0H,SAAA,iBAARA,SAAA,CAAUlB,SAAS,GAAI,KAAK,EAAO,CAAC,CAC3E,EAAAmB,WAAA,CAAA7D,GAAG,CAACmE,KAAK,UAAAN,WAAA,iBAATA,WAAA,CAAWY,KAAK,GAAI,KAAKzE,GAAG,CAACmE,KAAK,CAACM,KAAK,GAAG,CAC3C,EAAAX,WAAA,CAAA9D,GAAG,CAACmE,KAAK,UAAAL,WAAA,iBAATA,WAAA,CAAWY,KAAK,GAAI,MAAM1E,GAAG,CAACmE,KAAK,CAACO,KAAK,EAAE,EACzC,CAAC,CACL,EAAAX,WAAA,CAAA/D,GAAG,CAACmE,KAAK,UAAAJ,WAAA,iBAATA,WAAA,CAAWY,OAAO,gBACjBpJ,KAAA,MAAG8G,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,8CAC1B,CAACtC,GAAG,CAACmE,KAAK,CAACQ,OAAO,EAC1B,CACJ,cACDpJ,KAAA,MAAG8G,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,sBAC9B,CAACtC,GAAG,CAAC4E,MAAM,EAAI,KAAK,CAAC,SAC1B,CAAC5E,GAAG,CAAC6E,UAAU,EAAI,SAAS,GAAI,CAAA7F,IAAI,CAACgB,GAAG,CAAC6E,UAAU,CAAC,CAACzB,kBAAkB,CAAC,OAAO,CAAC,KAAK,CAAC,gEAC1E,CAACpD,GAAG,CAAC8E,UAAU,CAAG,GAAI,CAAA9F,IAAI,CAACgB,GAAG,CAAC8E,UAAU,CAAC,CAAC1B,kBAAkB,CAAC,OAAO,CAAC,CAAG,KAAK,EACzF,CAAC,CACHpD,GAAG,CAAC+E,YAAY,eACfxJ,KAAA,MAAG8G,SAAS,CAAC,yBAAyB,CAAAC,QAAA,EAAC,oDAC3B,CAACtC,GAAG,CAAC+E,YAAY,EAC1B,CACJ,CACA/E,GAAG,CAACgF,KAAK,eACRzJ,KAAA,MAAG8G,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,gBAC/B,CAACtC,GAAG,CAACgF,KAAK,EACb,CACJ,EACE,CAAC,GApEEhF,GAAG,CAAC4B,EAqET,CAAC,EACP,CACF,CACE,CAAC,EACH,CAAC,CACH,CAAC,cAGNvG,IAAA,QAAKgH,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5B/G,KAAA,QAAK8G,SAAS,CAAC,WAAW,CAAAC,QAAA,eAE5B/G,KAAA,QAAK8G,SAAS,CAAC,MAAM,CAAAC,QAAA,eACfjH,IAAA,OAAIgH,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,0EAAY,CAAI,CAAC,cAC1E/G,KAAA,QAAK8G,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB/G,KAAA,QAAK8G,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CjH,IAAA,QAAKgH,SAAS,CAAC,kEAAkE,CAAAC,QAAA,cAC/EjH,IAAA,CAACL,WAAW,EAACqH,SAAS,CAAC,sBAAsB,CAAE,CAAC,CAC7C,CAAC,cACN9G,KAAA,SAAM8G,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,oDAAU,CAAC3F,KAAK,CAACI,mBAAmB,EAAO,CAAC,EACjF,CAAC,cACNxB,KAAA,QAAK8G,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CjH,IAAA,QAAKgH,SAAS,CAAC,mEAAmE,CAAAC,QAAA,cAChFjH,IAAA,CAACb,QAAQ,EAAC6H,SAAS,CAAC,uBAAuB,CAAE,CAAC,CAC3C,CAAC,cACN9G,KAAA,SAAM8G,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,wCAAQ,CAAC3F,KAAK,CAACG,iBAAiB,EAAO,CAAC,EAC7E,CAAC,cACNvB,KAAA,QAAK8G,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CjH,IAAA,QAAKgH,SAAS,CAAC,oEAAoE,CAAAC,QAAA,cACjFjH,IAAA,CAACZ,KAAK,EAAC4H,SAAS,CAAC,wBAAwB,CAAE,CAAC,CACzC,CAAC,cACN9G,KAAA,SAAM8G,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,8CAAS,CAAC3F,KAAK,CAACE,iBAAiB,EAAO,CAAC,EAC9E,CAAC,EACH,CAAC,EACH,CAAC,cAGNtB,KAAA,QAAK8G,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBjH,IAAA,OAAIgH,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,0EAAY,CAAI,CAAC,cAC1EjH,IAAA,QAAKgH,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvB/F,QAAQ,CAACgD,MAAM,GAAK,CAAC,cACpBlE,IAAA,MAAGgH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,sFAAc,CAAG,CAAC,CAEvD/F,QAAQ,CAACwG,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAChD,GAAG,CAAEkF,OAAO,eAC/B1J,KAAA,QAAsB8G,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC3DjH,IAAA,QAAKgH,SAAS,CAAC,qEAAqE,CAAAC,QAAA,cAClFjH,IAAA,CAACX,QAAQ,EAAC2H,SAAS,CAAC,yBAAyB,CAAE,CAAC,CAC7C,CAAC,cACNhH,IAAA,SAAMgH,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAE2C,OAAO,CAACC,KAAK,CAAO,CAAC,GAJ/DD,OAAO,CAACrD,EAKb,CACN,CACF,CACE,CAAC,EACH,CAAC,EACD,CAAC,CACH,CAAC,EACH,CAAC,cAGRvG,IAAA,QAAKgH,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB/G,KAAA,QAAK8G,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB/G,KAAA,QAAK8G,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDjH,IAAA,OAAIgH,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,wGAAiB,CAAI,CAAC,cAC1EjH,IAAA,CAAChB,IAAI,EAAC8K,EAAE,CAAC,gBAAgB,CAAC9C,SAAS,CAAC,6CAA6C,CAAAC,QAAA,CAAC,wDAElF,CAAM,CAAC,EACJ,CAAC,cACN/G,KAAA,QAAK8G,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAEpD/G,KAAA,QAAK8G,SAAS,CAAC,yDAAyD,CAAAC,QAAA,eACtEjH,IAAA,QAAKgH,SAAS,CAAC,uEAAuE,CAAAC,QAAA,cACpFjH,IAAA,CAACN,KAAK,EAACsH,SAAS,CAAC,yBAAyB,CAAE,CAAC,CAC1C,CAAC,cACN9G,KAAA,QAAA+G,QAAA,eACEjH,IAAA,MAAGgH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,4FAAe,CAAG,CAAC,cACpE/G,KAAA,MAAG8G,SAAS,CAAC,mCAAmC,CAAAC,QAAA,EAAE3F,KAAK,CAACI,mBAAmB,CAAC,qBAAI,EAAG,CAAC,EACjF,CAAC,EACH,CAAC,cAGNxB,KAAA,QAAK8G,SAAS,CAAC,uDAAuD,CAAAC,QAAA,eACpEjH,IAAA,QAAKgH,SAAS,CAAC,qEAAqE,CAAAC,QAAA,cAClFjH,IAAA,CAACb,QAAQ,EAAC6H,SAAS,CAAC,uBAAuB,CAAE,CAAC,CAC3C,CAAC,cACN9G,KAAA,QAAA+G,QAAA,eACEjH,IAAA,MAAGgH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,gFAAa,CAAG,CAAC,cAClE/G,KAAA,MAAG8G,SAAS,CAAC,iCAAiC,CAAAC,QAAA,EAAE3F,KAAK,CAACG,iBAAiB,CAAC,qBAAI,EAAG,CAAC,EAC7E,CAAC,EACH,CAAC,cAGNvB,KAAA,QAAK8G,SAAS,CAAC,wDAAwD,CAAAC,QAAA,eACrEjH,IAAA,QAAKgH,SAAS,CAAC,sEAAsE,CAAAC,QAAA,cACnFjH,IAAA,CAACP,UAAU,EAACuH,SAAS,CAAC,wBAAwB,CAAE,CAAC,CAC9C,CAAC,cACN9G,KAAA,QAAA+G,QAAA,eACEjH,IAAA,MAAGgH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,sFAAc,CAAG,CAAC,cACnE/G,KAAA,MAAG8G,SAAS,CAAC,kCAAkC,CAAAC,QAAA,EAAE3F,KAAK,CAACE,iBAAiB,CAAC,qBAAI,EAAG,CAAC,EAC9E,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,cAGNxB,IAAA,QAAKgH,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBjH,IAAA,QAAKgH,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAC7D,CACC,CAAE8C,GAAG,CAAE,cAAc,CAAEC,KAAK,CAAE,SAAU,CAAC,CACzC,CAAED,GAAG,CAAE,WAAW,CAAEC,KAAK,CAAE,gBAAiB,CAAC,CAC7C,CAAED,GAAG,CAAE,UAAU,CAAEC,KAAK,CAAE,cAAe,CAAC,CAC3C,CAACtF,GAAG,CAAEuF,GAAG,eACRjK,IAAA,WAEE4H,OAAO,CAAEA,CAAA,GAAM5F,YAAY,CAACiI,GAAG,CAACF,GAAG,CAAE,CACrC/C,SAAS,CAAE,8DACTjF,SAAS,GAAKkI,GAAG,CAACF,GAAG,CAAG,mCAAmC,CAAG,mCAAmC,EAChG,CAAA9C,QAAA,CAEFgD,GAAG,CAACD,KAAK,EANLC,GAAG,CAACF,GAOH,CACT,CAAC,CACC,CAAC,CACH,CAAC,CAGLhI,SAAS,GAAK,cAAc,eAC3B7B,KAAA,QAAK8G,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBjH,IAAA,OAAIgH,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,gFAAa,CAAI,CAAC,CAClEnG,YAAY,CAACoD,MAAM,GAAK,CAAC,cACxBhE,KAAA,QAAK8G,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCjH,IAAA,CAACb,QAAQ,EAAC6H,SAAS,CAAC,sCAAsC,CAAE,CAAC,cAC7DhH,IAAA,OAAIgH,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,4FAAe,CAAI,CAAC,cAC3EjH,IAAA,MAAGgH,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,sOAAsC,CAAG,CAAC,EACpE,CAAC,cAENjH,IAAA,QAAKgH,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBnG,YAAY,CAAC4D,GAAG,CAAEmC,WAAW,OAAAqD,kBAAA,CAAAC,iBAAA,CAAAC,kBAAA,CAAAC,kBAAA,CAAAC,kBAAA,oBAC5BtK,IAAA,QAA0BgH,SAAS,CAAC,uDAAuD,CAACY,OAAO,CAAEA,CAAA,GAAMhB,sBAAsB,CAACC,WAAW,CAAE,CAAAI,QAAA,cAC7I/G,KAAA,QAAK8G,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD/G,KAAA,QAAK8G,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CjH,IAAA,QAAKgH,SAAS,CAAC,qEAAqE,CAAAC,QAAA,cAClFjH,IAAA,CAACb,QAAQ,EAAC6H,SAAS,CAAC,uBAAuB,CAAE,CAAC,CAC3C,CAAC,cACN9G,KAAA,QAAK8G,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBjH,IAAA,OAAIgH,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAChDJ,WAAW,CAACiB,gBAAgB,GAAK,SAAS,CAAG,YAAY,CACzDjB,WAAW,CAACiB,gBAAgB,GAAK,aAAa,CAAG,WAAW,CAC5DjB,WAAW,CAACiB,gBAAgB,GAAK,UAAU,CAAG,OAAO,CACrDjB,WAAW,CAACiB,gBAAgB,GAAK,SAAS,CAAG,QAAQ,CACrDjB,WAAW,CAACiB,gBAAgB,CAC3B,CAAC,cACL5H,KAAA,QAAK8G,SAAS,CAAC,wDAAwD,CAAAC,QAAA,eACrEjH,IAAA,SAAAiH,QAAA,CAAO,GAAI,CAAAtD,IAAI,CAACkD,WAAW,CAAC7C,gBAAgB,CAAC,CAAC+D,kBAAkB,CAAC,OAAO,CAAC,CAAO,CAAC,cACjF/H,IAAA,SAAAiH,QAAA,CACG,GAAI,CAAAtD,IAAI,CAACkD,WAAW,CAAC7C,gBAAgB,CAAC,CAACgE,kBAAkB,CAAC,OAAO,CAAE,CAClEC,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,SACV,CAAC,CAAC,CACE,CAAC,EACJ,CAAC,cACNhI,KAAA,QAAK8G,SAAS,CAAC,wDAAwD,CAAAC,QAAA,eACrE/G,KAAA,SAAA+G,QAAA,EAAM,sEAAa,CAAC,EAAAiD,kBAAA,CAAArD,WAAW,CAACtC,IAAI,UAAA2F,kBAAA,iBAAhBA,kBAAA,CAAkBrC,IAAI,GAAI,KAAK,EAAO,CAAC,cAC3D3H,KAAA,QAAK8G,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C/G,KAAA,QAAK8G,SAAS,CAAC,mFAAmF,CAAAC,QAAA,EAC/F,CAAAkD,iBAAA,CAAAtD,WAAW,CAAChG,IAAI,UAAAsJ,iBAAA,WAAhBA,iBAAA,CAAkBjD,mBAAmB,cACpClH,IAAA,QACEmH,GAAG,CAAEN,WAAW,CAAChG,IAAI,CAACqG,mBAAoB,CAC1CE,GAAG,EAAAgD,kBAAA,CAAEvD,WAAW,CAAChG,IAAI,UAAAuJ,kBAAA,iBAAhBA,kBAAA,CAAkB/C,SAAU,CACjCL,SAAS,CAAC,4BAA4B,CACtCM,OAAO,CAAGzB,CAAC,EAAK,CACdA,CAAC,CAACC,MAAM,CAACyB,KAAK,CAACC,OAAO,CAAG,MAAM,CAC/B3B,CAAC,CAACC,MAAM,CAAC2B,WAAW,CAACF,KAAK,CAACC,OAAO,CAAG,MAAM,CAC7C,CAAE,CACH,CAAC,CACA,IAAI,cACRxH,IAAA,QAAKgH,SAAS,CAAE,kDAAkD,CAAAqD,kBAAA,CAAAxD,WAAW,CAAChG,IAAI,UAAAwJ,kBAAA,WAAhBA,kBAAA,CAAkBnD,mBAAmB,CAAG,QAAQ,CAAG,MAAM,EAAG,CAAAD,QAAA,cAC5HjH,IAAA,QAAKgH,SAAS,CAAC,uBAAuB,CAAC+B,IAAI,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAA/B,QAAA,cAC5EjH,IAAA,SAAMiJ,QAAQ,CAAC,SAAS,CAACC,CAAC,CAAC,qDAAqD,CAACC,QAAQ,CAAC,SAAS,CAAE,CAAC,CACnG,CAAC,CACH,CAAC,EACH,CAAC,cACNjJ,KAAA,SAAA+G,QAAA,EAAM,8CAAS,CAAC,EAAAqD,kBAAA,CAAAzD,WAAW,CAAChG,IAAI,UAAAyJ,kBAAA,iBAAhBA,kBAAA,CAAkBjD,SAAS,GAAI,KAAK,EAAO,CAAC,EACzD,CAAC,EACH,CAAC,CACLR,WAAW,CAAC0D,KAAK,eAAIvK,IAAA,MAAGgH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAEJ,WAAW,CAAC0D,KAAK,CAAI,CAAC,EACpF,CAAC,EACH,CAAC,cACNrK,KAAA,QAAK8G,SAAS,CAAC,6BAA6B,CAAAC,QAAA,EACzCJ,WAAW,CAAC1D,MAAM,GAAK,WAAW,eACjCjD,KAAA,CAAAE,SAAA,EAAA6G,QAAA,eACE/G,KAAA,WACE0H,OAAO,CAAG/B,CAAC,EAAK,CACdA,CAAC,CAAC2E,eAAe,CAAC,CAAC,CACnBrE,kBAAkB,CAACU,WAAW,CAACN,EAAE,CAAE,WAAW,CAAC,CACjD,CAAE,CACFS,SAAS,CAAC,qGAAqG,CAAAC,QAAA,eAE/GjH,IAAA,CAACR,WAAW,EAACwH,SAAS,CAAC,SAAS,CAAE,CAAC,cACnChH,IAAA,SAAAiH,QAAA,CAAM,sCAAM,CAAM,CAAC,EACb,CAAC,cACTjH,IAAA,WACE4H,OAAO,CAAG/B,CAAC,EAAK,CACdA,CAAC,CAAC2E,eAAe,CAAC,CAAC,CACnBrE,kBAAkB,CAACU,WAAW,CAACN,EAAE,CAAE,WAAW,CAAC,CACjD,CAAE,CACFS,SAAS,CAAC,iGAAiG,CAAAC,QAAA,cAE3GjH,IAAA,SAAAiH,QAAA,CAAM,sCAAM,CAAM,CAAC,CACb,CAAC,EACT,CACH,CACAJ,WAAW,CAAC1D,MAAM,GAAK,WAAW,eACjCnD,IAAA,WACE4H,OAAO,CAAG/B,CAAC,EAAK,CACdA,CAAC,CAAC2E,eAAe,CAAC,CAAC,CACnBrE,kBAAkB,CAACU,WAAW,CAACN,EAAE,CAAE,WAAW,CAAC,CACjD,CAAE,CACFS,SAAS,CAAC,mGAAmG,CAAAC,QAAA,cAE7GjH,IAAA,SAAAiH,QAAA,CAAM,wDAAS,CAAM,CAAC,CAChB,CACT,cACDjH,IAAA,SACEgH,SAAS,CAAE,kCACTH,WAAW,CAAC1D,MAAM,GAAK,WAAW,CAC9B,+BAA+B,CAC/B0D,WAAW,CAAC1D,MAAM,GAAK,WAAW,CAChC,6BAA6B,CAC7B0D,WAAW,CAAC1D,MAAM,GAAK,WAAW,CAChC,2BAA2B,CAC3B,yBAAyB,EAChC,CAAA8D,QAAA,CAEFJ,WAAW,CAAC1D,MAAM,GAAK,WAAW,CAC/B,UAAU,CACV0D,WAAW,CAAC1D,MAAM,GAAK,WAAW,CAChC,YAAY,CACZ0D,WAAW,CAAC1D,MAAM,GAAK,WAAW,CAChC,WAAW,CACX,QAAQ,CACZ,CAAC,EACJ,CAAC,EACH,CAAC,EAzGE0D,WAAW,CAACN,EA0GjB,CAAC,EACP,CAAC,CACC,CACN,EACE,CACN,CAEAxE,SAAS,GAAK,WAAW,eACxB7B,KAAA,QAAK8G,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB/G,KAAA,QAAK8G,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDjH,IAAA,OAAIgH,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,0HAAoB,CAAI,CAAC,cAC1E/G,KAAA,WACE0H,OAAO,CAAEA,CAAA,GAAM1F,wBAAwB,CAAC,IAAI,CAAE,CAC9C8E,SAAS,CAAC,yCAAyC,CAAAC,QAAA,eAEnDjH,IAAA,CAACT,IAAI,EAACyH,SAAS,CAAC,SAAS,CAAE,CAAC,cAC5BhH,IAAA,SAAAiH,QAAA,CAAM,kGAAgB,CAAM,CAAC,EACvB,CAAC,EACN,CAAC,cAENjH,IAAA,QAAKgH,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CACvCjG,mBAAmB,CAAC0D,GAAG,CAAE+F,SAAS,eACjCvK,KAAA,QAAwB8G,SAAS,CAAC,MAAM,CAAAC,QAAA,eACtC/G,KAAA,QAAK8G,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpD/G,KAAA,QAAA+G,QAAA,eACEjH,IAAA,OAAIgH,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAEwD,SAAS,CAAC9B,OAAO,CAAK,CAAC,cAC5EzI,KAAA,MAAG8G,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,4BAAM,CAACwD,SAAS,CAACC,SAAS,EAAI,CAAC,EACzD,CAAC,cACN1K,IAAA,QAAKgH,SAAS,CAAC,uEAAuE,CAAAC,QAAA,cACpFjH,IAAA,CAACV,QAAQ,EAAC0H,SAAS,CAAC,yBAAyB,CAAE,CAAC,CAC7C,CAAC,EACH,CAAC,cAEN9G,KAAA,QAAK8G,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC/G,KAAA,QAAK8G,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCjH,IAAA,SAAMgH,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,iFAAc,CAAM,CAAC,cACrD/G,KAAA,SAAM8G,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAEwD,SAAS,CAACE,cAAc,CAAC,OAAK,EAAM,CAAC,EACjE,CAAC,cACNzK,KAAA,QAAK8G,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCjH,IAAA,SAAMgH,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,uCAAO,CAAM,CAAC,cAC9C/G,KAAA,SAAM8G,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAEwD,SAAS,CAACG,kBAAkB,CAAC,GAAC,EAAM,CAAC,EACjE,CAAC,cACN1K,KAAA,QAAK8G,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCjH,IAAA,SAAMgH,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,iCAAM,CAAM,CAAC,cAC7C/G,KAAA,SAAM8G,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAEwD,SAAS,CAACI,cAAc,CAAC,GAAC,EAAM,CAAC,EAC7D,CAAC,cACN3K,KAAA,QAAK8G,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCjH,IAAA,SAAMgH,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,+DAAW,CAAM,CAAC,cAClD/G,KAAA,SAAM8G,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAEwD,SAAS,CAACK,iBAAiB,CAAC,2BAAK,EAAM,CAAC,EACpE,CAAC,EACH,CAAC,CAELL,SAAS,CAACM,YAAY,eACrB/K,IAAA,QAAKgH,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cAC7CjH,IAAA,MAAGgH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEwD,SAAS,CAACM,YAAY,CAAI,CAAC,CAC9D,CACN,GAlCON,SAAS,CAAClE,EAmCf,CACN,CAAC,CACC,CAAC,EACH,CACN,CAEAxE,SAAS,GAAK,UAAU,eACtB7B,KAAA,QAAK8G,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACnCjH,IAAA,CAACX,QAAQ,EAAC2H,SAAS,CAAC,sCAAsC,CAAE,CAAC,cAC7DhH,IAAA,OAAIgH,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,0EAAY,CAAI,CAAC,cACxEjH,IAAA,MAAGgH,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,sSAAoD,CAAG,CAAC,cAC1FjH,IAAA,MAAGgL,IAAI,CAAC,iBAAiB,CAAChE,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,gIAAqB,CAAG,CAAC,EAC1E,CACP,EAEE,CAAC,CAGLhF,qBAAqB,eACpBjC,IAAA,CAACF,iBAAiB,EAACmL,OAAO,CAAEA,CAAA,GAAM/I,wBAAwB,CAAC,KAAK,CAAE,CAACgJ,gBAAgB,CAAEpE,oBAAqB,CAAE,CAC7G,CAGAzE,oBAAoB,EAAIF,mBAAmB,eAC1CnC,IAAA,QAAKgH,SAAS,CAAC,4EAA4E,CAAAC,QAAA,cACzF/G,KAAA,QAAK8G,SAAS,CAAC,4EAA4E,CAAAC,QAAA,eACzF/G,KAAA,QAAK8G,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDjH,IAAA,OAAIgH,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAC,wGAAiB,CAAI,CAAC,cACtEjH,IAAA,WACE4H,OAAO,CAAEA,CAAA,GAAMtF,uBAAuB,CAAC,KAAK,CAAE,CAC9C0E,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAE7CjH,IAAA,CAACH,CAAC,EAACmH,SAAS,CAAC,SAAS,CAAE,CAAC,CACnB,CAAC,EACN,CAAC,cAEN9G,KAAA,QAAK8G,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB/G,KAAA,QAAK8G,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrC/G,KAAA,QAAA+G,QAAA,eACEjH,IAAA,UAAOgH,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,gFAAa,CAAO,CAAC,cAChFjH,IAAA,MAAGgH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CACtC9E,mBAAmB,CAAC2F,gBAAgB,GAAK,SAAS,CAAG,YAAY,CACjE3F,mBAAmB,CAAC2F,gBAAgB,GAAK,aAAa,CAAG,WAAW,CACpE3F,mBAAmB,CAAC2F,gBAAgB,GAAK,UAAU,CAAG,OAAO,CAC7D3F,mBAAmB,CAAC2F,gBAAgB,GAAK,SAAS,CAAG,QAAQ,CAC7D3F,mBAAmB,CAAC2F,gBAAgB,CACpC,CAAC,EACD,CAAC,cACN5H,KAAA,QAAA+G,QAAA,eACEjH,IAAA,UAAOgH,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,gCAAK,CAAO,CAAC,cACxEjH,IAAA,SACEgH,SAAS,CAAE,4DACT7E,mBAAmB,CAACgB,MAAM,GAAK,WAAW,CACtC,+BAA+B,CAC/BhB,mBAAmB,CAACgB,MAAM,GAAK,WAAW,CACxC,6BAA6B,CAC7BhB,mBAAmB,CAACgB,MAAM,GAAK,WAAW,CACxC,2BAA2B,CAC3B,yBAAyB,EAChC,CAAA8D,QAAA,CAEF9E,mBAAmB,CAACgB,MAAM,GAAK,WAAW,CACvC,UAAU,CACVhB,mBAAmB,CAACgB,MAAM,GAAK,WAAW,CACxC,YAAY,CACZhB,mBAAmB,CAACgB,MAAM,GAAK,WAAW,CACxC,WAAW,CACX,QAAQ,CACZ,CAAC,EACJ,CAAC,EACH,CAAC,cAENjD,KAAA,QAAK8G,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrC/G,KAAA,QAAA+G,QAAA,eACEjH,IAAA,UAAOgH,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,sCAAM,CAAO,CAAC,cACzEjH,IAAA,MAAGgH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CACtC,GAAI,CAAAtD,IAAI,CAACxB,mBAAmB,CAAC6B,gBAAgB,CAAC,CAAC+D,kBAAkB,CAAC,OAAO,CAAC,CAC1E,CAAC,EACD,CAAC,cACN7H,KAAA,QAAA+G,QAAA,eACEjH,IAAA,UAAOgH,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,0BAAI,CAAO,CAAC,cACvEjH,IAAA,MAAGgH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CACtC,GAAI,CAAAtD,IAAI,CAACxB,mBAAmB,CAAC6B,gBAAgB,CAAC,CAACgE,kBAAkB,CAAC,OAAO,CAAE,CAC1EC,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,SACV,CAAC,CAAC,CACD,CAAC,EACD,CAAC,EACH,CAAC,cAENhI,KAAA,QAAA+G,QAAA,eACEjH,IAAA,UAAOgH,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,oEAAW,CAAO,CAAC,cAC9E/G,KAAA,MAAG8G,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EACtC,EAAA3G,qBAAA,CAAA6B,mBAAmB,CAACoC,IAAI,UAAAjE,qBAAA,iBAAxBA,qBAAA,CAA0BuH,IAAI,GAAI,KAAK,CAAC,IAAE,CAAC,EAAAtH,sBAAA,CAAA4B,mBAAmB,CAACoC,IAAI,UAAAhE,sBAAA,iBAAxBA,sBAAA,CAA0BoI,OAAO,GAAI,KAAK,CAAC,GACzF,EAAG,CAAC,EACD,CAAC,cAENzI,KAAA,QAAA+G,QAAA,eACEjH,IAAA,UAAOgH,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,4CAAO,CAAO,CAAC,cAC1E/G,KAAA,QAAK8G,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/C/G,KAAA,QAAK8G,SAAS,CAAC,mFAAmF,CAAAC,QAAA,EAC/F,CAAAzG,sBAAA,CAAA2B,mBAAmB,CAACtB,IAAI,UAAAL,sBAAA,WAAxBA,sBAAA,CAA0B0G,mBAAmB,cAC5ClH,IAAA,QACEmH,GAAG,CAAEhF,mBAAmB,CAACtB,IAAI,CAACqG,mBAAoB,CAClDE,GAAG,EAAA3G,sBAAA,CAAE0B,mBAAmB,CAACtB,IAAI,UAAAJ,sBAAA,iBAAxBA,sBAAA,CAA0B4G,SAAU,CACzCL,SAAS,CAAC,4BAA4B,CACtCM,OAAO,CAAGzB,CAAC,EAAK,CACdA,CAAC,CAACC,MAAM,CAACyB,KAAK,CAACC,OAAO,CAAG,MAAM,CAC/B3B,CAAC,CAACC,MAAM,CAAC2B,WAAW,CAACF,KAAK,CAACC,OAAO,CAAG,MAAM,CAC7C,CAAE,CACH,CAAC,CACA,IAAI,cACRxH,IAAA,QAAKgH,SAAS,CAAE,kDAAkD,CAAAtG,sBAAA,CAAAyB,mBAAmB,CAACtB,IAAI,UAAAH,sBAAA,WAAxBA,sBAAA,CAA0BwG,mBAAmB,CAAG,QAAQ,CAAG,MAAM,EAAG,CAAAD,QAAA,cACpIjH,IAAA,QAAKgH,SAAS,CAAC,uBAAuB,CAAC+B,IAAI,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAA/B,QAAA,cAC5EjH,IAAA,SAAMiJ,QAAQ,CAAC,SAAS,CAACC,CAAC,CAAC,qDAAqD,CAACC,QAAQ,CAAC,SAAS,CAAE,CAAC,CACnG,CAAC,CACH,CAAC,EACH,CAAC,cACNnJ,IAAA,QAAAiH,QAAA,cACE/G,KAAA,MAAG8G,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EACjC,EAAAtG,sBAAA,CAAAwB,mBAAmB,CAACtB,IAAI,UAAAF,sBAAA,iBAAxBA,sBAAA,CAA0B0G,SAAS,GAAI,KAAK,CAAC,IAAE,CAAC,EAAAzG,sBAAA,CAAAuB,mBAAmB,CAACtB,IAAI,UAAAD,sBAAA,iBAAxBA,sBAAA,CAA0BwI,KAAK,GAAI,KAAK,CAAC,GAC5F,EAAG,CAAC,CACD,CAAC,EACH,CAAC,EACH,CAAC,CAELjH,mBAAmB,CAACoI,KAAK,eACxBrK,KAAA,QAAA+G,QAAA,eACEjH,IAAA,UAAOgH,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,kDAAQ,CAAO,CAAC,cAC3EjH,IAAA,MAAGgH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAE9E,mBAAmB,CAACoI,KAAK,CAAI,CAAC,EACtE,CACN,cAEDrK,KAAA,QAAK8G,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9CjH,IAAA,WACE4H,OAAO,CAAEA,CAAA,GAAMtF,uBAAuB,CAAC,KAAK,CAAE,CAC9C0E,SAAS,CAAC,sFAAsF,CAAAC,QAAA,CACjG,oBAED,CAAQ,CAAC,CACR9E,mBAAmB,CAACgB,MAAM,GAAK,WAAW,eACzCjD,KAAA,CAAAE,SAAA,EAAA6G,QAAA,eACEjH,IAAA,WACE4H,OAAO,CAAEA,CAAA,GAAM,CACbzB,kBAAkB,CAAChE,mBAAmB,CAACoE,EAAE,CAAE,WAAW,CAAC,CACvDjE,uBAAuB,CAAC,KAAK,CAAC,CAChC,CAAE,CACF0E,SAAS,CAAC,qFAAqF,CAAAC,QAAA,CAChG,gFAED,CAAQ,CAAC,cACTjH,IAAA,WACE4H,OAAO,CAAEA,CAAA,GAAM,CACbzB,kBAAkB,CAAChE,mBAAmB,CAACoE,EAAE,CAAE,WAAW,CAAC,CACvDjE,uBAAuB,CAAC,KAAK,CAAC,CAChC,CAAE,CACF0E,SAAS,CAAC,iFAAiF,CAAAC,QAAA,CAC5F,gFAED,CAAQ,CAAC,EACT,CACH,CACA9E,mBAAmB,CAACgB,MAAM,GAAK,WAAW,eACzCnD,IAAA,WACE4H,OAAO,CAAEA,CAAA,GAAM,CACbzB,kBAAkB,CAAChE,mBAAmB,CAACoE,EAAE,CAAE,WAAW,CAAC,CACvDjE,uBAAuB,CAAC,KAAK,CAAC,CAChC,CAAE,CACF0E,SAAS,CAAC,mFAAmF,CAAAC,QAAA,CAC9F,wDAED,CAAQ,CACT,EACE,CAAC,EACH,CAAC,EACH,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA5G,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}