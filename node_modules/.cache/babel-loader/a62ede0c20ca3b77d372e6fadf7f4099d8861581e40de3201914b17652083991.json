{"ast":null,"code":"\"use client\";import{useState,useEffect}from\"react\";import{useAuth}from\"../contexts/AuthContext\";import apiClient from\"../services/api\";import{Users,PawPrint,FileText,Calendar,UserCheck,UserX,CheckCircle,XCircle,Clock,AlertTriangle}from\"lucide-react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboard=()=>{var _pendingApprovals$app,_pendingApprovals$nut;const{user}=useAuth();const[stats,setStats]=useState(null);const[users,setUsers]=useState([]);const[pendingApprovals,setPendingApprovals]=useState({appointments:[],nutrition_guidelines:[]});const[loading,setLoading]=useState(true);const[activeTab,setActiveTab]=useState(\"overview\");const[selectedApproval,setSelectedApproval]=useState(null);const[showApprovalModal,setShowApprovalModal]=useState(false);const[approvalAction,setApprovalAction]=useState(\"\");const[rejectionReason,setRejectionReason]=useState(\"\");const[processingApproval,setProcessingApproval]=useState(false);const[userImages,setUserImages]=useState({});useEffect(()=>{fetchAdminData();},[]);// Load user images when users data changes\nuseEffect(()=>{if(users.length>0){loadUserImages();}},[users]);const loadUserImages=async()=>{const imagePromises=users.map(async user=>{if(user.profile_picture_url&&!user.profile_picture_url.startsWith('data:')){try{const filename=user.profile_picture_url.includes('/')?user.profile_picture_url.split('/').pop():user.profile_picture_url;const response=await fetch(`${process.env.REACT_APP_API_URL}/upload/image/${filename}`,{mode:'cors',credentials:'omit'});if(response.ok){const blob=await response.blob();const reader=new FileReader();const base64Image=await new Promise(resolve=>{reader.onload=e=>resolve(e.target.result);reader.readAsDataURL(blob);});return{userId:user.id,image:base64Image};}}catch(error){console.error(`Failed to load image for user ${user.id}:`,error);}}return{userId:user.id,image:null};});const results=await Promise.all(imagePromises);const imageMap={};results.forEach(_ref=>{let{userId,image}=_ref;if(image){imageMap[userId]=image;}});setUserImages(imageMap);};const fetchAdminData=async()=>{try{const[statsResponse,usersResponse,approvalsResponse]=await Promise.allSettled([apiClient.get(\"/admin/statistics\"),apiClient.get(\"/admin/users\"),apiClient.get(\"/admin/pending-approvals\")]);// Process stats\nif(statsResponse.status==='fulfilled'){setStats(statsResponse.value.data);}// Process users\nif(usersResponse.status==='fulfilled'){setUsers(usersResponse.value.data);}// Process approvals\nif(approvalsResponse.status==='fulfilled'){setPendingApprovals(approvalsResponse.value.data);}}catch(error){console.error(\"Failed to fetch admin data:\",error);}finally{setLoading(false);}};const handleUserStatusUpdate=async(userId,isActive)=>{try{console.log(\"=== Frontend User Status Update Debug ===\");console.log(\"User ID:\",userId);console.log(\"Is Active:\",isActive,typeof isActive);console.log(\"Request payload:\",{is_active:isActive});await apiClient.patch(`/admin/users/${userId}/status`,{is_active:isActive});setUsers(users.map(u=>u.id===userId?{...u,is_active:isActive}:u));alert(`อัพเดทสถานะผู้ใช้${isActive?\"เปิดใช้\":\"ระงับ\"}สำเร็จแล้ว`);}catch(error){var _error$response,_error$response2,_error$response2$data;console.error(\"Failed to update user status:\",error);console.error(\"Error response:\",(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data);alert(`เกิดข้อผิดพลาด: ${((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||error.message}`);}};const handleApprovalAction=(item,type,action)=>{setSelectedApproval({...item,type});setApprovalAction(action);setRejectionReason(\"\");setShowApprovalModal(true);};const processApproval=async()=>{if(!selectedApproval)return;setProcessingApproval(true);try{const endpoint=selectedApproval.type===\"appointment\"?`/admin/appointments/${selectedApproval.id}/approve`:`/admin/nutrition-guidelines/${selectedApproval.id}/approve`;const payload={action:approvalAction,rejection_reason:approvalAction===\"reject\"?rejectionReason:null};await apiClient.patch(endpoint,payload);// อัพเดทข้อมูลในหน้า\nif(selectedApproval.type===\"appointment\"){setPendingApprovals(prev=>({...prev,appointments:prev.appointments.filter(a=>a.id!==selectedApproval.id)}));}else{setPendingApprovals(prev=>({...prev,nutrition_guidelines:prev.nutrition_guidelines.filter(n=>n.id!==selectedApproval.id)}));}// อัพเดทสถิติ\nsetStats(prev=>({...prev,pending_appointments:selectedApproval.type===\"appointment\"?prev.pending_appointments-1:prev.pending_appointments,pending_nutrition_guidelines:selectedApproval.type===\"nutrition\"?prev.pending_nutrition_guidelines-1:prev.pending_nutrition_guidelines}));setShowApprovalModal(false);setSelectedApproval(null);alert(`${approvalAction===\"approve\"?\"อนุมัติ\":\"ปฏิเสธ\"}สำเร็จแล้ว`);}catch(error){var _error$response3,_error$response3$data;console.error(\"Failed to process approval:\",error);alert(`เกิดข้อผิดพลาด: ${((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||error.message}`);}finally{setProcessingApproval(false);}};const formatDateTime=dateString=>{return new Date(dateString).toLocaleString(\"th-TH\",{year:\"numeric\",month:\"short\",day:\"numeric\",hour:\"2-digit\",minute:\"2-digit\"});};const getAppointmentTypeText=type=>{const types={checkup:\"ตรวจสุขภาพ\",vaccination:\"ฉีดวัคซีน\",consultation:\"ปรึกษา\",surgery:\"ผ่าตัด\",emergency:\"ฉุกเฉิน\"};return types[type]||type;};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\",children:[user.profile_picture_url?/*#__PURE__*/_jsx(\"img\",{src:user.profile_picture_url,alt:user.full_name,className:\"w-full h-full object-cover\",onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='flex';}}):null,/*#__PURE__*/_jsx(\"div\",{className:`w-full h-full flex items-center justify-center ${user.profile_picture_url?'hidden':'flex'}`,children:/*#__PURE__*/_jsx(Users,{className:\"h-6 w-6 text-gray-400\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"\\u0E41\\u0E14\\u0E0A\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E14\\u0E1C\\u0E39\\u0E49\\u0E14\\u0E39\\u0E41\\u0E25\\u0E23\\u0E30\\u0E1A\\u0E1A\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mt-2\",children:[\"\\u0E2A\\u0E27\\u0E31\\u0E2A\\u0E14\\u0E35, \",user.full_name]})]})]})}),stats?/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Users,{className:\"h-6 w-6 text-blue-500\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:[stats.total_users||0,\" \\u0E04\\u0E19\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(PawPrint,{className:\"h-6 w-6 text-green-500\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\\u0E43\\u0E19\\u0E23\\u0E30\\u0E1A\\u0E1A\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:[stats.total_pets||0,\" \\u0E15\\u0E31\\u0E27\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Clock,{className:\"h-6 w-6 text-orange-500\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u0E23\\u0E2D\\u0E01\\u0E32\\u0E23\\u0E2D\\u0E19\\u0E38\\u0E21\\u0E31\\u0E15\\u0E34\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:[(stats.pending_appointments||0)+(stats.pending_nutrition_guidelines||0),\" \\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(FileText,{className:\"h-6 w-6 text-purple-500\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u0E1A\\u0E17\\u0E04\\u0E27\\u0E32\\u0E21\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:[stats.total_articles||0,\" \\u0E1A\\u0E17\\u0E04\\u0E27\\u0E32\\u0E21\"]})]})]})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Users,{className:\"h-6 w-6 text-gray-400\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:\"-\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(PawPrint,{className:\"h-6 w-6 text-gray-400\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\\u0E43\\u0E19\\u0E23\\u0E30\\u0E1A\\u0E1A\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:\"-\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Clock,{className:\"h-6 w-6 text-gray-400\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u0E23\\u0E2D\\u0E01\\u0E32\\u0E23\\u0E2D\\u0E19\\u0E38\\u0E21\\u0E31\\u0E15\\u0E34\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:\"-\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(FileText,{className:\"h-6 w-6 text-gray-400\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u0E1A\\u0E17\\u0E04\\u0E27\\u0E32\\u0E21\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:\"-\"})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit\",children:[{key:\"overview\",label:\"ภาพรวม\"},{key:\"approvals\",label:`การอนุมัติ (${((stats===null||stats===void 0?void 0:stats.pending_appointments)||0)+((stats===null||stats===void 0?void 0:stats.pending_nutrition_guidelines)||0)})`},{key:\"users\",label:\"จัดการผู้ใช้\"}].map(tab=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(tab.key),className:`px-6 py-2 rounded-md text-sm font-medium transition-colors ${activeTab===tab.key?\"bg-white text-green-600 shadow-sm\":\"text-gray-600 hover:text-gray-900\"}`,children:tab.label},tab.key))})}),activeTab===\"overview\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-6\",children:\"\\u0E01\\u0E32\\u0E23\\u0E40\\u0E15\\u0E34\\u0E1A\\u0E42\\u0E15\\u0E02\\u0E2D\\u0E07\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end space-x-4 h-64\",children:stats!==null&&stats!==void 0&&stats.user_growth?stats.user_growth.map((data,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-500 rounded-t-md w-full transition-all duration-500\",style:{height:`${data.users/100*200}px`}}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-sm text-gray-600\",children:data.month}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:data.users})]},index)):/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-full w-full text-gray-500\",children:\"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25...\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"\\u0E2A\\u0E16\\u0E34\\u0E15\\u0E34\\u0E01\\u0E32\\u0E23\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E43\\u0E2B\\u0E21\\u0E48\\u0E40\\u0E14\\u0E37\\u0E2D\\u0E19\\u0E19\\u0E35\\u0E49\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-green-600\",children:[\"+\",(stats===null||stats===void 0?void 0:stats.new_users_this_month)||0]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\\u0E17\\u0E35\\u0E48\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E40\\u0E14\\u0E37\\u0E2D\\u0E19\\u0E19\\u0E35\\u0E49\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-blue-600\",children:[\"+\",(stats===null||stats===void 0?void 0:stats.new_pets_this_month)||0]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u0E01\\u0E32\\u0E23\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E14\\u0E37\\u0E2D\\u0E19\\u0E19\\u0E35\\u0E49\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-purple-600\",children:(stats===null||stats===void 0?void 0:stats.appointments_this_month)||0})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u0E40\\u0E08\\u0E49\\u0E32\\u0E02\\u0E2D\\u0E07\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[users.filter(u=>u.role===\"user\").length,\" \\u0E04\\u0E19\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E41\\u0E1E\\u0E17\\u0E22\\u0E4C\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[users.filter(u=>u.role===\"veterinarian\").length,\" \\u0E04\\u0E19\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u0E1C\\u0E39\\u0E49\\u0E14\\u0E39\\u0E41\\u0E25\\u0E23\\u0E30\\u0E1A\\u0E1A\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[users.filter(u=>u.role===\"admin\").length,\" \\u0E04\\u0E19\"]})]})]})]})]})]}),activeTab===\"approvals\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:[\"\\u0E01\\u0E32\\u0E23\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E23\\u0E2D\\u0E01\\u0E32\\u0E23\\u0E2D\\u0E19\\u0E38\\u0E21\\u0E31\\u0E15\\u0E34 (\",((_pendingApprovals$app=pendingApprovals.appointments)===null||_pendingApprovals$app===void 0?void 0:_pendingApprovals$app.length)||0,\")\"]}),/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-5 w-5 text-orange-500\"})]}),!pendingApprovals.appointments||pendingApprovals.appointments.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E01\\u0E32\\u0E23\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E23\\u0E2D\\u0E01\\u0E32\\u0E23\\u0E2D\\u0E19\\u0E38\\u0E21\\u0E31\\u0E15\\u0E34\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:pendingApprovals.appointments.map(appointment=>/*#__PURE__*/_jsx(\"div\",{className:\"border rounded-lg p-4 bg-orange-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4 text-orange-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:getAppointmentTypeText(appointment.appointment_type)}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded-full\",children:\"\\u0E23\\u0E2D\\u0E01\\u0E32\\u0E23\\u0E2D\\u0E19\\u0E38\\u0E21\\u0E31\\u0E15\\u0E34\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-5 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-3 w-3 text-gray-400\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E40\\u0E08\\u0E49\\u0E32\\u0E02\\u0E2D\\u0E07:\"}),\" \",appointment.owner_name]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07:\"}),\" \",appointment.pet_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E41\\u0E1E\\u0E17\\u0E22\\u0E4C:\"}),\" \",appointment.veterinarian_name]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48:\"}),\" \",formatDateTime(appointment.appointment_date)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E2A\\u0E23\\u0E49\\u0E32\\u0E07\\u0E42\\u0E14\\u0E22:\"}),\" \",appointment.created_by_role===\"user\"?\"ผู้ใช้\":\"สัตวแพทย์\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E2A\\u0E23\\u0E49\\u0E32\\u0E07\\u0E40\\u0E21\\u0E37\\u0E48\\u0E2D:\"}),\" \",formatDateTime(appointment.created_at)]})]})]}),appointment.notes&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 p-3 bg-gray-50 rounded-md\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-700\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E2B\\u0E15\\u0E38:\"}),\" \",appointment.notes]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 ml-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleApprovalAction(appointment,\"appointment\",\"approve\"),className:\"flex items-center space-x-1 bg-green-500 text-white px-3 py-1 rounded-md text-sm hover:bg-green-600\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E2D\\u0E19\\u0E38\\u0E21\\u0E31\\u0E15\\u0E34\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleApprovalAction(appointment,\"appointment\",\"reject\"),className:\"flex items-center space-x-1 bg-red-500 text-white px-3 py-1 rounded-md text-sm hover:bg-red-600\",children:[/*#__PURE__*/_jsx(XCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E1B\\u0E0F\\u0E34\\u0E40\\u0E2A\\u0E18\"})]})]})]})},appointment.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:[\"\\u0E41\\u0E1C\\u0E19\\u0E42\\u0E20\\u0E0A\\u0E19\\u0E32\\u0E01\\u0E32\\u0E23\\u0E23\\u0E2D\\u0E01\\u0E32\\u0E23\\u0E2D\\u0E19\\u0E38\\u0E21\\u0E31\\u0E15\\u0E34 (\",((_pendingApprovals$nut=pendingApprovals.nutrition_guidelines)===null||_pendingApprovals$nut===void 0?void 0:_pendingApprovals$nut.length)||0,\")\"]}),/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-5 w-5 text-blue-500\"})]}),!pendingApprovals.nutrition_guidelines||pendingApprovals.nutrition_guidelines.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E41\\u0E1C\\u0E19\\u0E42\\u0E20\\u0E0A\\u0E19\\u0E32\\u0E01\\u0E32\\u0E23\\u0E23\\u0E2D\\u0E01\\u0E32\\u0E23\\u0E2D\\u0E19\\u0E38\\u0E21\\u0E31\\u0E15\\u0E34\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:pendingApprovals.nutrition_guidelines.map(guideline=>/*#__PURE__*/_jsx(\"div\",{className:\"border rounded-lg p-4 bg-blue-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-4 w-4 text-blue-500\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-gray-900\",children:[\"\\u0E41\\u0E1C\\u0E19\\u0E42\\u0E20\\u0E0A\\u0E19\\u0E32\\u0E01\\u0E32\\u0E23 - \",guideline.species_name]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full\",children:\"\\u0E23\\u0E2D\\u0E01\\u0E32\\u0E23\\u0E2D\\u0E19\\u0E38\\u0E21\\u0E31\\u0E15\\u0E34\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E41\\u0E1E\\u0E17\\u0E22\\u0E4C:\"}),\" \",guideline.veterinarian_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E0A\\u0E19\\u0E34\\u0E14\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C:\"}),\" \",guideline.species_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E2A\\u0E32\\u0E22\\u0E1E\\u0E31\\u0E19\\u0E18\\u0E38\\u0E4C:\"}),\" \",guideline.breed_name||\"ทั่วไป\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E41\\u0E04\\u0E25\\u0E2D\\u0E23\\u0E35\\u0E48/\\u0E27\\u0E31\\u0E19:\"}),\" \",guideline.daily_calories,\" kcal\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E42\\u0E1B\\u0E23\\u0E15\\u0E35\\u0E19:\"}),\" \",guideline.protein_percentage,\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E44\\u0E02\\u0E21\\u0E31\\u0E19:\"}),\" \",guideline.fat_percentage,\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E21\\u0E37\\u0E49\\u0E2D/\\u0E27\\u0E31\\u0E19:\"}),\" \",guideline.feeding_frequency,\" \\u0E21\\u0E37\\u0E49\\u0E2D\"]})]})]}),guideline.special_instructions&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 p-3 bg-gray-50 rounded-md\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-700\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E04\\u0E33\\u0E41\\u0E19\\u0E30\\u0E19\\u0E33\\u0E1E\\u0E34\\u0E40\\u0E28\\u0E29:\"}),\" \",guideline.special_instructions]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 ml-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleApprovalAction(guideline,\"nutrition\",\"approve\"),className:\"flex items-center space-x-1 bg-green-500 text-white px-3 py-1 rounded-md text-sm hover:bg-green-600\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E2D\\u0E19\\u0E38\\u0E21\\u0E31\\u0E15\\u0E34\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleApprovalAction(guideline,\"nutrition\",\"reject\"),className:\"flex items-center space-x-1 bg-red-500 text-white px-3 py-1 rounded-md text-sm hover:bg-red-600\",children:[/*#__PURE__*/_jsx(XCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E1B\\u0E0F\\u0E34\\u0E40\\u0E2A\\u0E18\"})]})]})]})},guideline.id))})]})]}),activeTab===\"users\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\"}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{const response=await apiClient.post(\"/admin/migrate-users\");const data=response.data;if(data.sql_commands){const sqlText=data.sql_commands.join('\\n\\n');const instructions=data.instructions;alert(`${data.message}\\n\\nSQL Commands:\\n${sqlText}\\n\\nInstructions:\\n${instructions}`);}else{alert(\"Migration สำเร็จแล้ว! กรุณา refresh หน้าเว็บ\");window.location.reload();}}catch(error){var _error$response4,_error$response4$data;alert(`Migration ล้มเหลว: ${((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.error)||error.message}`);}},className:\"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600\",children:\"\\u0E23\\u0E31\\u0E19 Migration\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E2A\\u0E21\\u0E31\\u0E04\\u0E23\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E23\\u0E30\\u0E1A\\u0E1A\\u0E25\\u0E48\\u0E32\\u0E2A\\u0E38\\u0E14\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"\\u0E01\\u0E32\\u0E23\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\",children:[userImages[user.id]||user.profile_picture_url&&user.profile_picture_url.startsWith('data:')?/*#__PURE__*/_jsx(\"img\",{src:userImages[user.id]||user.profile_picture_url,alt:user.full_name,className:\"w-full h-full object-cover\",onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='flex';}}):null,/*#__PURE__*/_jsx(\"div\",{className:`w-full h-full flex items-center justify-center ${userImages[user.id]||user.profile_picture_url&&user.profile_picture_url.startsWith('data:')?'hidden':'flex'}`,children:/*#__PURE__*/_jsx(Users,{className:\"h-5 w-5 text-gray-400\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:user.full_name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:user.email})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${user.role===\"admin\"?\"bg-purple-100 text-purple-800\":user.role===\"veterinarian\"?\"bg-blue-100 text-blue-800\":\"bg-green-100 text-green-800\"}`,children:user.role===\"admin\"?\"ผู้ดูแล\":user.role===\"veterinarian\"?\"สัตวแพทย์\":\"ผู้ใช้\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:new Date(user.created_at).toLocaleDateString(\"th-TH\")}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:user.last_login?new Date(user.last_login).toLocaleDateString(\"th-TH\"):\"ยังไม่เคย\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${user.is_active?\"bg-green-100 text-green-800\":\"bg-red-100 text-red-800\"}`,children:user.is_active?\"ใช้งาน\":\"ระงับ\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:user.role!==\"admin\"&&/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:user.is_active?/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleUserStatusUpdate(user.id,false),className:\"text-red-600 hover:text-red-900 flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(UserX,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E23\\u0E30\\u0E07\\u0E31\\u0E1A\"})]}):/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleUserStatusUpdate(user.id,true),className:\"text-green-600 hover:text-green-900 flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(UserCheck,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E40\\u0E1B\\u0E34\\u0E14\\u0E43\\u0E0A\\u0E49\"})]})})})]},user.id))})]})})})]})]}),showApprovalModal&&selectedApproval&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-6 border-b\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:[approvalAction===\"approve\"?\"อนุมัติ\":\"ปฏิเสธ\",selectedApproval.type===\"appointment\"?\"การนัดหมาย\":\"แผนโภชนาการ\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowApprovalModal(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(XCircle,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 mb-2\",children:\"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14:\"}),selectedApproval.type===\"appointment\"?/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 space-y-1\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17:\"}),\" \",getAppointmentTypeText(selectedApproval.appointment_type)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-5 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-3 w-3 text-gray-400\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E40\\u0E08\\u0E49\\u0E32\\u0E02\\u0E2D\\u0E07:\"}),\" \",selectedApproval.owner_name]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07:\"}),\" \",selectedApproval.pet_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E41\\u0E1E\\u0E17\\u0E22\\u0E4C:\"}),\" \",selectedApproval.veterinarian_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48:\"}),\" \",formatDateTime(selectedApproval.appointment_date)]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 space-y-1\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E41\\u0E1E\\u0E17\\u0E22\\u0E4C:\"}),\" \",selectedApproval.veterinarian_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E0A\\u0E19\\u0E34\\u0E14\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C:\"}),\" \",selectedApproval.species_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E41\\u0E04\\u0E25\\u0E2D\\u0E23\\u0E35\\u0E48/\\u0E27\\u0E31\\u0E19:\"}),\" \",selectedApproval.daily_calories,\" kcal\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E42\\u0E1B\\u0E23\\u0E15\\u0E35\\u0E19:\"}),\" \",selectedApproval.protein_percentage,\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E44\\u0E02\\u0E21\\u0E31\\u0E19:\"}),\" \",selectedApproval.fat_percentage,\"%\"]})]})]}),approvalAction===\"reject\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"rejectionReason\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\u0E40\\u0E2B\\u0E15\\u0E38\\u0E1C\\u0E25\\u0E43\\u0E19\\u0E01\\u0E32\\u0E23\\u0E1B\\u0E0F\\u0E34\\u0E40\\u0E2A\\u0E18 *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"rejectionReason\",rows:\"3\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\",placeholder:\"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E23\\u0E30\\u0E1A\\u0E38\\u0E40\\u0E2B\\u0E15\\u0E38\\u0E1C\\u0E25...\",value:rejectionReason,onChange:e=>setRejectionReason(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowApprovalModal(false),className:\"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\",children:\"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"}),/*#__PURE__*/_jsx(\"button\",{onClick:processApproval,disabled:processingApproval||approvalAction===\"reject\"&&!rejectionReason.trim(),className:`flex-1 px-4 py-2 rounded-lg text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${approvalAction===\"approve\"?\"bg-green-500 hover:bg-green-600\":\"bg-red-500 hover:bg-red-600\"}`,children:processingApproval?\"กำลังดำเนินการ...\":approvalAction===\"approve\"?\"อนุมัติ\":\"ปฏิเสธ\"})]})]})]})})]});};export default AdminDashboard;","map":{"version":3,"names":["useState","useEffect","useAuth","apiClient","Users","PawPrint","FileText","Calendar","UserCheck","UserX","CheckCircle","XCircle","Clock","AlertTriangle","jsx","_jsx","jsxs","_jsxs","AdminDashboard","_pendingApprovals$app","_pendingApprovals$nut","user","stats","setStats","users","setUsers","pendingApprovals","setPendingApprovals","appointments","nutrition_guidelines","loading","setLoading","activeTab","setActiveTab","selectedApproval","setSelectedApproval","showApprovalModal","setShowApprovalModal","approvalAction","setApprovalAction","rejectionReason","setRejectionReason","processingApproval","setProcessingApproval","userImages","setUserImages","fetchAdminData","length","loadUserImages","imagePromises","map","profile_picture_url","startsWith","filename","includes","split","pop","response","fetch","process","env","REACT_APP_API_URL","mode","credentials","ok","blob","reader","FileReader","base64Image","Promise","resolve","onload","e","target","result","readAsDataURL","userId","id","image","error","console","results","all","imageMap","forEach","_ref","statsResponse","usersResponse","approvalsResponse","allSettled","get","status","value","data","handleUserStatusUpdate","isActive","log","is_active","patch","u","alert","_error$response","_error$response2","_error$response2$data","message","handleApprovalAction","item","type","action","processApproval","endpoint","payload","rejection_reason","prev","filter","a","n","pending_appointments","pending_nutrition_guidelines","_error$response3","_error$response3$data","formatDateTime","dateString","Date","toLocaleString","year","month","day","hour","minute","getAppointmentTypeText","types","checkup","vaccination","consultation","surgery","emergency","className","children","src","alt","full_name","onError","style","display","nextSibling","total_users","total_pets","total_articles","key","label","tab","onClick","user_growth","index","height","new_users_this_month","new_pets_this_month","appointments_this_month","role","appointment","appointment_type","fill","viewBox","fillRule","d","clipRule","owner_name","pet_name","veterinarian_name","appointment_date","created_by_role","created_at","notes","guideline","species_name","breed_name","daily_calories","protein_percentage","fat_percentage","feeding_frequency","special_instructions","post","sql_commands","sqlText","join","instructions","window","location","reload","_error$response4","_error$response4$data","email","toLocaleDateString","last_login","htmlFor","rows","placeholder","onChange","required","disabled","trim"],"sources":["D:/senior.project/pet-health-docs/src/pages/AdminDashboard.js"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useAuth } from \"../contexts/AuthContext\"\nimport apiClient from \"../services/api\"\nimport {\n  Users,\n  PawPrint,\n  FileText,\n  Calendar,\n  UserCheck,\n  UserX,\n  CheckCircle,\n  XCircle,\n  Clock,\n  AlertTriangle,\n} from \"lucide-react\"\n\nconst AdminDashboard = () => {\n  const { user } = useAuth()\n  const [stats, setStats] = useState(null)\n  const [users, setUsers] = useState([])\n  const [pendingApprovals, setPendingApprovals] = useState({ appointments: [], nutrition_guidelines: [] })\n  const [loading, setLoading] = useState(true)\n  const [activeTab, setActiveTab] = useState(\"overview\")\n  const [selectedApproval, setSelectedApproval] = useState(null)\n  const [showApprovalModal, setShowApprovalModal] = useState(false)\n  const [approvalAction, setApprovalAction] = useState(\"\")\n  const [rejectionReason, setRejectionReason] = useState(\"\")\n  const [processingApproval, setProcessingApproval] = useState(false)\n  const [userImages, setUserImages] = useState({})\n\n  useEffect(() => {\n    fetchAdminData()\n  }, [])\n\n  // Load user images when users data changes\n  useEffect(() => {\n    if (users.length > 0) {\n      loadUserImages()\n    }\n  }, [users])\n\n  const loadUserImages = async () => {\n    const imagePromises = users.map(async (user) => {\n      if (user.profile_picture_url && !user.profile_picture_url.startsWith('data:')) {\n        try {\n          const filename = user.profile_picture_url.includes('/') ? user.profile_picture_url.split('/').pop() : user.profile_picture_url\n          const response = await fetch(`${process.env.REACT_APP_API_URL}/upload/image/${filename}`, {\n            mode: 'cors',\n            credentials: 'omit'\n          })\n          if (response.ok) {\n            const blob = await response.blob()\n            const reader = new FileReader()\n            const base64Image = await new Promise((resolve) => {\n              reader.onload = (e) => resolve(e.target.result)\n              reader.readAsDataURL(blob)\n            })\n            return { userId: user.id, image: base64Image }\n          }\n        } catch (error) {\n          console.error(`Failed to load image for user ${user.id}:`, error)\n        }\n      }\n      return { userId: user.id, image: null }\n    })\n\n    const results = await Promise.all(imagePromises)\n    const imageMap = {}\n    results.forEach(({ userId, image }) => {\n      if (image) {\n        imageMap[userId] = image\n      }\n    })\n    setUserImages(imageMap)\n  }\n\n  const fetchAdminData = async () => {\n    try {\n      const [statsResponse, usersResponse, approvalsResponse] = await Promise.allSettled([\n        apiClient.get(\"/admin/statistics\"),\n        apiClient.get(\"/admin/users\"),\n        apiClient.get(\"/admin/pending-approvals\"),\n      ])\n\n      // Process stats\n      if (statsResponse.status === 'fulfilled') {\n        setStats(statsResponse.value.data)\n      }\n\n      // Process users\n      if (usersResponse.status === 'fulfilled') {\n        setUsers(usersResponse.value.data)\n      }\n\n      // Process approvals\n      if (approvalsResponse.status === 'fulfilled') {\n        setPendingApprovals(approvalsResponse.value.data)\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch admin data:\", error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleUserStatusUpdate = async (userId, isActive) => {\n    try {\n      console.log(\"=== Frontend User Status Update Debug ===\")\n      console.log(\"User ID:\", userId)\n      console.log(\"Is Active:\", isActive, typeof isActive)\n      console.log(\"Request payload:\", { is_active: isActive })\n      \n      await apiClient.patch(`/admin/users/${userId}/status`, { is_active: isActive })\n      setUsers(users.map((u) => (u.id === userId ? { ...u, is_active: isActive } : u)))\n      alert(`อัพเดทสถานะผู้ใช้${isActive ? \"เปิดใช้\" : \"ระงับ\"}สำเร็จแล้ว`)\n    } catch (error) {\n      console.error(\"Failed to update user status:\", error)\n      console.error(\"Error response:\", error.response?.data)\n      alert(`เกิดข้อผิดพลาด: ${error.response?.data?.error || error.message}`)\n    }\n  }\n\n  const handleApprovalAction = (item, type, action) => {\n    setSelectedApproval({ ...item, type })\n    setApprovalAction(action)\n    setRejectionReason(\"\")\n    setShowApprovalModal(true)\n  }\n\n  const processApproval = async () => {\n    if (!selectedApproval) return\n\n    setProcessingApproval(true)\n    try {\n      const endpoint =\n        selectedApproval.type === \"appointment\"\n          ? `/admin/appointments/${selectedApproval.id}/approve`\n          : `/admin/nutrition-guidelines/${selectedApproval.id}/approve`\n\n      const payload = {\n        action: approvalAction,\n        rejection_reason: approvalAction === \"reject\" ? rejectionReason : null,\n      }\n\n      await apiClient.patch(endpoint, payload)\n\n      // อัพเดทข้อมูลในหน้า\n      if (selectedApproval.type === \"appointment\") {\n        setPendingApprovals((prev) => ({\n          ...prev,\n          appointments: prev.appointments.filter((a) => a.id !== selectedApproval.id),\n        }))\n      } else {\n        setPendingApprovals((prev) => ({\n          ...prev,\n          nutrition_guidelines: prev.nutrition_guidelines.filter((n) => n.id !== selectedApproval.id),\n        }))\n      }\n\n      // อัพเดทสถิติ\n      setStats((prev) => ({\n        ...prev,\n        pending_appointments:\n          selectedApproval.type === \"appointment\" ? prev.pending_appointments - 1 : prev.pending_appointments,\n        pending_nutrition_guidelines:\n          selectedApproval.type === \"nutrition\"\n            ? prev.pending_nutrition_guidelines - 1\n            : prev.pending_nutrition_guidelines,\n      }))\n\n      setShowApprovalModal(false)\n      setSelectedApproval(null)\n      alert(`${approvalAction === \"approve\" ? \"อนุมัติ\" : \"ปฏิเสธ\"}สำเร็จแล้ว`)\n    } catch (error) {\n      console.error(\"Failed to process approval:\", error)\n      alert(`เกิดข้อผิดพลาด: ${error.response?.data?.error || error.message}`)\n    } finally {\n      setProcessingApproval(false)\n    }\n  }\n\n  const formatDateTime = (dateString) => {\n    return new Date(dateString).toLocaleString(\"th-TH\", {\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    })\n  }\n\n  const getAppointmentTypeText = (type) => {\n    const types = {\n      checkup: \"ตรวจสุขภาพ\",\n      vaccination: \"ฉีดวัคซีน\",\n      consultation: \"ปรึกษา\",\n      surgery: \"ผ่าตัด\",\n      emergency: \"ฉุกเฉิน\",\n    }\n    return types[type] || type\n  }\n\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500\"></div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\">\n              {user.profile_picture_url ? (\n                <img \n                  src={user.profile_picture_url} \n                  alt={user.full_name}\n                  className=\"w-full h-full object-cover\"\n                  onError={(e) => {\n                    e.target.style.display = 'none'\n                    e.target.nextSibling.style.display = 'flex'\n                  }}\n                />\n              ) : null}\n              <div className={`w-full h-full flex items-center justify-center ${user.profile_picture_url ? 'hidden' : 'flex'}`}>\n                <Users className=\"h-6 w-6 text-gray-400\" />\n              </div>\n            </div>\n            <div>\n          <h1 className=\"text-3xl font-bold text-gray-900\">แดชบอร์ดผู้ดูแลระบบ</h1>\n          <p className=\"text-gray-600 mt-2\">สวัสดี, {user.full_name}</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Stats Overview */}\n        {stats ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n            <div className=\"card\">\n              <div className=\"flex items-center\">\n                <div className=\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center\">\n                  <Users className=\"h-6 w-6 text-blue-500\" />\n                </div>\n                <div className=\"ml-4\">\n                  <p className=\"text-sm text-gray-600\">ผู้ใช้งานทั้งหมด</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">{stats.total_users || 0} คน</p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"card\">\n              <div className=\"flex items-center\">\n                <div className=\"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center\">\n                  <PawPrint className=\"h-6 w-6 text-green-500\" />\n                </div>\n                <div className=\"ml-4\">\n                  <p className=\"text-sm text-gray-600\">สัตว์เลี้ยงในระบบ</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">{stats.total_pets || 0} ตัว</p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"card\">\n              <div className=\"flex items-center\">\n                <div className=\"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center\">\n                  <Clock className=\"h-6 w-6 text-orange-500\" />\n                </div>\n                <div className=\"ml-4\">\n                  <p className=\"text-sm text-gray-600\">รอการอนุมัติ</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">\n                    {(stats.pending_appointments || 0) + (stats.pending_nutrition_guidelines || 0)} รายการ\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"card\">\n              <div className=\"flex items-center\">\n                <div className=\"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center\">\n                  <FileText className=\"h-6 w-6 text-purple-500\" />\n                </div>\n                <div className=\"ml-4\">\n                  <p className=\"text-sm text-gray-600\">บทความ</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">{stats.total_articles || 0} บทความ</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n            <div className=\"card\">\n              <div className=\"flex items-center\">\n                <div className=\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center\">\n                  <Users className=\"h-6 w-6 text-gray-400\" />\n                </div>\n                <div className=\"ml-4\">\n                  <p className=\"text-sm text-gray-600\">ผู้ใช้งานทั้งหมด</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">-</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"card\">\n              <div className=\"flex items-center\">\n                <div className=\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center\">\n                  <PawPrint className=\"h-6 w-6 text-gray-400\" />\n                </div>\n                <div className=\"ml-4\">\n                  <p className=\"text-sm text-gray-600\">สัตว์เลี้ยงในระบบ</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">-</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"card\">\n              <div className=\"flex items-center\">\n                <div className=\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center\">\n                  <Clock className=\"h-6 w-6 text-gray-400\" />\n                </div>\n                <div className=\"ml-4\">\n                  <p className=\"text-sm text-gray-600\">รอการอนุมัติ</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">-</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"card\">\n              <div className=\"flex items-center\">\n                <div className=\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center\">\n                  <FileText className=\"h-6 w-6 text-gray-400\" />\n                </div>\n                <div className=\"ml-4\">\n                  <p className=\"text-sm text-gray-600\">บทความ</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">-</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Tabs */}\n        <div className=\"mb-8\">\n          <div className=\"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit\">\n            {[\n              { key: \"overview\", label: \"ภาพรวม\" },\n              {\n                key: \"approvals\",\n                label: `การอนุมัติ (${(stats?.pending_appointments || 0) + (stats?.pending_nutrition_guidelines || 0)})`,\n              },\n              { key: \"users\", label: \"จัดการผู้ใช้\" },\n            ].map((tab) => (\n              <button\n                key={tab.key}\n                onClick={() => setActiveTab(tab.key)}\n                className={`px-6 py-2 rounded-md text-sm font-medium transition-colors ${\n                  activeTab === tab.key ? \"bg-white text-green-600 shadow-sm\" : \"text-gray-600 hover:text-gray-900\"\n                }`}\n              >\n                {tab.label}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Tab Content */}\n        {activeTab === \"overview\" && (\n          <div className=\"space-y-8\">\n            {/* User Growth Chart */}\n            <div className=\"card\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">การเติบโตของผู้ใช้งาน</h3>\n              <div className=\"flex items-end space-x-4 h-64\">\n                {stats?.user_growth ? (\n                  stats.user_growth.map((data, index) => (\n                  <div key={index} className=\"flex flex-col items-center flex-1\">\n                    <div\n                      className=\"bg-green-500 rounded-t-md w-full transition-all duration-500\"\n                      style={{ height: `${(data.users / 100) * 200}px` }}\n                    ></div>\n                    <div className=\"mt-2 text-sm text-gray-600\">{data.month}</div>\n                    <div className=\"text-sm font-medium text-gray-900\">{data.users}</div>\n                  </div>\n                  ))\n                ) : (\n                  <div className=\"flex items-center justify-center h-full w-full text-gray-500\">\n                    กำลังโหลดข้อมูล...\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Quick Stats */}\n            <div className=\"grid md:grid-cols-2 gap-6\">\n              <div className=\"card\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">สถิติการใช้งาน</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">ผู้ใช้ใหม่เดือนนี้</span>\n                    <span className=\"font-medium text-green-600\">+{stats?.new_users_this_month || 0}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">สัตว์เลี้ยงที่เพิ่มเดือนนี้</span>\n                    <span className=\"font-medium text-blue-600\">+{stats?.new_pets_this_month || 0}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">การนัดหมายเดือนนี้</span>\n                    <span className=\"font-medium text-purple-600\">{stats?.appointments_this_month || 0}</span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"card\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">ประเภทผู้ใช้งาน</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">เจ้าของสัตว์เลี้ยง</span>\n                    <span className=\"font-medium\">{users.filter((u) => u.role === \"user\").length} คน</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">สัตวแพทย์</span>\n                    <span className=\"font-medium\">{users.filter((u) => u.role === \"veterinarian\").length} คน</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">ผู้ดูแลระบบ</span>\n                    <span className=\"font-medium\">{users.filter((u) => u.role === \"admin\").length} คน</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {activeTab === \"approvals\" && (\n          <div className=\"space-y-8\">\n            {/* Pending Appointments */}\n            <div className=\"card\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900\">\n                  การนัดหมายรอการอนุมัติ ({pendingApprovals.appointments?.length || 0})\n                </h3>\n                <AlertTriangle className=\"h-5 w-5 text-orange-500\" />\n              </div>\n\n              {!pendingApprovals.appointments || pendingApprovals.appointments.length === 0 ? (\n                <div className=\"text-center py-8 text-gray-500\">ไม่มีการนัดหมายรอการอนุมัติ</div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {pendingApprovals.appointments.map((appointment) => (\n                    <div key={appointment.id} className=\"border rounded-lg p-4 bg-orange-50\">\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center space-x-2 mb-2\">\n                            <Calendar className=\"h-4 w-4 text-orange-500\" />\n                            <span className=\"font-medium text-gray-900\">\n                              {getAppointmentTypeText(appointment.appointment_type)}\n                            </span>\n                            <span className=\"px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded-full\">\n                              รอการอนุมัติ\n                            </span>\n                          </div>\n\n                          <div className=\"grid md:grid-cols-2 gap-4 text-sm text-gray-600\">\n                            <div>\n                              <div className=\"flex items-center space-x-2 mb-1\">\n                                <div className=\"w-5 h-5 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\">\n                                  <svg className=\"h-3 w-3 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                    <path fillRule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clipRule=\"evenodd\" />\n                                  </svg>\n                                </div>\n                                <p><strong>เจ้าของ:</strong> {appointment.owner_name}</p>\n                              </div>\n                              <p>\n                                <strong>สัตว์เลี้ยง:</strong> {appointment.pet_name}\n                              </p>\n                              <p>\n                                <strong>สัตวแพทย์:</strong> {appointment.veterinarian_name}\n                              </p>\n                            </div>\n                            <div>\n                              <p>\n                                <strong>วันที่:</strong> {formatDateTime(appointment.appointment_date)}\n                              </p>\n                              <p>\n                                <strong>สร้างโดย:</strong> {appointment.created_by_role === \"user\" ? \"ผู้ใช้\" : \"สัตวแพทย์\"}\n                              </p>\n                              <p>\n                                <strong>สร้างเมื่อ:</strong> {formatDateTime(appointment.created_at)}\n                              </p>\n                            </div>\n                          </div>\n\n                          {appointment.notes && (\n                            <div className=\"mt-3 p-3 bg-gray-50 rounded-md\">\n                              <p className=\"text-sm text-gray-700\">\n                                <strong>หมายเหตุ:</strong> {appointment.notes}\n                              </p>\n                            </div>\n                          )}\n                        </div>\n\n                        <div className=\"flex space-x-2 ml-4\">\n                          <button\n                            onClick={() => handleApprovalAction(appointment, \"appointment\", \"approve\")}\n                            className=\"flex items-center space-x-1 bg-green-500 text-white px-3 py-1 rounded-md text-sm hover:bg-green-600\"\n                          >\n                            <CheckCircle className=\"h-4 w-4\" />\n                            <span>อนุมัติ</span>\n                          </button>\n                          <button\n                            onClick={() => handleApprovalAction(appointment, \"appointment\", \"reject\")}\n                            className=\"flex items-center space-x-1 bg-red-500 text-white px-3 py-1 rounded-md text-sm hover:bg-red-600\"\n                          >\n                            <XCircle className=\"h-4 w-4\" />\n                            <span>ปฏิเสธ</span>\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Pending Nutrition Guidelines */}\n            <div className=\"card\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900\">\n                  แผนโภชนาการรอการอนุมัติ ({pendingApprovals.nutrition_guidelines?.length || 0})\n                </h3>\n                <AlertTriangle className=\"h-5 w-5 text-blue-500\" />\n              </div>\n\n              {!pendingApprovals.nutrition_guidelines || pendingApprovals.nutrition_guidelines.length === 0 ? (\n                <div className=\"text-center py-8 text-gray-500\">ไม่มีแผนโภชนาการรอการอนุมัติ</div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {pendingApprovals.nutrition_guidelines.map((guideline) => (\n                    <div key={guideline.id} className=\"border rounded-lg p-4 bg-blue-50\">\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center space-x-2 mb-2\">\n                            <FileText className=\"h-4 w-4 text-blue-500\" />\n                            <span className=\"font-medium text-gray-900\">แผนโภชนาการ - {guideline.species_name}</span>\n                            <span className=\"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full\">รอการอนุมัติ</span>\n                          </div>\n\n                          <div className=\"grid md:grid-cols-2 gap-4 text-sm text-gray-600\">\n                            <div>\n                              <p>\n                                <strong>สัตวแพทย์:</strong> {guideline.veterinarian_name}\n                              </p>\n                              <p>\n                                <strong>ชนิดสัตว์:</strong> {guideline.species_name}\n                              </p>\n                              <p>\n                                <strong>สายพันธุ์:</strong> {guideline.breed_name || \"ทั่วไป\"}\n                              </p>\n                            </div>\n                            <div>\n                              <p>\n                                <strong>แคลอรี่/วัน:</strong> {guideline.daily_calories} kcal\n                              </p>\n                              <p>\n                                <strong>โปรตีน:</strong> {guideline.protein_percentage}%\n                              </p>\n                              <p>\n                                <strong>ไขมัน:</strong> {guideline.fat_percentage}%\n                              </p>\n                              <p>\n                                <strong>มื้อ/วัน:</strong> {guideline.feeding_frequency} มื้อ\n                              </p>\n                            </div>\n                          </div>\n\n                          {guideline.special_instructions && (\n                            <div className=\"mt-3 p-3 bg-gray-50 rounded-md\">\n                              <p className=\"text-sm text-gray-700\">\n                                <strong>คำแนะนำพิเศษ:</strong> {guideline.special_instructions}\n                              </p>\n                            </div>\n                          )}\n                        </div>\n\n                        <div className=\"flex space-x-2 ml-4\">\n                          <button\n                            onClick={() => handleApprovalAction(guideline, \"nutrition\", \"approve\")}\n                            className=\"flex items-center space-x-1 bg-green-500 text-white px-3 py-1 rounded-md text-sm hover:bg-green-600\"\n                          >\n                            <CheckCircle className=\"h-4 w-4\" />\n                            <span>อนุมัติ</span>\n                          </button>\n                          <button\n                            onClick={() => handleApprovalAction(guideline, \"nutrition\", \"reject\")}\n                            className=\"flex items-center space-x-1 bg-red-500 text-white px-3 py-1 rounded-md text-sm hover:bg-red-600\"\n                          >\n                            <XCircle className=\"h-4 w-4\" />\n                            <span>ปฏิเสธ</span>\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {activeTab === \"users\" && (\n          <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n            <h2 className=\"text-2xl font-bold text-gray-900\">จัดการผู้ใช้งาน</h2>\n              <button\n                onClick={async () => {\n                  try {\n                    const response = await apiClient.post(\"/admin/migrate-users\")\n                    const data = response.data\n                    \n                    if (data.sql_commands) {\n                      const sqlText = data.sql_commands.join('\\n\\n')\n                      const instructions = data.instructions\n                      \n                      alert(`${data.message}\\n\\nSQL Commands:\\n${sqlText}\\n\\nInstructions:\\n${instructions}`)\n                    } else {\n                      alert(\"Migration สำเร็จแล้ว! กรุณา refresh หน้าเว็บ\")\n                      window.location.reload()\n                    }\n                  } catch (error) {\n                    alert(`Migration ล้มเหลว: ${error.response?.data?.error || error.message}`)\n                  }\n                }}\n                className=\"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600\"\n              >\n                รัน Migration\n              </button>\n            </div>\n\n            <div className=\"card overflow-hidden\">\n              <div className=\"overflow-x-auto\">\n                <table className=\"min-w-full divide-y divide-gray-200\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        ผู้ใช้งาน\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        ประเภท\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        วันที่สมัคร\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        เข้าสู่ระบบล่าสุด\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        สถานะ\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        การจัดการ\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\n                    {users.map((user) => (\n                      <tr key={user.id}>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <div className=\"flex items-center space-x-3\">\n                            <div className=\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\">\n                              {userImages[user.id] || (user.profile_picture_url && user.profile_picture_url.startsWith('data:')) ? (\n                                <img \n                                  src={userImages[user.id] || user.profile_picture_url} \n                                  alt={user.full_name}\n                                  className=\"w-full h-full object-cover\"\n                                  onError={(e) => {\n                                    e.target.style.display = 'none'\n                                    e.target.nextSibling.style.display = 'flex'\n                                  }}\n                                />\n                              ) : null}\n                              <div className={`w-full h-full flex items-center justify-center ${(userImages[user.id] || (user.profile_picture_url && user.profile_picture_url.startsWith('data:'))) ? 'hidden' : 'flex'}`}>\n                                <Users className=\"h-5 w-5 text-gray-400\" />\n                              </div>\n                            </div>\n                          <div>\n                            <div className=\"text-sm font-medium text-gray-900\">{user.full_name}</div>\n                            <div className=\"text-sm text-gray-500\">{user.email}</div>\n                            </div>\n                          </div>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <span\n                            className={`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${\n                              user.role === \"admin\"\n                                ? \"bg-purple-100 text-purple-800\"\n                                : user.role === \"veterinarian\"\n                                  ? \"bg-blue-100 text-blue-800\"\n                                  : \"bg-green-100 text-green-800\"\n                            }`}\n                          >\n                            {user.role === \"admin\" ? \"ผู้ดูแล\" : user.role === \"veterinarian\" ? \"สัตวแพทย์\" : \"ผู้ใช้\"}\n                          </span>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                          {new Date(user.created_at).toLocaleDateString(\"th-TH\")}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                          {user.last_login ? new Date(user.last_login).toLocaleDateString(\"th-TH\") : \"ยังไม่เคย\"}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <span\n                            className={`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${\n                              user.is_active ? \"bg-green-100 text-green-800\" : \"bg-red-100 text-red-800\"\n                            }`}\n                          >\n                            {user.is_active ? \"ใช้งาน\" : \"ระงับ\"}\n                          </span>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                          {user.role !== \"admin\" && (\n                            <div className=\"flex space-x-2\">\n                              {user.is_active ? (\n                                <button\n                                  onClick={() => handleUserStatusUpdate(user.id, false)}\n                                  className=\"text-red-600 hover:text-red-900 flex items-center space-x-1\"\n                                >\n                                  <UserX className=\"h-4 w-4\" />\n                                  <span>ระงับ</span>\n                                </button>\n                              ) : (\n                                <button\n                                  onClick={() => handleUserStatusUpdate(user.id, true)}\n                                  className=\"text-green-600 hover:text-green-900 flex items-center space-x-1\"\n                                >\n                                  <UserCheck className=\"h-4 w-4\" />\n                                  <span>เปิดใช้</span>\n                                </button>\n                              )}\n                            </div>\n                          )}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        )}\n\n      </div>\n\n      {/* Approval Modal */}\n      {showApprovalModal && selectedApproval && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white rounded-xl max-w-md w-full\">\n            <div className=\"flex items-center justify-between p-6 border-b\">\n              <h2 className=\"text-xl font-bold text-gray-900\">\n                {approvalAction === \"approve\" ? \"อนุมัติ\" : \"ปฏิเสธ\"}\n                {selectedApproval.type === \"appointment\" ? \"การนัดหมาย\" : \"แผนโภชนาการ\"}\n              </h2>\n              <button onClick={() => setShowApprovalModal(false)} className=\"text-gray-400 hover:text-gray-600\">\n                <XCircle className=\"h-6 w-6\" />\n              </button>\n            </div>\n\n            <div className=\"p-6\">\n              <div className=\"mb-4\">\n                <h3 className=\"font-medium text-gray-900 mb-2\">รายละเอียด:</h3>\n                {selectedApproval.type === \"appointment\" ? (\n                  <div className=\"text-sm text-gray-600 space-y-1\">\n                    <p>\n                      <strong>ประเภท:</strong> {getAppointmentTypeText(selectedApproval.appointment_type)}\n                    </p>\n                  <div className=\"flex items-center space-x-2\">\n                    <div className=\"w-5 h-5 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\">\n                      <svg className=\"h-3 w-3 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clipRule=\"evenodd\" />\n                      </svg>\n                    </div>\n                    <p><strong>เจ้าของ:</strong> {selectedApproval.owner_name}</p>\n                  </div>\n                    <p>\n                      <strong>สัตว์เลี้ยง:</strong> {selectedApproval.pet_name}\n                    </p>\n                    <p>\n                      <strong>สัตวแพทย์:</strong> {selectedApproval.veterinarian_name}\n                    </p>\n                    <p>\n                      <strong>วันที่:</strong> {formatDateTime(selectedApproval.appointment_date)}\n                    </p>\n                  </div>\n                ) : (\n                  <div className=\"text-sm text-gray-600 space-y-1\">\n                    <p>\n                      <strong>สัตวแพทย์:</strong> {selectedApproval.veterinarian_name}\n                    </p>\n                    <p>\n                      <strong>ชนิดสัตว์:</strong> {selectedApproval.species_name}\n                    </p>\n                    <p>\n                      <strong>แคลอรี่/วัน:</strong> {selectedApproval.daily_calories} kcal\n                    </p>\n                    <p>\n                      <strong>โปรตีน:</strong> {selectedApproval.protein_percentage}%\n                    </p>\n                    <p>\n                      <strong>ไขมัน:</strong> {selectedApproval.fat_percentage}%\n                    </p>\n                  </div>\n                )}\n              </div>\n\n              {approvalAction === \"reject\" && (\n                <div className=\"mb-4\">\n                  <label htmlFor=\"rejectionReason\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    เหตุผลในการปฏิเสธ *\n                  </label>\n                  <textarea\n                    id=\"rejectionReason\"\n                    rows=\"3\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    placeholder=\"กรุณาระบุเหตุผล...\"\n                    value={rejectionReason}\n                    onChange={(e) => setRejectionReason(e.target.value)}\n                    required\n                  />\n                </div>\n              )}\n\n              <div className=\"flex space-x-3\">\n                <button\n                  onClick={() => setShowApprovalModal(false)}\n                  className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\"\n                >\n                  ยกเลิก\n                </button>\n                <button\n                  onClick={processApproval}\n                  disabled={processingApproval || (approvalAction === \"reject\" && !rejectionReason.trim())}\n                  className={`flex-1 px-4 py-2 rounded-lg text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${\n                    approvalAction === \"approve\" ? \"bg-green-500 hover:bg-green-600\" : \"bg-red-500 hover:bg-red-600\"\n                  }`}\n                >\n                  {processingApproval ? \"กำลังดำเนินการ...\" : approvalAction === \"approve\" ? \"อนุมัติ\" : \"ปฏิเสธ\"}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default AdminDashboard\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}