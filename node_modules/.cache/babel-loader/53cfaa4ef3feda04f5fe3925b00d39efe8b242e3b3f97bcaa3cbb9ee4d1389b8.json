{"ast":null,"code":"\"use client\";import{useState,useEffect,useCallback}from\"react\";import{Link,Navigate}from\"react-router-dom\";import{useAuth}from\"../contexts/AuthContext\";import{petService,notificationService,appointmentService}from\"../services\";import{useApi}from\"../hooks\";import{Plus,Heart,Bell,Calendar,PawPrint}from\"lucide-react\";import AddPetModal from\"../components/AddPetModal\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{var _appointments$0$pets;const{user}=useAuth();const[pets,setPets]=useState([]);const[notifications,setNotifications]=useState([]);const[appointments,setAppointments]=useState([]);const[showAddPetModal,setShowAddPetModal]=useState(false);const{loading,execute}=useApi();const fetchDashboardData=useCallback(async()=>{var _petsResult$value,_appointmentsResult$v;if(!user)return;setPets([]);setNotifications([]);setAppointments([]);// สำหรับผู้ใช้ทั่วไป - ใช้โค้ดเดิม\nconst[petsResult,notificationsResult,appointmentsResult]=await Promise.allSettled([execute(()=>petService.getPets()),execute(()=>notificationService.getNotifications()),execute(()=>appointmentService.getAppointments())]);// 1. ประมวลผลข้อมูล Pets\nif(petsResult.status==='fulfilled'&&(_petsResult$value=petsResult.value)!==null&&_petsResult$value!==void 0&&_petsResult$value.success){const petsData=petsResult.value.pets||[];// Load images for pets that have photo_url\nconst petsWithImages=await Promise.all(petsData.map(async pet=>{if(pet.photo_url){try{// For existing images, try to fetch and convert to base64\nif(pet.photo_url.startsWith('/uploads/')||pet.photo_url.startsWith('http://localhost:5000/api/upload/image/')){const filename=pet.photo_url.includes('/')?pet.photo_url.split('/').pop():pet.photo_url;const response=await fetch(`${process.env.REACT_APP_API_URL}/upload/image/${filename}`);if(response.ok){const blob=await response.blob();const reader=new FileReader();return new Promise(resolve=>{reader.onload=e=>{resolve({...pet,photo_url:e.target.result});};reader.readAsDataURL(blob);});}}}catch(error){console.error('Failed to load pet image:',error);}}return pet;}));setPets(petsWithImages);}// 2. ประมวลผลข้อมูล Notifications\nif(notificationsResult.status==='fulfilled'){var _notificationsResult$,_notificationsResult$2;let allNotis=[];if(Array.isArray(notificationsResult.value)){allNotis=notificationsResult.value;}else if((_notificationsResult$=notificationsResult.value)!==null&&_notificationsResult$!==void 0&&_notificationsResult$.success&&Array.isArray(notificationsResult.value.notifications)){allNotis=notificationsResult.value.notifications;}else if((_notificationsResult$2=notificationsResult.value)!==null&&_notificationsResult$2!==void 0&&_notificationsResult$2.notifications&&Array.isArray(notificationsResult.value.notifications)){allNotis=notificationsResult.value.notifications;}const sortedNotifications=allNotis.filter(notification=>!notification.is_completed).sort((a,b)=>new Date(a.due_date)-new Date(b.due_date));setNotifications(sortedNotifications);}// 3. ประมวลผลข้อมูล Appointments\nif(appointmentsResult.status==='fulfilled'&&(_appointmentsResult$v=appointmentsResult.value)!==null&&_appointmentsResult$v!==void 0&&_appointmentsResult$v.success){const allAppointments=appointmentsResult.value.appointments||[];const today=new Date();today.setHours(0,0,0,0);const scheduledAppointments=allAppointments.filter(a=>{const appointmentDate=new Date(a.appointment_date);const appointmentDateOnly=new Date(appointmentDate);appointmentDateOnly.setHours(0,0,0,0);return a.status!==\"cancelled\"&&appointmentDateOnly.getTime()>=today.getTime();}).sort((a,b)=>new Date(a.appointment_date)-new Date(b.appointment_date));setAppointments(scheduledAppointments);}},[user,execute]);useEffect(()=>{if(user){fetchDashboardData();}},[user]);// ลบ execute ออกจาก dependency array\nconst handlePetAdded=newPet=>{setShowAddPetModal(false);fetchDashboardData();};// Redirect veterinarians to vet dashboard\nif(user&&user.role===\"veterinarian\"){return/*#__PURE__*/_jsx(Navigate,{to:\"/vet-dashboard\",replace:true});}// Redirect admins to admin dashboard\nif(user&&user.role===\"admin\"){return/*#__PURE__*/_jsx(Navigate,{to:\"/admin\",replace:true});}if(loading&&pets.length===0&&appointments.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500\"})});}// แดชบอร์ดสำหรับผู้ใช้ทั่วไป (โค้ดเดิม)\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\",children:[user!==null&&user!==void 0&&user.profile_picture_url?/*#__PURE__*/_jsx(\"img\",{src:user.profile_picture_url,alt:user.full_name,className:\"w-full h-full object-cover\",onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='flex';}}):null,/*#__PURE__*/_jsx(\"div\",{className:`w-full h-full flex items-center justify-center ${user!==null&&user!==void 0&&user.profile_picture_url?'hidden':'flex'}`,children:/*#__PURE__*/_jsx(PawPrint,{className:\"h-6 w-6 text-gray-400\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:[\"\\u0E2A\\u0E27\\u0E31\\u0E2A\\u0E14\\u0E35, \",/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600 font-bold\",children:user===null||user===void 0?void 0:user.full_name})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"\\u0E22\\u0E34\\u0E19\\u0E14\\u0E35\\u0E15\\u0E49\\u0E2D\\u0E19\\u0E23\\u0E31\\u0E1A\\u0E2A\\u0E39\\u0E48\\u0E41\\u0E14\\u0E0A\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E14\\u0E01\\u0E32\\u0E23\\u0E14\\u0E39\\u0E41\\u0E25\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\\u0E02\\u0E2D\\u0E07\\u0E04\\u0E38\\u0E13\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(PawPrint,{className:\"h-6 w-6 text-green-500\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\\u0E02\\u0E2D\\u0E07\\u0E09\\u0E31\\u0E19\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:[pets.length,\" \\u0E15\\u0E31\\u0E27\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Calendar,{className:\"h-6 w-6 text-blue-500\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E16\\u0E31\\u0E14\\u0E44\\u0E1B\"}),appointments.length>0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-bold text-gray-900\",children:new Date(appointments[0].appointment_date).toLocaleString(\"th-TH\",{dateStyle:'short',timeStyle:'short'})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[((_appointments$0$pets=appointments[0].pets)===null||_appointments$0$pets===void 0?void 0:_appointments$0$pets.name)||'N/A',\" - \",appointments[0].appointment_type]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:\"-\"})]})]})}),/*#__PURE__*/_jsx(Link,{to:\"/appointments\",className:\"card hover:shadow-lg transition-shadow cursor-pointer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Calendar,{className:\"h-6 w-6 text-purple-500\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-bold text-gray-900\",children:\"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\\u0E02\\u0E2D\\u0E07\\u0E09\\u0E31\\u0E19\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddPetModal(true),className:\"btn-primary flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\\u0E43\\u0E2B\\u0E21\\u0E48\"})]})]}),pets.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center py-12\",children:[/*#__PURE__*/_jsx(PawPrint,{className:\"h-16 w-16 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\\u0E41\\u0E23\\u0E01\\u0E02\\u0E2D\\u0E07\\u0E04\\u0E38\\u0E13\\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E40\\u0E23\\u0E34\\u0E48\\u0E21\\u0E15\\u0E49\\u0E19\\u0E01\\u0E32\\u0E23\\u0E14\\u0E39\\u0E41\\u0E25\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddPetModal(true),className:\"btn-primary\",children:\"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\\u0E43\\u0E2B\\u0E21\\u0E48\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 gap-6\",children:pets.map(pet=>/*#__PURE__*/_jsx(Link,{to:`/pets/${pet.id}`,className:\"card hover:shadow-lg transition-shadow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\",children:[pet.photo_url?/*#__PURE__*/_jsx(\"img\",{src:pet.photo_url,alt:pet.name,className:\"w-full h-full object-cover\",onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='flex';}}):null,/*#__PURE__*/_jsx(\"div\",{className:`w-full h-full flex items-center justify-center ${pet.photo_url?'hidden':'flex'}`,children:/*#__PURE__*/_jsx(Heart,{className:\"h-8 w-8 text-gray-400\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:pet.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[pet.species,\" \\u2022 \",pet.breed]})]})]})},pet.id))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"\\u0E01\\u0E32\\u0E23\\u0E41\\u0E08\\u0E49\\u0E07\\u0E40\\u0E15\\u0E37\\u0E2D\\u0E19\"}),/*#__PURE__*/_jsx(Link,{to:\"/notifications\",className:\"text-green-500 hover:text-green-600\",children:\"\\u0E14\\u0E39\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:notifications.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center py-8\",children:[/*#__PURE__*/_jsx(Bell,{className:\"h-12 w-12 text-gray-300 mx-auto mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E01\\u0E32\\u0E23\\u0E41\\u0E08\\u0E49\\u0E07\\u0E40\\u0E15\\u0E37\\u0E2D\\u0E19\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"\\u0E17\\u0E38\\u0E01\\u0E2D\\u0E22\\u0E48\\u0E32\\u0E07\\u0E40\\u0E1B\\u0E47\\u0E19\\u0E44\\u0E1B\\u0E15\\u0E32\\u0E21\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14\"})]}):notifications.slice(0,3).map(notification=>/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-3 h-3 rounded-full mt-2 ${notification.priority===\"high\"?\"bg-red-500\":notification.priority===\"medium\"?\"bg-yellow-500\":\"bg-green-500\"}`}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:notification.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:notification.message}),notification.due_date&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-2\",children:[\"\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14: \",new Date(notification.due_date).toLocaleDateString(\"th-TH\")]})]})]})},notification.id))})]}),showAddPetModal&&/*#__PURE__*/_jsx(AddPetModal,{onClose:()=>setShowAddPetModal(false),onPetAdded:handlePetAdded})]})]})});};export default Dashboard;","map":{"version":3,"names":["useState","useEffect","useCallback","Link","Navigate","useAuth","petService","notificationService","appointmentService","useApi","Plus","Heart","Bell","Calendar","PawPrint","AddPetModal","jsx","_jsx","jsxs","_jsxs","Dashboard","_appointments$0$pets","user","pets","setPets","notifications","setNotifications","appointments","setAppointments","showAddPetModal","setShowAddPetModal","loading","execute","fetchDashboardData","_petsResult$value","_appointmentsResult$v","petsResult","notificationsResult","appointmentsResult","Promise","allSettled","getPets","getNotifications","getAppointments","status","value","success","petsData","petsWithImages","all","map","pet","photo_url","startsWith","filename","includes","split","pop","response","fetch","process","env","REACT_APP_API_URL","ok","blob","reader","FileReader","resolve","onload","e","target","result","readAsDataURL","error","console","_notificationsResult$","_notificationsResult$2","allNotis","Array","isArray","sortedNotifications","filter","notification","is_completed","sort","a","b","Date","due_date","allAppointments","today","setHours","scheduledAppointments","appointmentDate","appointment_date","appointmentDateOnly","getTime","handlePetAdded","newPet","role","to","replace","length","className","children","profile_picture_url","src","alt","full_name","onError","style","display","nextSibling","toLocaleString","dateStyle","timeStyle","name","appointment_type","onClick","id","species","breed","slice","priority","title","message","toLocaleDateString","onClose","onPetAdded"],"sources":["D:/senior.project/pet-health-docs/src/pages/Dashboard.js"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useCallback } from \"react\"\nimport { Link, Navigate } from \"react-router-dom\"\nimport { useAuth } from \"../contexts/AuthContext\"\nimport { petService, notificationService, appointmentService } from \"../services\"\nimport { useApi } from \"../hooks\"\nimport { Plus, Heart, Bell, Calendar, PawPrint } from \"lucide-react\"\nimport AddPetModal from \"../components/AddPetModal\"\n\nconst Dashboard = () => {\n  const { user } = useAuth()\n  const [pets, setPets] = useState([])\n  const [notifications, setNotifications] = useState([])\n  const [appointments, setAppointments] = useState([])\n  const [showAddPetModal, setShowAddPetModal] = useState(false)\n  const { loading, execute } = useApi()\n\n  const fetchDashboardData = useCallback(async () => {\n    if (!user) return;\n\n    setPets([]);\n    setNotifications([]);\n    setAppointments([]);\n\n    // สำหรับผู้ใช้ทั่วไป - ใช้โค้ดเดิม\n    const [petsResult, notificationsResult, appointmentsResult] = await Promise.allSettled([\n      execute(() => petService.getPets()),\n      execute(() => notificationService.getNotifications()),\n      execute(() => appointmentService.getAppointments())\n    ]);\n\n    // 1. ประมวลผลข้อมูล Pets\n    if (petsResult.status === 'fulfilled' && petsResult.value?.success) {\n      const petsData = petsResult.value.pets || [];\n      \n      // Load images for pets that have photo_url\n      const petsWithImages = await Promise.all(\n        petsData.map(async (pet) => {\n          if (pet.photo_url) {\n            try {\n              // For existing images, try to fetch and convert to base64\n              if (pet.photo_url.startsWith('/uploads/') || pet.photo_url.startsWith('http://localhost:5000/api/upload/image/')) {\n                const filename = pet.photo_url.includes('/') ? pet.photo_url.split('/').pop() : pet.photo_url\n                const response = await fetch(`${process.env.REACT_APP_API_URL}/upload/image/${filename}`)\n                if (response.ok) {\n                  const blob = await response.blob()\n                  const reader = new FileReader()\n                  return new Promise((resolve) => {\n                    reader.onload = (e) => {\n                      resolve({ ...pet, photo_url: e.target.result })\n                    }\n                    reader.readAsDataURL(blob)\n                  })\n                }\n              }\n            } catch (error) {\n              console.error('Failed to load pet image:', error)\n            }\n          }\n          return pet\n        })\n      )\n      \n      setPets(petsWithImages);\n    }\n\n    // 2. ประมวลผลข้อมูล Notifications\n    if (notificationsResult.status === 'fulfilled') {\n      let allNotis = [];\n      if (Array.isArray(notificationsResult.value)) {\n        allNotis = notificationsResult.value;\n      } else if (notificationsResult.value?.success && Array.isArray(notificationsResult.value.notifications)) {\n        allNotis = notificationsResult.value.notifications;\n      } else if (notificationsResult.value?.notifications && Array.isArray(notificationsResult.value.notifications)) {\n        allNotis = notificationsResult.value.notifications;\n      }\n      \n      const sortedNotifications = allNotis\n        .filter(notification => !notification.is_completed)\n        .sort((a, b) => new Date(a.due_date) - new Date(b.due_date));\n      \n      setNotifications(sortedNotifications);\n    }\n\n    // 3. ประมวลผลข้อมูล Appointments\n    if (appointmentsResult.status === 'fulfilled' && appointmentsResult.value?.success) {\n      const allAppointments = appointmentsResult.value.appointments || [];\n      const today = new Date();\n      today.setHours(0, 0, 0, 0);\n\n      const scheduledAppointments = allAppointments\n        .filter(a => {\n          const appointmentDate = new Date(a.appointment_date);\n          const appointmentDateOnly = new Date(appointmentDate);\n          appointmentDateOnly.setHours(0, 0, 0, 0);\n          return a.status !== \"cancelled\" && appointmentDateOnly.getTime() >= today.getTime();\n        })\n        .sort((a, b) => new Date(a.appointment_date) - new Date(b.appointment_date));\n\n      setAppointments(scheduledAppointments);\n    }\n  }, [user, execute]);\n\n  useEffect(() => {\n    if (user) {\n      fetchDashboardData();\n    }\n  }, [user]); // ลบ execute ออกจาก dependency array\n\n  const handlePetAdded = (newPet) => {\n    setShowAddPetModal(false);\n    fetchDashboardData();\n  }\n\n  // Redirect veterinarians to vet dashboard\n  if (user && user.role === \"veterinarian\") {\n    return <Navigate to=\"/vet-dashboard\" replace />\n  }\n\n  // Redirect admins to admin dashboard\n  if (user && user.role === \"admin\") {\n    return <Navigate to=\"/admin\" replace />\n  }\n\n  if (loading && pets.length === 0 && appointments.length === 0) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500\"></div>\n      </div>\n    );\n  }\n\n\n  // แดชบอร์ดสำหรับผู้ใช้ทั่วไป (โค้ดเดิม)\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\">\n              {user?.profile_picture_url ? (\n                <img \n                  src={user.profile_picture_url} \n                  alt={user.full_name}\n                  className=\"w-full h-full object-cover\"\n                  onError={(e) => {\n                    e.target.style.display = 'none'\n                    e.target.nextSibling.style.display = 'flex'\n                  }}\n                />\n              ) : null}\n              <div className={`w-full h-full flex items-center justify-center ${user?.profile_picture_url ? 'hidden' : 'flex'}`}>\n                <PawPrint className=\"h-6 w-6 text-gray-400\" />\n              </div>\n            </div>\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">\n                สวัสดี, <span className=\"text-green-600 font-bold\">{user?.full_name}</span>\n              </h1>\n              <p className=\"text-gray-600 mt-2\">ยินดีต้อนรับสู่แดชบอร์ดการดูแลสัตว์เลี้ยงของคุณ</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          <div className=\"card\">\n            <div className=\"flex items-center\">\n              <div className=\"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center\">\n                <PawPrint className=\"h-6 w-6 text-green-500\" />\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm text-gray-600\">สัตว์เลี้ยงของฉัน</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{pets.length} ตัว</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"card\">\n            <div className=\"flex items-center\">\n              <div className=\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center\">\n                <Calendar className=\"h-6 w-6 text-blue-500\" />\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm text-gray-600\">นัดหมายถัดไป</p>\n                {appointments.length > 0 ? (\n                  <div>\n                    <p className=\"text-xl font-bold text-gray-900\">\n                      {new Date(appointments[0].appointment_date).toLocaleString(\"th-TH\", {\n                        dateStyle: 'short',\n                        timeStyle: 'short'\n                      })}\n                    </p>\n                    <p className=\"text-sm text-gray-500\">\n                      {appointments[0].pets?.name || 'N/A'} - {appointments[0].appointment_type}\n                    </p>\n                  </div>\n                ) : (\n                  <p className=\"text-2xl font-bold text-gray-900\">-</p>\n                )}\n              </div>\n            </div>\n          </div>\n\n          <Link to=\"/appointments\" className=\"card hover:shadow-lg transition-shadow cursor-pointer\">\n            <div className=\"flex items-center\">\n              <div className=\"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center\">\n                <Calendar className=\"h-6 w-6 text-purple-500\" />\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm text-gray-600\">นัดหมาย</p>\n                <p className=\"text-lg font-bold text-gray-900\">จัดการนัดหมาย</p>\n              </div>\n            </div>\n          </Link>\n        </div>\n\n        <div className=\"grid lg:grid-cols-3 gap-8\">\n          {/* My Pets Section */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-2xl font-bold text-gray-900\">สัตว์เลี้ยงของฉัน</h2>\n              <button onClick={() => setShowAddPetModal(true)} className=\"btn-primary flex items-center space-x-2\">\n                <Plus className=\"h-4 w-4\" />\n                <span>เพิ่มสัตว์เลี้ยงใหม่</span>\n              </button>\n            </div>\n\n            {pets.length === 0 ? (\n              <div className=\"card text-center py-12\">\n                <PawPrint className=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">ยังไม่มีสัตว์เลี้ยง</h3>\n                <p className=\"text-gray-600 mb-4\">เพิ่มสัตว์เลี้ยงแรกของคุณเพื่อเริ่มต้นการดูแล</p>\n                <button onClick={() => setShowAddPetModal(true)} className=\"btn-primary\">\n                  เพิ่มสัตว์เลี้ยงใหม่\n                </button>\n              </div>\n            ) : (\n              <div className=\"grid md:grid-cols-2 gap-6\">\n                {pets.map((pet) => (\n                  <Link key={pet.id} to={`/pets/${pet.id}`} className=\"card hover:shadow-lg transition-shadow\">\n                    <div className=\"flex items-center space-x-4\">\n                      <div className=\"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\">\n                        {pet.photo_url ? (\n                          <img \n                            src={pet.photo_url} \n                            alt={pet.name}\n                            className=\"w-full h-full object-cover\"\n                            onError={(e) => {\n                              e.target.style.display = 'none'\n                              e.target.nextSibling.style.display = 'flex'\n                            }}\n                          />\n                        ) : null}\n                        <div className={`w-full h-full flex items-center justify-center ${pet.photo_url ? 'hidden' : 'flex'}`}>\n                          <Heart className=\"h-8 w-8 text-gray-400\" />\n                        </div>\n                      </div>\n                      <div className=\"flex-1\">\n                        <h3 className=\"text-lg font-semibold text-gray-900\">{pet.name}</h3>\n                        <p className=\"text-gray-600\">\n                          {pet.species} • {pet.breed}\n                        </p>\n                      </div>\n                    </div>\n                  </Link>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Notifications Section */}\n          <div>\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-2xl font-bold text-gray-900\">การแจ้งเตือน</h2>\n              <Link to=\"/notifications\" className=\"text-green-500 hover:text-green-600\">\n                ดูทั้งหมด\n              </Link>\n            </div>\n\n            <div className=\"space-y-4\">\n              {notifications.length === 0 ? (\n                <div className=\"card text-center py-8\">\n                  <Bell className=\"h-12 w-12 text-gray-300 mx-auto mb-3\" />\n                  <p className=\"text-gray-600\">ไม่มีการแจ้งเตือน</p>\n                  <p className=\"text-sm text-gray-500\">ทุกอย่างเป็นไปตามกำหนด</p>\n                </div>\n              ) : (\n                notifications.slice(0, 3).map((notification) => (\n                  <div key={notification.id} className=\"card\">\n                    <div className=\"flex items-start space-x-3\">\n                      <div\n                        className={`w-3 h-3 rounded-full mt-2 ${notification.priority === \"high\"\n                            ? \"bg-red-500\"\n                            : notification.priority === \"medium\"\n                              ? \"bg-yellow-500\"\n                              : \"bg-green-500\"\n                          }`}\n                      />\n                      <div className=\"flex-1\">\n                        <h4 className=\"font-medium text-gray-900\">{notification.title}</h4>\n                        <p className=\"text-sm text-gray-600 mt-1\">{notification.message}</p>\n                        {notification.due_date && (\n                          <p className=\"text-xs text-gray-500 mt-2\">\n                            กำหนด: {new Date(notification.due_date).toLocaleDateString(\"th-TH\")}\n                          </p>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                ))\n              )}\n            </div>\n          </div>\n\n          {/* Add Pet Modal */}\n          {showAddPetModal && <AddPetModal onClose={() => setShowAddPetModal(false)} onPetAdded={handlePetAdded} />}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Dashboard"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}