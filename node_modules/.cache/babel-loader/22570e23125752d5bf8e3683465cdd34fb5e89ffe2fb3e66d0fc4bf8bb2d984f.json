{"ast":null,"code":"\"use client\";import{useState,useEffect,useCallback}from\"react\";import{useParams,Link,useNavigate}from\"react-router-dom\";import{useAuth}from\"../contexts/AuthContext\";import apiClient from\"../services/api\";import{ArrowLeft,Heart,Plus,Calendar,Pill,Syringe,Stethoscope,Utensils,MoreVertical,Edit,Trash2,User,Phone,Mail,MapPin,Clock,FileText,AlertCircle}from\"lucide-react\";import AddHealthRecordModal from\"../components/AddHealthRecordModal\";import ImageUpload from\"../components/ImageUpload\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PetProfile=()=>{var _pet$users,_pet$users2,_pet$users3;const{id}=useParams();const navigate=useNavigate();const{user}=useAuth();const[pet,setPet]=useState(null);const[healthRecords,setHealthRecords]=useState([]);const[appointments,setAppointments]=useState([]);const[loading,setLoading]=useState(true);const[vetRecommendation,setVetRecommendation]=useState(null);const[showAddRecordModal,setShowAddRecordModal]=useState(false);const[activeTab,setActiveTab]=useState(\"general\");const[petImage,setPetImage]=useState(null);const[isMenuOpen,setIsMenuOpen]=useState(false);const[showDeleteConfirm,setShowDeleteConfirm]=useState(false);const fetchPetData=useCallback(async()=>{try{const[petResponse,recordsResponse]=await Promise.allSettled([apiClient.get(`/pets/${id}`),apiClient.get(`/pets/${id}/health-records`)]);// Handle pet data\nif(petResponse.status==='fulfilled'){setPet(petResponse.value.data);const photoUrl=petResponse.value.data.photo_url;if(photoUrl){// For existing images, try to fetch and convert to base64\nif(photoUrl.startsWith('/uploads/')||photoUrl.startsWith('http://localhost:5000/api/upload/image/')){try{const filename=photoUrl.includes('/')?photoUrl.split('/').pop():photoUrl;const response=await fetch(`${process.env.REACT_APP_API_URL}/upload/image/${filename}`);if(response.ok){const blob=await response.blob();const reader=new FileReader();reader.onload=e=>setPetImage(e.target.result);reader.readAsDataURL(blob);}else{setPetImage(null);}}catch(error){console.error('Failed to load existing image:',error);setPetImage(null);}}else{setPetImage(photoUrl);}}else{setPetImage(null);}}else{console.error('Failed to fetch pet:',petResponse.reason);setPet(null);}// Handle health records\nif(recordsResponse.status==='fulfilled'){setHealthRecords(recordsResponse.value.data);}else{console.error('Failed to fetch health records:',recordsResponse.reason);setHealthRecords([]);}// ดึงข้อมูลนัดหมายสำหรับสัตว์เลี้ยงตัวนี้ (เฉพาะสัตวแพทย์)\nif((user===null||user===void 0?void 0:user.role)==='veterinarian'){try{var _appointmentsRes$data;const appointmentsRes=await apiClient.get(`/appointments/vet?pet_id=${id}`);let appointmentsData=[];if((_appointmentsRes$data=appointmentsRes.data)!==null&&_appointmentsRes$data!==void 0&&_appointmentsRes$data.appointments){appointmentsData=appointmentsRes.data.appointments;}else if(Array.isArray(appointmentsRes.data)){appointmentsData=appointmentsRes.data;}setAppointments(appointmentsData);}catch(e){console.error('Failed to fetch appointments:',e);}}// ดึงคำแนะนำโภชนาการจากสัตวแพทย์สำหรับสัตว์เลี้ยงตัวนี้\ntry{console.log('[PetProfile] pet id:',id);const recRes=await apiClient.get(`/nutrition/recommendations?pet_id=${id}`);console.log('[PetProfile] rec response:',recRes.status,recRes.data);const plans=Array.isArray(recRes.data)?recRes.data:[];if(plans.length>0)setVetRecommendation(plans[0]);}catch(e){console.error('Failed to fetch nutrition recommendation:',e);}}catch(error){console.error(\"Failed to fetch pet data:\",error);}finally{setLoading(false);}},[id,user===null||user===void 0?void 0:user.role]);useEffect(()=>{fetchPetData();},[fetchPetData]);const handleRecordAdded=newRecord=>{setHealthRecords([...healthRecords,newRecord]);setShowAddRecordModal(false);};const handleDelete=async()=>{try{await apiClient.delete(`/pets/${id}`);navigate(\"/dashboard\");}catch(error){console.error(\"Failed to delete pet:\",error);// You might want to show an error message to the user\n}};const getRecordIcon=type=>{switch(type){case\"vaccination\":return/*#__PURE__*/_jsx(Syringe,{className:\"h-5 w-5 text-blue-500\"});case\"medication\":return/*#__PURE__*/_jsx(Pill,{className:\"h-5 w-5 text-green-500\"});case\"checkup\":return/*#__PURE__*/_jsx(Stethoscope,{className:\"h-5 w-5 text-purple-500\"});default:return/*#__PURE__*/_jsx(Calendar,{className:\"h-5 w-5 text-gray-500\"});}};const calculateAge=birthDate=>{if(!birthDate)return\"ไม่ระบุ\";const today=new Date();const birth=new Date(birthDate);const ageInMonths=(today.getFullYear()-birth.getFullYear())*12+(today.getMonth()-birth.getMonth());if(ageInMonths<12){return`${ageInMonths} เดือน`;}else{const years=Math.floor(ageInMonths/12);const months=ageInMonths%12;return months>0?`${years} ปี ${months} เดือน`:`${years} ปี`;}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500\"})});}if(!pet){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"\\u0E44\\u0E21\\u0E48\\u0E1E\\u0E1A\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\"}),/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",className:\"btn-primary\",children:\"\\u0E01\\u0E25\\u0E31\\u0E1A\\u0E44\\u0E1B\\u0E41\\u0E14\\u0E0A\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E14\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(Link,{to:(user===null||user===void 0?void 0:user.role)==='veterinarian'?\"/pets\":\"/dashboard\",className:\"inline-flex items-center space-x-2 text-green-500 hover:text-green-600 mb-8\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u0E01\\u0E25\\u0E31\\u0E1A\\u0E44\\u0E1B\",(user===null||user===void 0?void 0:user.role)==='veterinarian'?'รายการสัตว์เลี้ยง':'แดชบอร์ด']})]}),(user===null||user===void 0?void 0:user.role)==='veterinarian'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E1C\\u0E39\\u0E49\\u0E1B\\u0E48\\u0E27\\u0E22\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"\\u0E14\\u0E39\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\\u0E41\\u0E25\\u0E30\\u0E1B\\u0E23\\u0E30\\u0E27\\u0E31\\u0E15\\u0E34\\u0E01\\u0E32\\u0E23\\u0E23\\u0E31\\u0E01\\u0E29\\u0E32\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-24 bg-gray-200 rounded-full overflow-hidden\",children:petImage?/*#__PURE__*/_jsx(\"img\",{src:petImage||\"/placeholder.svg\",alt:pet.name,className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Heart,{className:\"h-12 w-12 text-gray-400\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-2\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:pet.name}),(user===null||user===void 0?void 0:user.role)==='veterinarian'&&/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full\",children:\"\\u0E1C\\u0E39\\u0E49\\u0E1B\\u0E48\\u0E27\\u0E22\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u0E0A\\u0E19\\u0E34\\u0E14:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:pet.species})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u0E2A\\u0E32\\u0E22\\u0E1E\\u0E31\\u0E19\\u0E18\\u0E38\\u0E4C:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:pet.breed||\"ไม่ระบุ\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u0E2D\\u0E32\\u0E22\\u0E38:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:calculateAge(pet.birth_date)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u0E19\\u0E49\\u0E33\\u0E2B\\u0E19\\u0E31\\u0E01:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[pet.weight,\" \\u0E01\\u0E01.\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsMenuOpen(!isMenuOpen),className:\"btn-icon\",children:/*#__PURE__*/_jsx(MoreVertical,{className:\"h-5 w-5\"})}),isMenuOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-1\",children:[/*#__PURE__*/_jsxs(Link,{to:`/pets/${id}/edit`,className:\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\",children:[/*#__PURE__*/_jsx(Edit,{className:\"mr-3 h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setShowDeleteConfirm(true);setIsMenuOpen(false);},className:\"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-100\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"mr-3 h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E25\\u0E1A\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\"})]})]})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit\",children:[{key:\"general\",label:\"ข้อมูลทั่วไป\"},{key:\"health\",label:\"ประวัติสุขภาพ\"},{key:\"nutrition\",label:\"โภชนาการ\"},...((user===null||user===void 0?void 0:user.role)==='veterinarian'?[{key:\"appointments\",label:\"นัดหมาย\"}]:[])].map(tab=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(tab.key),className:`px-6 py-2 rounded-md text-sm font-medium transition-colors ${activeTab===tab.key?\"bg-white text-green-600 shadow-sm\":\"text-gray-600 hover:text-gray-900\"}`,children:tab.label},tab.key))})}),activeTab===\"general\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"\\u0E23\\u0E39\\u0E1B\\u0E20\\u0E32\\u0E1E\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\"}),/*#__PURE__*/_jsx(ImageUpload,{currentImage:petImage,onImageUploaded:async imageUrl=>{setPetImage(imageUrl);// อัปเดตข้อมูลในฐานข้อมูล\ntry{const updateData={photo_url:imageUrl||null};await apiClient.put(`/pets/${id}`,updateData);setPet(prev=>({...prev,photo_url:imageUrl}));}catch(error){console.error('Failed to update pet image:',error);alert('เกิดข้อผิดพลาดในการอัปเดตรูปภาพ');}},className:\"max-w-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u0E0A\\u0E37\\u0E48\\u0E2D\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:pet.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u0E40\\u0E1E\\u0E28\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:pet.gender===\"male\"?\"ผู้\":pet.gender===\"female\"?\"เมีย\":\"ไม่ระบุ\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u0E27\\u0E31\\u0E19\\u0E40\\u0E01\\u0E34\\u0E14\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:pet.birth_date?new Date(pet.birth_date).toLocaleDateString(\"th-TH\"):\"ไม่ระบุ\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u0E2A\\u0E35\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:pet.color||\"ไม่ระบุ\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u0E19\\u0E49\\u0E33\\u0E2B\\u0E19\\u0E31\\u0E01\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:pet.weight?`${pet.weight} กก.`:\"ไม่ระบุ\"})]}),pet.special_notes&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E2B\\u0E15\\u0E38\\u0E1E\\u0E34\\u0E40\\u0E28\\u0E29\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:pet.special_notes})]})]})]}),(user===null||user===void 0?void 0:user.role)==='veterinarian'&&pet.users&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E40\\u0E08\\u0E49\\u0E32\\u0E02\\u0E2D\\u0E07\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\",children:[(_pet$users=pet.users)!==null&&_pet$users!==void 0&&_pet$users.profile_picture_url?/*#__PURE__*/_jsx(\"img\",{src:pet.users.profile_picture_url,alt:(_pet$users2=pet.users)===null||_pet$users2===void 0?void 0:_pet$users2.full_name,className:\"w-full h-full object-cover\",onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='flex';}}):null,/*#__PURE__*/_jsx(\"div\",{className:`w-full h-full flex items-center justify-center ${(_pet$users3=pet.users)!==null&&_pet$users3!==void 0&&_pet$users3.profile_picture_url?'hidden':'flex'}`,children:/*#__PURE__*/_jsx(User,{className:\"h-4 w-4 text-gray-400\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u0E0A\\u0E37\\u0E48\\u0E2D-\\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:pet.users.full_name||\"ไม่ระบุ\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(Mail,{className:\"h-5 w-5 text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:pet.users.email||\"ไม่ระบุ\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-5 w-5 text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E25\\u0E07\\u0E17\\u0E30\\u0E40\\u0E1A\\u0E35\\u0E22\\u0E19\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:pet.created_at?new Date(pet.created_at).toLocaleDateString(\"th-TH\"):\"ไม่ระบุ\"})]})]})]})]})]})]}),activeTab===\"health\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"\\u0E1B\\u0E23\\u0E30\\u0E27\\u0E31\\u0E15\\u0E34\\u0E2A\\u0E38\\u0E02\\u0E20\\u0E32\\u0E1E\"}),(user===null||user===void 0?void 0:user.role)!=='veterinarian'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddRecordModal(true),className:\"btn-primary flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E43\\u0E2B\\u0E21\\u0E48\"})]})]}),healthRecords.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center py-12\",children:[/*#__PURE__*/_jsx(Stethoscope,{className:\"h-16 w-16 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E1B\\u0E23\\u0E30\\u0E27\\u0E31\\u0E15\\u0E34\\u0E2A\\u0E38\\u0E02\\u0E20\\u0E32\\u0E1E\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:(user===null||user===void 0?void 0:user.role)==='veterinarian'?`สัตว์เลี้ยง ${pet.name} ยังไม่มีประวัติการรักษา`:`เพิ่มบันทึกสุขภาพแรกของ ${pet.name}`}),(user===null||user===void 0?void 0:user.role)!=='veterinarian'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddRecordModal(true),className:\"btn-primary\",children:\"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E43\\u0E2B\\u0E21\\u0E48\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:healthRecords.map(record=>/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 mt-1\",children:getRecordIcon(record.record_type)}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:record.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:record.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mt-3 text-sm text-gray-500\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48: \",new Date(record.record_date).toLocaleDateString(\"th-TH\")]}),record.next_due_date&&/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u0E04\\u0E23\\u0E31\\u0E49\\u0E07\\u0E16\\u0E31\\u0E14\\u0E44\\u0E1B: \",new Date(record.next_due_date).toLocaleDateString(\"th-TH\")]})]})]}),/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 rounded-full text-xs ${record.record_type===\"vaccination\"?\"bg-blue-100 text-blue-800\":record.record_type===\"medication\"?\"bg-green-100 text-green-800\":record.record_type===\"checkup\"?\"bg-purple-100 text-purple-800\":\"bg-gray-100 text-gray-800\"}`,children:record.record_type===\"vaccination\"?\"วัคซีน\":record.record_type===\"medication\"?\"ยา\":record.record_type===\"checkup\"?\"ตรวจสุขภาพ\":record.record_type})]})})]})},record.id))})]}),activeTab===\"nutrition\"&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"\\u0E04\\u0E33\\u0E41\\u0E19\\u0E30\\u0E19\\u0E33\\u0E42\\u0E20\\u0E0A\\u0E19\\u0E32\\u0E01\\u0E32\\u0E23\"}),vetRecommendation?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-l-4 border-green-500 pl-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:\"\\u0E04\\u0E33\\u0E41\\u0E19\\u0E30\\u0E19\\u0E33\\u0E08\\u0E32\\u0E01\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E41\\u0E1E\\u0E17\\u0E22\\u0E4C\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 whitespace-pre-line\",children:vetRecommendation.custom_instructions})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:`/pets/${pet.id}/nutrition?plan_id=${vetRecommendation.id}`,className:\"btn-secondary\",children:\"\\u0E14\\u0E39\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E40\\u0E15\\u0E34\\u0E21\"})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Utensils,{className:\"h-16 w-16 text-orange-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E04\\u0E33\\u0E41\\u0E19\\u0E30\\u0E19\\u0E33\\u0E42\\u0E20\\u0E0A\\u0E19\\u0E32\\u0E01\\u0E32\\u0E23\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"\\u0E44\\u0E1B\\u0E22\\u0E31\\u0E07\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E04\\u0E33\\u0E41\\u0E19\\u0E30\\u0E19\\u0E33\\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E14\\u0E39\\u0E2B\\u0E23\\u0E37\\u0E2D\\u0E43\\u0E2B\\u0E49\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E41\\u0E1E\\u0E17\\u0E22\\u0E4C\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\"}),/*#__PURE__*/_jsxs(Link,{to:`/pets/${pet.id}/nutrition`,className:\"btn-primary inline-flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Utensils,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E14\\u0E39\\u0E04\\u0E33\\u0E41\\u0E19\\u0E30\\u0E19\\u0E33\\u0E42\\u0E20\\u0E0A\\u0E19\\u0E32\\u0E01\\u0E32\\u0E23\"})]})]})]})}),activeTab===\"appointments\"&&(user===null||user===void 0?void 0:user.role)==='veterinarian'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"\\u0E1B\\u0E23\\u0E30\\u0E27\\u0E31\\u0E15\\u0E34\\u0E01\\u0E32\\u0E23\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\"}),/*#__PURE__*/_jsxs(Link,{to:\"/appointments\",className:\"btn-primary flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\"})]})]}),appointments.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center py-12\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-16 w-16 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E1B\\u0E23\\u0E30\\u0E27\\u0E31\\u0E15\\u0E34\\u0E01\\u0E32\\u0E23\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\\u0E15\\u0E31\\u0E27\\u0E19\\u0E35\\u0E49\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E40\\u0E04\\u0E22\\u0E21\\u0E35\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\"}),/*#__PURE__*/_jsx(Link,{to:\"/appointments\",className:\"btn-primary\",children:\"\\u0E14\\u0E39\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:appointments.map(appointment=>{var _appointment$user,_appointment$user2,_appointment$user3,_appointment$user4,_appointment$user5,_appointment$veterina,_appointment$veterina2;return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-3 h-3 rounded-full mt-2 ${appointment.status==='confirmed'?'bg-green-500':appointment.status==='scheduled'?'bg-yellow-500':appointment.status==='completed'?'bg-blue-500':'bg-red-500'}`}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:appointment.appointment_type}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:new Date(appointment.appointment_date).toLocaleString(\"th-TH\",{dateStyle:'full',timeStyle:'short'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mt-3 text-sm text-gray-500\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-4 h-4 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\",children:[(_appointment$user=appointment.user)!==null&&_appointment$user!==void 0&&_appointment$user.profile_picture_url?/*#__PURE__*/_jsx(\"img\",{src:appointment.user.profile_picture_url,alt:(_appointment$user2=appointment.user)===null||_appointment$user2===void 0?void 0:_appointment$user2.full_name,className:\"w-full h-full object-cover\",onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='flex';}}):null,/*#__PURE__*/_jsx(\"div\",{className:`w-full h-full flex items-center justify-center ${(_appointment$user3=appointment.user)!==null&&_appointment$user3!==void 0&&_appointment$user3.profile_picture_url?'hidden':'flex'}`,children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-2 w-2 text-gray-400\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\",clipRule:\"evenodd\"})})})]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u0E40\\u0E08\\u0E49\\u0E32\\u0E02\\u0E2D\\u0E07: \",((_appointment$user4=appointment.user)===null||_appointment$user4===void 0?void 0:_appointment$user4.full_name)||((_appointment$user5=appointment.user)===null||_appointment$user5===void 0?void 0:_appointment$user5.email)||'ไม่ระบุ']})]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E41\\u0E1E\\u0E17\\u0E22\\u0E4C: \",((_appointment$veterina=appointment.veterinarian)===null||_appointment$veterina===void 0?void 0:_appointment$veterina.full_name)||((_appointment$veterina2=appointment.veterinarian)===null||_appointment$veterina2===void 0?void 0:_appointment$veterina2.email)||'ไม่ระบุ']})]}),appointment.notes&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mt-2 bg-gray-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E2B\\u0E15\\u0E38:\"}),\" \",appointment.notes]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-end space-y-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:`px-3 py-1 rounded-full text-xs font-medium ${appointment.status==='scheduled'?'bg-yellow-100 text-yellow-800':appointment.status==='confirmed'?'bg-green-100 text-green-800':appointment.status==='completed'?'bg-blue-100 text-blue-800':'bg-red-100 text-red-800'}`,children:appointment.status==='scheduled'?'รอยืนยัน':appointment.status==='confirmed'?'ยืนยันแล้ว':appointment.status==='completed'?'เสร็จสิ้น':'ยกเลิก'}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"\\u0E2A\\u0E23\\u0E49\\u0E32\\u0E07\\u0E40\\u0E21\\u0E37\\u0E48\\u0E2D: \",new Date(appointment.created_at).toLocaleDateString(\"th-TH\")]})]})]})},appointment.id);})})]})]}),showAddRecordModal&&/*#__PURE__*/_jsx(AddHealthRecordModal,{petId:id,petName:pet.name,onClose:()=>setShowAddRecordModal(false),onRecordAdded:handleRecordAdded}),showDeleteConfirm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-lg shadow-xl max-w-sm w-full\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-4\",children:\"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\\u0E01\\u0E32\\u0E23\\u0E25\\u0E1A\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-6\",children:[\"\\u0E04\\u0E38\\u0E13\\u0E41\\u0E19\\u0E48\\u0E43\\u0E08\\u0E2B\\u0E23\\u0E37\\u0E2D\\u0E44\\u0E21\\u0E48\\u0E17\\u0E35\\u0E48\\u0E08\\u0E30\\u0E25\\u0E1A \",pet.name,\"? \\u0E01\\u0E32\\u0E23\\u0E01\\u0E23\\u0E30\\u0E17\\u0E33\\u0E19\\u0E35\\u0E49\\u0E44\\u0E21\\u0E48\\u0E2A\\u0E32\\u0E21\\u0E32\\u0E23\\u0E16\\u0E22\\u0E49\\u0E2D\\u0E19\\u0E01\\u0E25\\u0E31\\u0E1A\\u0E44\\u0E14\\u0E49\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDeleteConfirm(false),className:\"btn-secondary\",children:\"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,className:\"btn-danger\",children:\"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\\u0E01\\u0E32\\u0E23\\u0E25\\u0E1A\"})]})]})})]});};export default PetProfile;","map":{"version":3,"names":["useState","useEffect","useCallback","useParams","Link","useNavigate","useAuth","apiClient","ArrowLeft","Heart","Plus","Calendar","Pill","Syringe","Stethoscope","Utensils","MoreVertical","Edit","Trash2","User","Phone","Mail","MapPin","Clock","FileText","AlertCircle","AddHealthRecordModal","ImageUpload","jsx","_jsx","jsxs","_jsxs","PetProfile","_pet$users","_pet$users2","_pet$users3","id","navigate","user","pet","setPet","healthRecords","setHealthRecords","appointments","setAppointments","loading","setLoading","vetRecommendation","setVetRecommendation","showAddRecordModal","setShowAddRecordModal","activeTab","setActiveTab","petImage","setPetImage","isMenuOpen","setIsMenuOpen","showDeleteConfirm","setShowDeleteConfirm","fetchPetData","petResponse","recordsResponse","Promise","allSettled","get","status","value","data","photoUrl","photo_url","startsWith","filename","includes","split","pop","response","fetch","process","env","REACT_APP_API_URL","ok","blob","reader","FileReader","onload","e","target","result","readAsDataURL","error","console","reason","role","_appointmentsRes$data","appointmentsRes","appointmentsData","Array","isArray","log","recRes","plans","length","handleRecordAdded","newRecord","handleDelete","delete","getRecordIcon","type","className","calculateAge","birthDate","today","Date","birth","ageInMonths","getFullYear","getMonth","years","Math","floor","months","children","to","src","alt","name","species","breed","birth_date","weight","onClick","key","label","map","tab","currentImage","onImageUploaded","imageUrl","updateData","put","prev","alert","gender","toLocaleDateString","color","special_notes","users","profile_picture_url","full_name","onError","style","display","nextSibling","email","created_at","record","record_type","title","description","record_date","next_due_date","custom_instructions","appointment","_appointment$user","_appointment$user2","_appointment$user3","_appointment$user4","_appointment$user5","_appointment$veterina","_appointment$veterina2","appointment_type","appointment_date","toLocaleString","dateStyle","timeStyle","fill","viewBox","fillRule","d","clipRule","veterinarian","notes","petId","petName","onClose","onRecordAdded"],"sources":["D:/senior.project/pet-health-docs/src/pages/PetProfile.js"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useCallback } from \"react\"\nimport { useParams, Link, useNavigate } from \"react-router-dom\"\nimport { useAuth } from \"../contexts/AuthContext\"\nimport apiClient from \"../services/api\"\nimport { ArrowLeft, Heart, Plus, Calendar, Pill, Syringe, Stethoscope, Utensils, MoreVertical, Edit, Trash2, User, Phone, Mail, MapPin, Clock, FileText, AlertCircle } from \"lucide-react\"\nimport AddHealthRecordModal from \"../components/AddHealthRecordModal\"\nimport ImageUpload from \"../components/ImageUpload\"\n\nconst PetProfile = () => {\n  const { id } = useParams()\n  const navigate = useNavigate()\n  const { user } = useAuth()\n  const [pet, setPet] = useState(null)\n  const [healthRecords, setHealthRecords] = useState([])\n  const [appointments, setAppointments] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [vetRecommendation, setVetRecommendation] = useState(null)\n  const [showAddRecordModal, setShowAddRecordModal] = useState(false)\n  const [activeTab, setActiveTab] = useState(\"general\")\n  const [petImage, setPetImage] = useState(null)\n  const [isMenuOpen, setIsMenuOpen] = useState(false)\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false)\n\n  const fetchPetData = useCallback(async () => {\n    try {\n      const [petResponse, recordsResponse] = await Promise.allSettled([\n        apiClient.get(`/pets/${id}`),\n        apiClient.get(`/pets/${id}/health-records`),\n      ])\n\n      // Handle pet data\n      if (petResponse.status === 'fulfilled') {\n        setPet(petResponse.value.data)\n        const photoUrl = petResponse.value.data.photo_url\n        if (photoUrl) {\n          // For existing images, try to fetch and convert to base64\n          if (photoUrl.startsWith('/uploads/') || photoUrl.startsWith('http://localhost:5000/api/upload/image/')) {\n            try {\n              const filename = photoUrl.includes('/') ? photoUrl.split('/').pop() : photoUrl\n              const response = await fetch(`${process.env.REACT_APP_API_URL}/upload/image/${filename}`)\n              if (response.ok) {\n                const blob = await response.blob()\n                const reader = new FileReader()\n                reader.onload = (e) => setPetImage(e.target.result)\n                reader.readAsDataURL(blob)\n              } else {\n                setPetImage(null)\n              }\n            } catch (error) {\n              console.error('Failed to load existing image:', error)\n              setPetImage(null)\n            }\n          } else {\n            setPetImage(photoUrl)\n          }\n        } else {\n          setPetImage(null)\n        }\n      } else {\n        console.error('Failed to fetch pet:', petResponse.reason)\n        setPet(null)\n      }\n\n      // Handle health records\n      if (recordsResponse.status === 'fulfilled') {\n        setHealthRecords(recordsResponse.value.data)\n      } else {\n        console.error('Failed to fetch health records:', recordsResponse.reason)\n        setHealthRecords([])\n      }\n\n      // ดึงข้อมูลนัดหมายสำหรับสัตว์เลี้ยงตัวนี้ (เฉพาะสัตวแพทย์)\n      if (user?.role === 'veterinarian') {\n        try {\n          const appointmentsRes = await apiClient.get(`/appointments/vet?pet_id=${id}`)\n          let appointmentsData = []\n          if (appointmentsRes.data?.appointments) {\n            appointmentsData = appointmentsRes.data.appointments\n          } else if (Array.isArray(appointmentsRes.data)) {\n            appointmentsData = appointmentsRes.data\n          }\n          setAppointments(appointmentsData)\n        } catch (e) {\n          console.error('Failed to fetch appointments:', e)\n        }\n      }\n\n      // ดึงคำแนะนำโภชนาการจากสัตวแพทย์สำหรับสัตว์เลี้ยงตัวนี้\n      try {\n        console.log('[PetProfile] pet id:', id)\n        const recRes = await apiClient.get(`/nutrition/recommendations?pet_id=${id}`)\n        console.log('[PetProfile] rec response:', recRes.status, recRes.data)\n        const plans = Array.isArray(recRes.data) ? recRes.data : []\n        if (plans.length > 0) setVetRecommendation(plans[0])\n      } catch (e) {\n        console.error('Failed to fetch nutrition recommendation:', e)\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch pet data:\", error)\n    } finally {\n      setLoading(false)\n    }\n  }, [id, user?.role])\n\n  useEffect(() => {\n    fetchPetData()\n  }, [fetchPetData])\n\n  const handleRecordAdded = (newRecord) => {\n    setHealthRecords([...healthRecords, newRecord])\n    setShowAddRecordModal(false)\n  }\n\n  const handleDelete = async () => {\n    try {\n      await apiClient.delete(`/pets/${id}`)\n      navigate(\"/dashboard\")\n    } catch (error) {\n      console.error(\"Failed to delete pet:\", error)\n      // You might want to show an error message to the user\n    }\n  }\n\n  const getRecordIcon = (type) => {\n    switch (type) {\n      case \"vaccination\":\n        return <Syringe className=\"h-5 w-5 text-blue-500\" />\n      case \"medication\":\n        return <Pill className=\"h-5 w-5 text-green-500\" />\n      case \"checkup\":\n        return <Stethoscope className=\"h-5 w-5 text-purple-500\" />\n      default:\n        return <Calendar className=\"h-5 w-5 text-gray-500\" />\n    }\n  }\n\n  const calculateAge = (birthDate) => {\n    if (!birthDate) return \"ไม่ระบุ\"\n\n    const today = new Date()\n    const birth = new Date(birthDate)\n    const ageInMonths = (today.getFullYear() - birth.getFullYear()) * 12 + (today.getMonth() - birth.getMonth())\n\n    if (ageInMonths < 12) {\n      return `${ageInMonths} เดือน`\n    } else {\n      const years = Math.floor(ageInMonths / 12)\n      const months = ageInMonths % 12\n      return months > 0 ? `${years} ปี ${months} เดือน` : `${years} ปี`\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500\"></div>\n      </div>\n    )\n  }\n\n  if (!pet) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">ไม่พบข้อมูลสัตว์เลี้ยง</h2>\n          <Link to=\"/dashboard\" className=\"btn-primary\">\n            กลับไปแดชบอร์ด\n          </Link>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Back Button */}\n        <Link to={user?.role === 'veterinarian' ? \"/pets\" : \"/dashboard\"} className=\"inline-flex items-center space-x-2 text-green-500 hover:text-green-600 mb-8\">\n          <ArrowLeft className=\"h-4 w-4\" />\n          <span>กลับไป{user?.role === 'veterinarian' ? 'รายการสัตว์เลี้ยง' : 'แดชบอร์ด'}</span>\n        </Link>\n\n        {/* Page Title for Veterinarians */}\n        {user?.role === 'veterinarian' && (\n          <div className=\"mb-6\">\n            <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">ข้อมูลผู้ป่วย</h1>\n            <p className=\"text-gray-600\">ดูข้อมูลสัตว์เลี้ยงและประวัติการรักษา</p>\n          </div>\n        )}\n\n        {/* Pet Header */}\n        <div className=\"card mb-8\">\n          <div className=\"flex items-center space-x-6\">\n            <div className=\"w-24 h-24 bg-gray-200 rounded-full overflow-hidden\">\n              {petImage ? (\n                <img src={petImage || \"/placeholder.svg\"} alt={pet.name} className=\"w-full h-full object-cover\" />\n              ) : (\n                <div className=\"w-full h-full flex items-center justify-center\">\n                  <Heart className=\"h-12 w-12 text-gray-400\" />\n                </div>\n              )}\n            </div>\n            <div className=\"flex-1\">\n              <div className=\"flex items-center space-x-3 mb-2\">\n                <h1 className=\"text-3xl font-bold text-gray-900\">{pet.name}</h1>\n                {user?.role === 'veterinarian' && (\n                  <span className=\"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full\">\n                    ผู้ป่วย\n                  </span>\n                )}\n              </div>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                <div>\n                  <span className=\"text-gray-600\">ชนิด:</span>\n                  <p className=\"font-medium\">{pet.species}</p>\n                </div>\n                <div>\n                  <span className=\"text-gray-600\">สายพันธุ์:</span>\n                  <p className=\"font-medium\">{pet.breed || \"ไม่ระบุ\"}</p>\n                </div>\n                <div>\n                  <span className=\"text-gray-600\">อายุ:</span>\n                  <p className=\"font-medium\">{calculateAge(pet.birth_date)}</p>\n                </div>\n                <div>\n                  <span className=\"text-gray-600\">น้ำหนัก:</span>\n                  <p className=\"font-medium\">{pet.weight} กก.</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"relative\">\n              <button onClick={() => setIsMenuOpen(!isMenuOpen)} className=\"btn-icon\">\n                <MoreVertical className=\"h-5 w-5\" />\n              </button>\n              {isMenuOpen && (\n                <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10\">\n                  <div className=\"py-1\">\n                    <Link\n                      to={`/pets/${id}/edit`}\n                      className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                    >\n                      <Edit className=\"mr-3 h-4 w-4\" />\n                      <span>แก้ไขข้อมูล</span>\n                    </Link>\n                    <button\n                      onClick={() => {\n                        setShowDeleteConfirm(true)\n                        setIsMenuOpen(false)\n                      }}\n                      className=\"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-100\"\n                    >\n                      <Trash2 className=\"mr-3 h-4 w-4\" />\n                      <span>ลบสัตว์เลี้ยง</span>\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"mb-8\">\n          <div className=\"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit\">\n            {[\n              { key: \"general\", label: \"ข้อมูลทั่วไป\" },\n              { key: \"health\", label: \"ประวัติสุขภาพ\" },\n              { key: \"nutrition\", label: \"โภชนาการ\" },\n              ...(user?.role === 'veterinarian' ? [{ key: \"appointments\", label: \"นัดหมาย\" }] : []),\n            ].map((tab) => (\n              <button\n                key={tab.key}\n                onClick={() => setActiveTab(tab.key)}\n                className={`px-6 py-2 rounded-md text-sm font-medium transition-colors ${\n                  activeTab === tab.key ? \"bg-white text-green-600 shadow-sm\" : \"text-gray-600 hover:text-gray-900\"\n                }`}\n              >\n                {tab.label}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Tab Content */}\n        {activeTab === \"general\" && (\n          <div className=\"space-y-6\">\n            <div className=\"card\">\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">รูปภาพสัตว์เลี้ยง</h2>\n              <ImageUpload \n                currentImage={petImage} \n                onImageUploaded={async (imageUrl) => {\n                  setPetImage(imageUrl)\n                  // อัปเดตข้อมูลในฐานข้อมูล\n                  try {\n                    const updateData = { photo_url: imageUrl || null }\n                    await apiClient.put(`/pets/${id}`, updateData)\n                    setPet(prev => ({ ...prev, photo_url: imageUrl }))\n                  } catch (error) {\n                    console.error('Failed to update pet image:', error)\n                    alert('เกิดข้อผิดพลาดในการอัปเดตรูปภาพ')\n                  }\n                }} \n                className=\"max-w-sm\" \n              />\n            </div>\n\n            <div className=\"grid lg:grid-cols-2 gap-6\">\n              {/* Pet Information */}\n              <div className=\"card\">\n                <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">ข้อมูลสัตว์เลี้ยง</h2>\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">ชื่อ</label>\n                    <p className=\"text-gray-900\">{pet.name}</p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">เพศ</label>\n                    <p className=\"text-gray-900\">\n                      {pet.gender === \"male\" ? \"ผู้\" : pet.gender === \"female\" ? \"เมีย\" : \"ไม่ระบุ\"}\n                    </p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">วันเกิด</label>\n                    <p className=\"text-gray-900\">\n                      {pet.birth_date ? new Date(pet.birth_date).toLocaleDateString(\"th-TH\") : \"ไม่ระบุ\"}\n                    </p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">สี</label>\n                    <p className=\"text-gray-900\">{pet.color || \"ไม่ระบุ\"}</p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">น้ำหนัก</label>\n                    <p className=\"text-gray-900\">{pet.weight ? `${pet.weight} กก.` : \"ไม่ระบุ\"}</p>\n                  </div>\n                  {pet.special_notes && (\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">หมายเหตุพิเศษ</label>\n                      <p className=\"text-gray-900\">{pet.special_notes}</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Owner Information (for veterinarians) */}\n              {user?.role === 'veterinarian' && pet.users && (\n                <div className=\"card\">\n                  <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">ข้อมูลเจ้าของ</h2>\n                  <div className=\"space-y-4\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className=\"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\">\n                        {pet.users?.profile_picture_url ? (\n                          <img \n                            src={pet.users.profile_picture_url} \n                            alt={pet.users?.full_name}\n                            className=\"w-full h-full object-cover\"\n                            onError={(e) => {\n                              e.target.style.display = 'none'\n                              e.target.nextSibling.style.display = 'flex'\n                            }}\n                          />\n                        ) : null}\n                        <div className={`w-full h-full flex items-center justify-center ${pet.users?.profile_picture_url ? 'hidden' : 'flex'}`}>\n                          <User className=\"h-4 w-4 text-gray-400\" />\n                        </div>\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">ชื่อ-นามสกุล</label>\n                        <p className=\"text-gray-900\">{pet.users.full_name || \"ไม่ระบุ\"}</p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-3\">\n                      <Mail className=\"h-5 w-5 text-gray-400\" />\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">อีเมล</label>\n                        <p className=\"text-gray-900\">{pet.users.email || \"ไม่ระบุ\"}</p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-3\">\n                      <Clock className=\"h-5 w-5 text-gray-400\" />\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">วันที่ลงทะเบียน</label>\n                        <p className=\"text-gray-900\">\n                          {pet.created_at ? new Date(pet.created_at).toLocaleDateString(\"th-TH\") : \"ไม่ระบุ\"}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {activeTab === \"health\" && (\n          <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n              <h2 className=\"text-2xl font-bold text-gray-900\">ประวัติสุขภาพ</h2>\n              {user?.role !== 'veterinarian' && (\n                <button onClick={() => setShowAddRecordModal(true)} className=\"btn-primary flex items-center space-x-2\">\n                  <Plus className=\"h-4 w-4\" />\n                  <span>เพิ่มบันทึกใหม่</span>\n                </button>\n              )}\n            </div>\n\n            {healthRecords.length === 0 ? (\n              <div className=\"card text-center py-12\">\n                <Stethoscope className=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">ยังไม่มีประวัติสุขภาพ</h3>\n                <p className=\"text-gray-600 mb-4\">\n                  {user?.role === 'veterinarian' \n                    ? `สัตว์เลี้ยง ${pet.name} ยังไม่มีประวัติการรักษา` \n                    : `เพิ่มบันทึกสุขภาพแรกของ ${pet.name}`\n                  }\n                </p>\n                {user?.role !== 'veterinarian' && (\n                  <button onClick={() => setShowAddRecordModal(true)} className=\"btn-primary\">\n                    เพิ่มบันทึกใหม่\n                  </button>\n                )}\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {healthRecords.map((record) => (\n                  <div key={record.id} className=\"card\">\n                    <div className=\"flex items-start space-x-4\">\n                      <div className=\"flex-shrink-0 mt-1\">{getRecordIcon(record.record_type)}</div>\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-start justify-between\">\n                          <div>\n                            <h4 className=\"text-lg font-medium text-gray-900\">{record.title}</h4>\n                            <p className=\"text-gray-600 mt-1\">{record.description}</p>\n                            <div className=\"flex items-center space-x-4 mt-3 text-sm text-gray-500\">\n                              <span>วันที่: {new Date(record.record_date).toLocaleDateString(\"th-TH\")}</span>\n                              {record.next_due_date && (\n                                <span>ครั้งถัดไป: {new Date(record.next_due_date).toLocaleDateString(\"th-TH\")}</span>\n                              )}\n                            </div>\n                          </div>\n                          <span\n                            className={`px-2 py-1 rounded-full text-xs ${\n                              record.record_type === \"vaccination\"\n                                ? \"bg-blue-100 text-blue-800\"\n                                : record.record_type === \"medication\"\n                                  ? \"bg-green-100 text-green-800\"\n                                  : record.record_type === \"checkup\"\n                                    ? \"bg-purple-100 text-purple-800\"\n                                    : \"bg-gray-100 text-gray-800\"\n                            }`}\n                          >\n                            {record.record_type === \"vaccination\"\n                              ? \"วัคซีน\"\n                              : record.record_type === \"medication\"\n                                ? \"ยา\"\n                                : record.record_type === \"checkup\"\n                                  ? \"ตรวจสุขภาพ\"\n                                  : record.record_type}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {activeTab === \"nutrition\" && (\n          <div className=\"space-y-6\">\n            <div className=\"card\">\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">คำแนะนำโภชนาการ</h2>\n              {vetRecommendation ? (\n                <div className=\"space-y-4\">\n                  <div className=\"border-l-4 border-green-500 pl-4\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">คำแนะนำจากสัตวแพทย์</h3>\n                    <p className=\"text-gray-700 whitespace-pre-line\">{vetRecommendation.custom_instructions}</p>\n                  </div>\n                  <div>\n                    <Link to={`/pets/${pet.id}/nutrition?plan_id=${vetRecommendation.id}`} className=\"btn-secondary\">ดูรายละเอียดเพิ่มเติม</Link>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"text-center py-8\">\n                  <Utensils className=\"h-16 w-16 text-orange-300 mx-auto mb-4\" />\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-2\">ยังไม่มีคำแนะนำโภชนาการ</h3>\n                  <p className=\"text-gray-600 mb-6\">ไปยังหน้าคำแนะนำเพื่อดูหรือให้สัตวแพทย์เพิ่ม</p>\n                  <Link to={`/pets/${pet.id}/nutrition`} className=\"btn-primary inline-flex items-center space-x-2\">\n                    <Utensils className=\"h-4 w-4\" />\n                    <span>ดูคำแนะนำโภชนาการ</span>\n                  </Link>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {activeTab === \"appointments\" && user?.role === 'veterinarian' && (\n          <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n              <h2 className=\"text-2xl font-bold text-gray-900\">ประวัติการนัดหมาย</h2>\n              <Link to=\"/appointments\" className=\"btn-primary flex items-center space-x-2\">\n                <Calendar className=\"h-4 w-4\" />\n                <span>จัดการนัดหมาย</span>\n              </Link>\n            </div>\n\n            {appointments.length === 0 ? (\n              <div className=\"card text-center py-12\">\n                <Calendar className=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">ยังไม่มีประวัติการนัดหมาย</h3>\n                <p className=\"text-gray-600 mb-4\">สัตว์เลี้ยงตัวนี้ยังไม่เคยมีนัดหมาย</p>\n                <Link to=\"/appointments\" className=\"btn-primary\">\n                  ดูนัดหมายทั้งหมด\n                </Link>\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {appointments.map((appointment) => (\n                  <div key={appointment.id} className=\"card\">\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"flex items-start space-x-4\">\n                        <div className={`w-3 h-3 rounded-full mt-2 ${\n                          appointment.status === 'confirmed' ? 'bg-green-500' : \n                          appointment.status === 'scheduled' ? 'bg-yellow-500' :\n                          appointment.status === 'completed' ? 'bg-blue-500' : 'bg-red-500'\n                        }`} />\n                        <div className=\"flex-1\">\n                          <h4 className=\"text-lg font-medium text-gray-900\">{appointment.appointment_type}</h4>\n                          <p className=\"text-gray-600 mt-1\">\n                            {new Date(appointment.appointment_date).toLocaleString(\"th-TH\", {\n                              dateStyle: 'full',\n                              timeStyle: 'short'\n                            })}\n                          </p>\n                          <div className=\"flex items-center space-x-4 mt-3 text-sm text-gray-500\">\n                            <div className=\"flex items-center space-x-2\">\n                              <div className=\"w-4 h-4 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden\">\n                                {appointment.user?.profile_picture_url ? (\n                                  <img \n                                    src={appointment.user.profile_picture_url} \n                                    alt={appointment.user?.full_name}\n                                    className=\"w-full h-full object-cover\"\n                                    onError={(e) => {\n                                      e.target.style.display = 'none'\n                                      e.target.nextSibling.style.display = 'flex'\n                                    }}\n                                  />\n                                ) : null}\n                                <div className={`w-full h-full flex items-center justify-center ${appointment.user?.profile_picture_url ? 'hidden' : 'flex'}`}>\n                                  <svg className=\"h-2 w-2 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                    <path fillRule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clipRule=\"evenodd\" />\n                                  </svg>\n                                </div>\n                              </div>\n                              <span>เจ้าของ: {appointment.user?.full_name || appointment.user?.email || 'ไม่ระบุ'}</span>\n                            </div>\n                            <span>สัตวแพทย์: {appointment.veterinarian?.full_name || appointment.veterinarian?.email || 'ไม่ระบุ'}</span>\n                          </div>\n                          {appointment.notes && (\n                            <p className=\"text-sm text-gray-600 mt-2 bg-gray-50 p-3 rounded-lg\">\n                              <strong>หมายเหตุ:</strong> {appointment.notes}\n                            </p>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"flex flex-col items-end space-y-2\">\n                        <span className={`px-3 py-1 rounded-full text-xs font-medium ${\n                          appointment.status === 'scheduled' ? 'bg-yellow-100 text-yellow-800' :\n                          appointment.status === 'confirmed' ? 'bg-green-100 text-green-800' :\n                          appointment.status === 'completed' ? 'bg-blue-100 text-blue-800' :\n                          'bg-red-100 text-red-800'\n                        }`}>\n                          {appointment.status === 'scheduled' ? 'รอยืนยัน' :\n                           appointment.status === 'confirmed' ? 'ยืนยันแล้ว' :\n                           appointment.status === 'completed' ? 'เสร็จสิ้น' : 'ยกเลิก'}\n                        </span>\n                        <div className=\"text-xs text-gray-500\">\n                          สร้างเมื่อ: {new Date(appointment.created_at).toLocaleDateString(\"th-TH\")}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Add Health Record Modal */}\n      {showAddRecordModal && (\n        <AddHealthRecordModal\n          petId={id}\n          petName={pet.name}\n          onClose={() => setShowAddRecordModal(false)}\n          onRecordAdded={handleRecordAdded}\n        />\n      )}\n\n      {/* Delete Confirmation Dialog */}\n      {showDeleteConfirm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white p-8 rounded-lg shadow-xl max-w-sm w-full\">\n            <h3 className=\"text-xl font-bold text-gray-900 mb-4\">ยืนยันการลบ</h3>\n            <p className=\"text-gray-600 mb-6\">คุณแน่ใจหรือไม่ที่จะลบ {pet.name}? การกระทำนี้ไม่สามารถย้อนกลับได้</p>\n            <div className=\"flex justify-end space-x-4\">\n              <button onClick={() => setShowDeleteConfirm(false)} className=\"btn-secondary\">\n                ยกเลิก\n              </button>\n              <button onClick={handleDelete} className=\"btn-danger\">\n                ยืนยันการลบ\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default PetProfile\n"],"mappings":"AAAA,YAAY,CAEZ,OAASA,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CACxD,OAASC,SAAS,CAAEC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CAC/D,OAASC,OAAO,KAAQ,yBAAyB,CACjD,MAAO,CAAAC,SAAS,KAAM,iBAAiB,CACvC,OAASC,SAAS,CAAEC,KAAK,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,IAAI,CAAEC,OAAO,CAAEC,WAAW,CAAEC,QAAQ,CAAEC,YAAY,CAAEC,IAAI,CAAEC,MAAM,CAAEC,IAAI,CAAEC,KAAK,CAAEC,IAAI,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,WAAW,KAAQ,cAAc,CAC1L,MAAO,CAAAC,oBAAoB,KAAM,oCAAoC,CACrE,MAAO,CAAAC,WAAW,KAAM,2BAA2B,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,KAAAC,UAAA,CAAAC,WAAA,CAAAC,WAAA,CACvB,KAAM,CAAEC,EAAG,CAAC,CAAGjC,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAkC,QAAQ,CAAGhC,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEiC,IAAK,CAAC,CAAGhC,OAAO,CAAC,CAAC,CAC1B,KAAM,CAACiC,GAAG,CAAEC,MAAM,CAAC,CAAGxC,QAAQ,CAAC,IAAI,CAAC,CACpC,KAAM,CAACyC,aAAa,CAAEC,gBAAgB,CAAC,CAAG1C,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAAC2C,YAAY,CAAEC,eAAe,CAAC,CAAG5C,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAC6C,OAAO,CAAEC,UAAU,CAAC,CAAG9C,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC+C,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGhD,QAAQ,CAAC,IAAI,CAAC,CAChE,KAAM,CAACiD,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGlD,QAAQ,CAAC,KAAK,CAAC,CACnE,KAAM,CAACmD,SAAS,CAAEC,YAAY,CAAC,CAAGpD,QAAQ,CAAC,SAAS,CAAC,CACrD,KAAM,CAACqD,QAAQ,CAAEC,WAAW,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACuD,UAAU,CAAEC,aAAa,CAAC,CAAGxD,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACyD,iBAAiB,CAAEC,oBAAoB,CAAC,CAAG1D,QAAQ,CAAC,KAAK,CAAC,CAEjE,KAAM,CAAA2D,YAAY,CAAGzD,WAAW,CAAC,SAAY,CAC3C,GAAI,CACF,KAAM,CAAC0D,WAAW,CAAEC,eAAe,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,UAAU,CAAC,CAC9DxD,SAAS,CAACyD,GAAG,CAAC,SAAS5B,EAAE,EAAE,CAAC,CAC5B7B,SAAS,CAACyD,GAAG,CAAC,SAAS5B,EAAE,iBAAiB,CAAC,CAC5C,CAAC,CAEF;AACA,GAAIwB,WAAW,CAACK,MAAM,GAAK,WAAW,CAAE,CACtCzB,MAAM,CAACoB,WAAW,CAACM,KAAK,CAACC,IAAI,CAAC,CAC9B,KAAM,CAAAC,QAAQ,CAAGR,WAAW,CAACM,KAAK,CAACC,IAAI,CAACE,SAAS,CACjD,GAAID,QAAQ,CAAE,CACZ;AACA,GAAIA,QAAQ,CAACE,UAAU,CAAC,WAAW,CAAC,EAAIF,QAAQ,CAACE,UAAU,CAAC,yCAAyC,CAAC,CAAE,CACtG,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAGH,QAAQ,CAACI,QAAQ,CAAC,GAAG,CAAC,CAAGJ,QAAQ,CAACK,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC,CAAGN,QAAQ,CAC9E,KAAM,CAAAO,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,iBAAiBR,QAAQ,EAAE,CAAC,CACzF,GAAII,QAAQ,CAACK,EAAE,CAAE,CACf,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAN,QAAQ,CAACM,IAAI,CAAC,CAAC,CAClC,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,MAAM,CAAIC,CAAC,EAAK/B,WAAW,CAAC+B,CAAC,CAACC,MAAM,CAACC,MAAM,CAAC,CACnDL,MAAM,CAACM,aAAa,CAACP,IAAI,CAAC,CAC5B,CAAC,IAAM,CACL3B,WAAW,CAAC,IAAI,CAAC,CACnB,CACF,CAAE,MAAOmC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CACtDnC,WAAW,CAAC,IAAI,CAAC,CACnB,CACF,CAAC,IAAM,CACLA,WAAW,CAACc,QAAQ,CAAC,CACvB,CACF,CAAC,IAAM,CACLd,WAAW,CAAC,IAAI,CAAC,CACnB,CACF,CAAC,IAAM,CACLoC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAE7B,WAAW,CAAC+B,MAAM,CAAC,CACzDnD,MAAM,CAAC,IAAI,CAAC,CACd,CAEA;AACA,GAAIqB,eAAe,CAACI,MAAM,GAAK,WAAW,CAAE,CAC1CvB,gBAAgB,CAACmB,eAAe,CAACK,KAAK,CAACC,IAAI,CAAC,CAC9C,CAAC,IAAM,CACLuB,OAAO,CAACD,KAAK,CAAC,iCAAiC,CAAE5B,eAAe,CAAC8B,MAAM,CAAC,CACxEjD,gBAAgB,CAAC,EAAE,CAAC,CACtB,CAEA;AACA,GAAI,CAAAJ,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsD,IAAI,IAAK,cAAc,CAAE,CACjC,GAAI,KAAAC,qBAAA,CACF,KAAM,CAAAC,eAAe,CAAG,KAAM,CAAAvF,SAAS,CAACyD,GAAG,CAAC,4BAA4B5B,EAAE,EAAE,CAAC,CAC7E,GAAI,CAAA2D,gBAAgB,CAAG,EAAE,CACzB,IAAAF,qBAAA,CAAIC,eAAe,CAAC3B,IAAI,UAAA0B,qBAAA,WAApBA,qBAAA,CAAsBlD,YAAY,CAAE,CACtCoD,gBAAgB,CAAGD,eAAe,CAAC3B,IAAI,CAACxB,YAAY,CACtD,CAAC,IAAM,IAAIqD,KAAK,CAACC,OAAO,CAACH,eAAe,CAAC3B,IAAI,CAAC,CAAE,CAC9C4B,gBAAgB,CAAGD,eAAe,CAAC3B,IAAI,CACzC,CACAvB,eAAe,CAACmD,gBAAgB,CAAC,CACnC,CAAE,MAAOV,CAAC,CAAE,CACVK,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAEJ,CAAC,CAAC,CACnD,CACF,CAEA;AACA,GAAI,CACFK,OAAO,CAACQ,GAAG,CAAC,sBAAsB,CAAE9D,EAAE,CAAC,CACvC,KAAM,CAAA+D,MAAM,CAAG,KAAM,CAAA5F,SAAS,CAACyD,GAAG,CAAC,qCAAqC5B,EAAE,EAAE,CAAC,CAC7EsD,OAAO,CAACQ,GAAG,CAAC,4BAA4B,CAAEC,MAAM,CAAClC,MAAM,CAAEkC,MAAM,CAAChC,IAAI,CAAC,CACrE,KAAM,CAAAiC,KAAK,CAAGJ,KAAK,CAACC,OAAO,CAACE,MAAM,CAAChC,IAAI,CAAC,CAAGgC,MAAM,CAAChC,IAAI,CAAG,EAAE,CAC3D,GAAIiC,KAAK,CAACC,MAAM,CAAG,CAAC,CAAErD,oBAAoB,CAACoD,KAAK,CAAC,CAAC,CAAC,CAAC,CACtD,CAAE,MAAOf,CAAC,CAAE,CACVK,OAAO,CAACD,KAAK,CAAC,2CAA2C,CAAEJ,CAAC,CAAC,CAC/D,CACF,CAAE,MAAOI,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACnD,CAAC,OAAS,CACR3C,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACV,EAAE,CAAEE,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsD,IAAI,CAAC,CAAC,CAEpB3F,SAAS,CAAC,IAAM,CACd0D,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACA,YAAY,CAAC,CAAC,CAElB,KAAM,CAAA2C,iBAAiB,CAAIC,SAAS,EAAK,CACvC7D,gBAAgB,CAAC,CAAC,GAAGD,aAAa,CAAE8D,SAAS,CAAC,CAAC,CAC/CrD,qBAAqB,CAAC,KAAK,CAAC,CAC9B,CAAC,CAED,KAAM,CAAAsD,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAjG,SAAS,CAACkG,MAAM,CAAC,SAASrE,EAAE,EAAE,CAAC,CACrCC,QAAQ,CAAC,YAAY,CAAC,CACxB,CAAE,MAAOoD,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7C;AACF,CACF,CAAC,CAED,KAAM,CAAAiB,aAAa,CAAIC,IAAI,EAAK,CAC9B,OAAQA,IAAI,EACV,IAAK,aAAa,CAChB,mBAAO9E,IAAA,CAAChB,OAAO,EAAC+F,SAAS,CAAC,uBAAuB,CAAE,CAAC,CACtD,IAAK,YAAY,CACf,mBAAO/E,IAAA,CAACjB,IAAI,EAACgG,SAAS,CAAC,wBAAwB,CAAE,CAAC,CACpD,IAAK,SAAS,CACZ,mBAAO/E,IAAA,CAACf,WAAW,EAAC8F,SAAS,CAAC,yBAAyB,CAAE,CAAC,CAC5D,QACE,mBAAO/E,IAAA,CAAClB,QAAQ,EAACiG,SAAS,CAAC,uBAAuB,CAAE,CAAC,CACzD,CACF,CAAC,CAED,KAAM,CAAAC,YAAY,CAAIC,SAAS,EAAK,CAClC,GAAI,CAACA,SAAS,CAAE,MAAO,SAAS,CAEhC,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CACxB,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAD,IAAI,CAACF,SAAS,CAAC,CACjC,KAAM,CAAAI,WAAW,CAAG,CAACH,KAAK,CAACI,WAAW,CAAC,CAAC,CAAGF,KAAK,CAACE,WAAW,CAAC,CAAC,EAAI,EAAE,EAAIJ,KAAK,CAACK,QAAQ,CAAC,CAAC,CAAGH,KAAK,CAACG,QAAQ,CAAC,CAAC,CAAC,CAE5G,GAAIF,WAAW,CAAG,EAAE,CAAE,CACpB,MAAO,GAAGA,WAAW,QAAQ,CAC/B,CAAC,IAAM,CACL,KAAM,CAAAG,KAAK,CAAGC,IAAI,CAACC,KAAK,CAACL,WAAW,CAAG,EAAE,CAAC,CAC1C,KAAM,CAAAM,MAAM,CAAGN,WAAW,CAAG,EAAE,CAC/B,MAAO,CAAAM,MAAM,CAAG,CAAC,CAAG,GAAGH,KAAK,OAAOG,MAAM,QAAQ,CAAG,GAAGH,KAAK,KAAK,CACnE,CACF,CAAC,CAED,GAAIxE,OAAO,CAAE,CACX,mBACEhB,IAAA,QAAK+E,SAAS,CAAC,+CAA+C,CAAAa,QAAA,cAC5D5F,IAAA,QAAK+E,SAAS,CAAC,iEAAiE,CAAM,CAAC,CACpF,CAAC,CAEV,CAEA,GAAI,CAACrE,GAAG,CAAE,CACR,mBACEV,IAAA,QAAK+E,SAAS,CAAC,+CAA+C,CAAAa,QAAA,cAC5D1F,KAAA,QAAK6E,SAAS,CAAC,aAAa,CAAAa,QAAA,eAC1B5F,IAAA,OAAI+E,SAAS,CAAC,uCAAuC,CAAAa,QAAA,CAAC,sIAAsB,CAAI,CAAC,cACjF5F,IAAA,CAACzB,IAAI,EAACsH,EAAE,CAAC,YAAY,CAACd,SAAS,CAAC,aAAa,CAAAa,QAAA,CAAC,sFAE9C,CAAM,CAAC,EACJ,CAAC,CACH,CAAC,CAEV,CAEA,mBACE1F,KAAA,QAAK6E,SAAS,CAAC,8BAA8B,CAAAa,QAAA,eAC3C1F,KAAA,QAAK6E,SAAS,CAAC,wCAAwC,CAAAa,QAAA,eAErD1F,KAAA,CAAC3B,IAAI,EAACsH,EAAE,CAAE,CAAApF,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsD,IAAI,IAAK,cAAc,CAAG,OAAO,CAAG,YAAa,CAACgB,SAAS,CAAC,6EAA6E,CAAAa,QAAA,eACvJ5F,IAAA,CAACrB,SAAS,EAACoG,SAAS,CAAC,SAAS,CAAE,CAAC,cACjC7E,KAAA,SAAA0F,QAAA,EAAM,sCAAM,CAAC,CAAAnF,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsD,IAAI,IAAK,cAAc,CAAG,mBAAmB,CAAG,UAAU,EAAO,CAAC,EACjF,CAAC,CAGN,CAAAtD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsD,IAAI,IAAK,cAAc,eAC5B7D,KAAA,QAAK6E,SAAS,CAAC,MAAM,CAAAa,QAAA,eACnB5F,IAAA,OAAI+E,SAAS,CAAC,uCAAuC,CAAAa,QAAA,CAAC,gFAAa,CAAI,CAAC,cACxE5F,IAAA,MAAG+E,SAAS,CAAC,eAAe,CAAAa,QAAA,CAAC,gOAAqC,CAAG,CAAC,EACnE,CACN,cAGD5F,IAAA,QAAK+E,SAAS,CAAC,WAAW,CAAAa,QAAA,cACxB1F,KAAA,QAAK6E,SAAS,CAAC,6BAA6B,CAAAa,QAAA,eAC1C5F,IAAA,QAAK+E,SAAS,CAAC,oDAAoD,CAAAa,QAAA,CAChEpE,QAAQ,cACPxB,IAAA,QAAK8F,GAAG,CAAEtE,QAAQ,EAAI,kBAAmB,CAACuE,GAAG,CAAErF,GAAG,CAACsF,IAAK,CAACjB,SAAS,CAAC,4BAA4B,CAAE,CAAC,cAElG/E,IAAA,QAAK+E,SAAS,CAAC,gDAAgD,CAAAa,QAAA,cAC7D5F,IAAA,CAACpB,KAAK,EAACmG,SAAS,CAAC,yBAAyB,CAAE,CAAC,CAC1C,CACN,CACE,CAAC,cACN7E,KAAA,QAAK6E,SAAS,CAAC,QAAQ,CAAAa,QAAA,eACrB1F,KAAA,QAAK6E,SAAS,CAAC,kCAAkC,CAAAa,QAAA,eAC/C5F,IAAA,OAAI+E,SAAS,CAAC,kCAAkC,CAAAa,QAAA,CAAElF,GAAG,CAACsF,IAAI,CAAK,CAAC,CAC/D,CAAAvF,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsD,IAAI,IAAK,cAAc,eAC5B/D,IAAA,SAAM+E,SAAS,CAAC,sEAAsE,CAAAa,QAAA,CAAC,4CAEvF,CAAM,CACP,EACE,CAAC,cACN1F,KAAA,QAAK6E,SAAS,CAAC,+CAA+C,CAAAa,QAAA,eAC5D1F,KAAA,QAAA0F,QAAA,eACE5F,IAAA,SAAM+E,SAAS,CAAC,eAAe,CAAAa,QAAA,CAAC,2BAAK,CAAM,CAAC,cAC5C5F,IAAA,MAAG+E,SAAS,CAAC,aAAa,CAAAa,QAAA,CAAElF,GAAG,CAACuF,OAAO,CAAI,CAAC,EACzC,CAAC,cACN/F,KAAA,QAAA0F,QAAA,eACE5F,IAAA,SAAM+E,SAAS,CAAC,eAAe,CAAAa,QAAA,CAAC,yDAAU,CAAM,CAAC,cACjD5F,IAAA,MAAG+E,SAAS,CAAC,aAAa,CAAAa,QAAA,CAAElF,GAAG,CAACwF,KAAK,EAAI,SAAS,CAAI,CAAC,EACpD,CAAC,cACNhG,KAAA,QAAA0F,QAAA,eACE5F,IAAA,SAAM+E,SAAS,CAAC,eAAe,CAAAa,QAAA,CAAC,2BAAK,CAAM,CAAC,cAC5C5F,IAAA,MAAG+E,SAAS,CAAC,aAAa,CAAAa,QAAA,CAAEZ,YAAY,CAACtE,GAAG,CAACyF,UAAU,CAAC,CAAI,CAAC,EAC1D,CAAC,cACNjG,KAAA,QAAA0F,QAAA,eACE5F,IAAA,SAAM+E,SAAS,CAAC,eAAe,CAAAa,QAAA,CAAC,6CAAQ,CAAM,CAAC,cAC/C1F,KAAA,MAAG6E,SAAS,CAAC,aAAa,CAAAa,QAAA,EAAElF,GAAG,CAAC0F,MAAM,CAAC,gBAAI,EAAG,CAAC,EAC5C,CAAC,EACH,CAAC,EACH,CAAC,cACNlG,KAAA,QAAK6E,SAAS,CAAC,UAAU,CAAAa,QAAA,eACvB5F,IAAA,WAAQqG,OAAO,CAAEA,CAAA,GAAM1E,aAAa,CAAC,CAACD,UAAU,CAAE,CAACqD,SAAS,CAAC,UAAU,CAAAa,QAAA,cACrE5F,IAAA,CAACb,YAAY,EAAC4F,SAAS,CAAC,SAAS,CAAE,CAAC,CAC9B,CAAC,CACRrD,UAAU,eACT1B,IAAA,QAAK+E,SAAS,CAAC,+DAA+D,CAAAa,QAAA,cAC5E1F,KAAA,QAAK6E,SAAS,CAAC,MAAM,CAAAa,QAAA,eACnB1F,KAAA,CAAC3B,IAAI,EACHsH,EAAE,CAAE,SAAStF,EAAE,OAAQ,CACvBwE,SAAS,CAAC,4EAA4E,CAAAa,QAAA,eAEtF5F,IAAA,CAACZ,IAAI,EAAC2F,SAAS,CAAC,cAAc,CAAE,CAAC,cACjC/E,IAAA,SAAA4F,QAAA,CAAM,oEAAW,CAAM,CAAC,EACpB,CAAC,cACP1F,KAAA,WACEmG,OAAO,CAAEA,CAAA,GAAM,CACbxE,oBAAoB,CAAC,IAAI,CAAC,CAC1BF,aAAa,CAAC,KAAK,CAAC,CACtB,CAAE,CACFoD,SAAS,CAAC,2EAA2E,CAAAa,QAAA,eAErF5F,IAAA,CAACX,MAAM,EAAC0F,SAAS,CAAC,cAAc,CAAE,CAAC,cACnC/E,IAAA,SAAA4F,QAAA,CAAM,gFAAa,CAAM,CAAC,EACpB,CAAC,EACN,CAAC,CACH,CACN,EACE,CAAC,EACH,CAAC,CACH,CAAC,cAGN5F,IAAA,QAAK+E,SAAS,CAAC,MAAM,CAAAa,QAAA,cACnB5F,IAAA,QAAK+E,SAAS,CAAC,iDAAiD,CAAAa,QAAA,CAC7D,CACC,CAAEU,GAAG,CAAE,SAAS,CAAEC,KAAK,CAAE,cAAe,CAAC,CACzC,CAAED,GAAG,CAAE,QAAQ,CAAEC,KAAK,CAAE,eAAgB,CAAC,CACzC,CAAED,GAAG,CAAE,WAAW,CAAEC,KAAK,CAAE,UAAW,CAAC,CACvC,IAAI,CAAA9F,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsD,IAAI,IAAK,cAAc,CAAG,CAAC,CAAEuC,GAAG,CAAE,cAAc,CAAEC,KAAK,CAAE,SAAU,CAAC,CAAC,CAAG,EAAE,CAAC,CACtF,CAACC,GAAG,CAAEC,GAAG,eACRzG,IAAA,WAEEqG,OAAO,CAAEA,CAAA,GAAM9E,YAAY,CAACkF,GAAG,CAACH,GAAG,CAAE,CACrCvB,SAAS,CAAE,8DACTzD,SAAS,GAAKmF,GAAG,CAACH,GAAG,CAAG,mCAAmC,CAAG,mCAAmC,EAChG,CAAAV,QAAA,CAEFa,GAAG,CAACF,KAAK,EANLE,GAAG,CAACH,GAOH,CACT,CAAC,CACC,CAAC,CACH,CAAC,CAGLhF,SAAS,GAAK,SAAS,eACtBpB,KAAA,QAAK6E,SAAS,CAAC,WAAW,CAAAa,QAAA,eACxB1F,KAAA,QAAK6E,SAAS,CAAC,MAAM,CAAAa,QAAA,eACnB5F,IAAA,OAAI+E,SAAS,CAAC,uCAAuC,CAAAa,QAAA,CAAC,wGAAiB,CAAI,CAAC,cAC5E5F,IAAA,CAACF,WAAW,EACV4G,YAAY,CAAElF,QAAS,CACvBmF,eAAe,CAAE,KAAO,CAAAC,QAAQ,EAAK,CACnCnF,WAAW,CAACmF,QAAQ,CAAC,CACrB;AACA,GAAI,CACF,KAAM,CAAAC,UAAU,CAAG,CAAErE,SAAS,CAAEoE,QAAQ,EAAI,IAAK,CAAC,CAClD,KAAM,CAAAlI,SAAS,CAACoI,GAAG,CAAC,SAASvG,EAAE,EAAE,CAAEsG,UAAU,CAAC,CAC9ClG,MAAM,CAACoG,IAAI,GAAK,CAAE,GAAGA,IAAI,CAAEvE,SAAS,CAAEoE,QAAS,CAAC,CAAC,CAAC,CACpD,CAAE,MAAOhD,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACnDoD,KAAK,CAAC,iCAAiC,CAAC,CAC1C,CACF,CAAE,CACFjC,SAAS,CAAC,UAAU,CACrB,CAAC,EACC,CAAC,cAEN7E,KAAA,QAAK6E,SAAS,CAAC,2BAA2B,CAAAa,QAAA,eAExC1F,KAAA,QAAK6E,SAAS,CAAC,MAAM,CAAAa,QAAA,eACnB5F,IAAA,OAAI+E,SAAS,CAAC,uCAAuC,CAAAa,QAAA,CAAC,wGAAiB,CAAI,CAAC,cAC5E1F,KAAA,QAAK6E,SAAS,CAAC,WAAW,CAAAa,QAAA,eACxB1F,KAAA,QAAA0F,QAAA,eACE5F,IAAA,UAAO+E,SAAS,CAAC,8CAA8C,CAAAa,QAAA,CAAC,0BAAI,CAAO,CAAC,cAC5E5F,IAAA,MAAG+E,SAAS,CAAC,eAAe,CAAAa,QAAA,CAAElF,GAAG,CAACsF,IAAI,CAAI,CAAC,EACxC,CAAC,cACN9F,KAAA,QAAA0F,QAAA,eACE5F,IAAA,UAAO+E,SAAS,CAAC,8CAA8C,CAAAa,QAAA,CAAC,oBAAG,CAAO,CAAC,cAC3E5F,IAAA,MAAG+E,SAAS,CAAC,eAAe,CAAAa,QAAA,CACzBlF,GAAG,CAACuG,MAAM,GAAK,MAAM,CAAG,KAAK,CAAGvG,GAAG,CAACuG,MAAM,GAAK,QAAQ,CAAG,MAAM,CAAG,SAAS,CAC5E,CAAC,EACD,CAAC,cACN/G,KAAA,QAAA0F,QAAA,eACE5F,IAAA,UAAO+E,SAAS,CAAC,8CAA8C,CAAAa,QAAA,CAAC,4CAAO,CAAO,CAAC,cAC/E5F,IAAA,MAAG+E,SAAS,CAAC,eAAe,CAAAa,QAAA,CACzBlF,GAAG,CAACyF,UAAU,CAAG,GAAI,CAAAhB,IAAI,CAACzE,GAAG,CAACyF,UAAU,CAAC,CAACe,kBAAkB,CAAC,OAAO,CAAC,CAAG,SAAS,CACjF,CAAC,EACD,CAAC,cACNhH,KAAA,QAAA0F,QAAA,eACE5F,IAAA,UAAO+E,SAAS,CAAC,8CAA8C,CAAAa,QAAA,CAAC,cAAE,CAAO,CAAC,cAC1E5F,IAAA,MAAG+E,SAAS,CAAC,eAAe,CAAAa,QAAA,CAAElF,GAAG,CAACyG,KAAK,EAAI,SAAS,CAAI,CAAC,EACtD,CAAC,cACNjH,KAAA,QAAA0F,QAAA,eACE5F,IAAA,UAAO+E,SAAS,CAAC,8CAA8C,CAAAa,QAAA,CAAC,4CAAO,CAAO,CAAC,cAC/E5F,IAAA,MAAG+E,SAAS,CAAC,eAAe,CAAAa,QAAA,CAAElF,GAAG,CAAC0F,MAAM,CAAG,GAAG1F,GAAG,CAAC0F,MAAM,MAAM,CAAG,SAAS,CAAI,CAAC,EAC5E,CAAC,CACL1F,GAAG,CAAC0G,aAAa,eAChBlH,KAAA,QAAA0F,QAAA,eACE5F,IAAA,UAAO+E,SAAS,CAAC,8CAA8C,CAAAa,QAAA,CAAC,gFAAa,CAAO,CAAC,cACrF5F,IAAA,MAAG+E,SAAS,CAAC,eAAe,CAAAa,QAAA,CAAElF,GAAG,CAAC0G,aAAa,CAAI,CAAC,EACjD,CACN,EACE,CAAC,EACH,CAAC,CAGL,CAAA3G,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsD,IAAI,IAAK,cAAc,EAAIrD,GAAG,CAAC2G,KAAK,eACzCnH,KAAA,QAAK6E,SAAS,CAAC,MAAM,CAAAa,QAAA,eACnB5F,IAAA,OAAI+E,SAAS,CAAC,uCAAuC,CAAAa,QAAA,CAAC,gFAAa,CAAI,CAAC,cACxE1F,KAAA,QAAK6E,SAAS,CAAC,WAAW,CAAAa,QAAA,eACxB1F,KAAA,QAAK6E,SAAS,CAAC,6BAA6B,CAAAa,QAAA,eAC1C1F,KAAA,QAAK6E,SAAS,CAAC,mFAAmF,CAAAa,QAAA,EAC/F,CAAAxF,UAAA,CAAAM,GAAG,CAAC2G,KAAK,UAAAjH,UAAA,WAATA,UAAA,CAAWkH,mBAAmB,cAC7BtH,IAAA,QACE8F,GAAG,CAAEpF,GAAG,CAAC2G,KAAK,CAACC,mBAAoB,CACnCvB,GAAG,EAAA1F,WAAA,CAAEK,GAAG,CAAC2G,KAAK,UAAAhH,WAAA,iBAATA,WAAA,CAAWkH,SAAU,CAC1BxC,SAAS,CAAC,4BAA4B,CACtCyC,OAAO,CAAGhE,CAAC,EAAK,CACdA,CAAC,CAACC,MAAM,CAACgE,KAAK,CAACC,OAAO,CAAG,MAAM,CAC/BlE,CAAC,CAACC,MAAM,CAACkE,WAAW,CAACF,KAAK,CAACC,OAAO,CAAG,MAAM,CAC7C,CAAE,CACH,CAAC,CACA,IAAI,cACR1H,IAAA,QAAK+E,SAAS,CAAE,kDAAkD,CAAAzE,WAAA,CAAAI,GAAG,CAAC2G,KAAK,UAAA/G,WAAA,WAATA,WAAA,CAAWgH,mBAAmB,CAAG,QAAQ,CAAG,MAAM,EAAG,CAAA1B,QAAA,cACrH5F,IAAA,CAACV,IAAI,EAACyF,SAAS,CAAC,uBAAuB,CAAE,CAAC,CACvC,CAAC,EACH,CAAC,cACN7E,KAAA,QAAA0F,QAAA,eACE5F,IAAA,UAAO+E,SAAS,CAAC,8CAA8C,CAAAa,QAAA,CAAC,qEAAY,CAAO,CAAC,cACpF5F,IAAA,MAAG+E,SAAS,CAAC,eAAe,CAAAa,QAAA,CAAElF,GAAG,CAAC2G,KAAK,CAACE,SAAS,EAAI,SAAS,CAAI,CAAC,EAChE,CAAC,EACH,CAAC,cACNrH,KAAA,QAAK6E,SAAS,CAAC,6BAA6B,CAAAa,QAAA,eAC1C5F,IAAA,CAACR,IAAI,EAACuF,SAAS,CAAC,uBAAuB,CAAE,CAAC,cAC1C7E,KAAA,QAAA0F,QAAA,eACE5F,IAAA,UAAO+E,SAAS,CAAC,8CAA8C,CAAAa,QAAA,CAAC,gCAAK,CAAO,CAAC,cAC7E5F,IAAA,MAAG+E,SAAS,CAAC,eAAe,CAAAa,QAAA,CAAElF,GAAG,CAAC2G,KAAK,CAACO,KAAK,EAAI,SAAS,CAAI,CAAC,EAC5D,CAAC,EACH,CAAC,cACN1H,KAAA,QAAK6E,SAAS,CAAC,6BAA6B,CAAAa,QAAA,eAC1C5F,IAAA,CAACN,KAAK,EAACqF,SAAS,CAAC,uBAAuB,CAAE,CAAC,cAC3C7E,KAAA,QAAA0F,QAAA,eACE5F,IAAA,UAAO+E,SAAS,CAAC,8CAA8C,CAAAa,QAAA,CAAC,4FAAe,CAAO,CAAC,cACvF5F,IAAA,MAAG+E,SAAS,CAAC,eAAe,CAAAa,QAAA,CACzBlF,GAAG,CAACmH,UAAU,CAAG,GAAI,CAAA1C,IAAI,CAACzE,GAAG,CAACmH,UAAU,CAAC,CAACX,kBAAkB,CAAC,OAAO,CAAC,CAAG,SAAS,CACjF,CAAC,EACD,CAAC,EACH,CAAC,EACH,CAAC,EACH,CACN,EACE,CAAC,EACH,CACN,CAEA5F,SAAS,GAAK,QAAQ,eACrBpB,KAAA,QAAK6E,SAAS,CAAC,WAAW,CAAAa,QAAA,eACxB1F,KAAA,QAAK6E,SAAS,CAAC,mCAAmC,CAAAa,QAAA,eAChD5F,IAAA,OAAI+E,SAAS,CAAC,kCAAkC,CAAAa,QAAA,CAAC,gFAAa,CAAI,CAAC,CAClE,CAAAnF,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsD,IAAI,IAAK,cAAc,eAC5B7D,KAAA,WAAQmG,OAAO,CAAEA,CAAA,GAAMhF,qBAAqB,CAAC,IAAI,CAAE,CAAC0D,SAAS,CAAC,yCAAyC,CAAAa,QAAA,eACrG5F,IAAA,CAACnB,IAAI,EAACkG,SAAS,CAAC,SAAS,CAAE,CAAC,cAC5B/E,IAAA,SAAA4F,QAAA,CAAM,4FAAe,CAAM,CAAC,EACtB,CACT,EACE,CAAC,CAELhF,aAAa,CAAC4D,MAAM,GAAK,CAAC,cACzBtE,KAAA,QAAK6E,SAAS,CAAC,wBAAwB,CAAAa,QAAA,eACrC5F,IAAA,CAACf,WAAW,EAAC8F,SAAS,CAAC,sCAAsC,CAAE,CAAC,cAChE/E,IAAA,OAAI+E,SAAS,CAAC,wCAAwC,CAAAa,QAAA,CAAC,gIAAqB,CAAI,CAAC,cACjF5F,IAAA,MAAG+E,SAAS,CAAC,oBAAoB,CAAAa,QAAA,CAC9B,CAAAnF,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsD,IAAI,IAAK,cAAc,CAC1B,eAAerD,GAAG,CAACsF,IAAI,0BAA0B,CACjD,2BAA2BtF,GAAG,CAACsF,IAAI,EAAE,CAExC,CAAC,CACH,CAAAvF,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsD,IAAI,IAAK,cAAc,eAC5B/D,IAAA,WAAQqG,OAAO,CAAEA,CAAA,GAAMhF,qBAAqB,CAAC,IAAI,CAAE,CAAC0D,SAAS,CAAC,aAAa,CAAAa,QAAA,CAAC,4FAE5E,CAAQ,CACT,EACE,CAAC,cAEN5F,IAAA,QAAK+E,SAAS,CAAC,WAAW,CAAAa,QAAA,CACvBhF,aAAa,CAAC4F,GAAG,CAAEsB,MAAM,eACxB9H,IAAA,QAAqB+E,SAAS,CAAC,MAAM,CAAAa,QAAA,cACnC1F,KAAA,QAAK6E,SAAS,CAAC,4BAA4B,CAAAa,QAAA,eACzC5F,IAAA,QAAK+E,SAAS,CAAC,oBAAoB,CAAAa,QAAA,CAAEf,aAAa,CAACiD,MAAM,CAACC,WAAW,CAAC,CAAM,CAAC,cAC7E/H,IAAA,QAAK+E,SAAS,CAAC,QAAQ,CAAAa,QAAA,cACrB1F,KAAA,QAAK6E,SAAS,CAAC,kCAAkC,CAAAa,QAAA,eAC/C1F,KAAA,QAAA0F,QAAA,eACE5F,IAAA,OAAI+E,SAAS,CAAC,mCAAmC,CAAAa,QAAA,CAAEkC,MAAM,CAACE,KAAK,CAAK,CAAC,cACrEhI,IAAA,MAAG+E,SAAS,CAAC,oBAAoB,CAAAa,QAAA,CAAEkC,MAAM,CAACG,WAAW,CAAI,CAAC,cAC1D/H,KAAA,QAAK6E,SAAS,CAAC,wDAAwD,CAAAa,QAAA,eACrE1F,KAAA,SAAA0F,QAAA,EAAM,wCAAQ,CAAC,GAAI,CAAAT,IAAI,CAAC2C,MAAM,CAACI,WAAW,CAAC,CAAChB,kBAAkB,CAAC,OAAO,CAAC,EAAO,CAAC,CAC9EY,MAAM,CAACK,aAAa,eACnBjI,KAAA,SAAA0F,QAAA,EAAM,gEAAY,CAAC,GAAI,CAAAT,IAAI,CAAC2C,MAAM,CAACK,aAAa,CAAC,CAACjB,kBAAkB,CAAC,OAAO,CAAC,EAAO,CACrF,EACE,CAAC,EACH,CAAC,cACNlH,IAAA,SACE+E,SAAS,CAAE,kCACT+C,MAAM,CAACC,WAAW,GAAK,aAAa,CAChC,2BAA2B,CAC3BD,MAAM,CAACC,WAAW,GAAK,YAAY,CACjC,6BAA6B,CAC7BD,MAAM,CAACC,WAAW,GAAK,SAAS,CAC9B,+BAA+B,CAC/B,2BAA2B,EAClC,CAAAnC,QAAA,CAEFkC,MAAM,CAACC,WAAW,GAAK,aAAa,CACjC,QAAQ,CACRD,MAAM,CAACC,WAAW,GAAK,YAAY,CACjC,IAAI,CACJD,MAAM,CAACC,WAAW,GAAK,SAAS,CAC9B,YAAY,CACZD,MAAM,CAACC,WAAW,CACtB,CAAC,EACJ,CAAC,CACH,CAAC,EACH,CAAC,EApCED,MAAM,CAACvH,EAqCZ,CACN,CAAC,CACC,CACN,EACE,CACN,CAEAe,SAAS,GAAK,WAAW,eACxBtB,IAAA,QAAK+E,SAAS,CAAC,WAAW,CAAAa,QAAA,cACxB1F,KAAA,QAAK6E,SAAS,CAAC,MAAM,CAAAa,QAAA,eACnB5F,IAAA,OAAI+E,SAAS,CAAC,uCAAuC,CAAAa,QAAA,CAAC,4FAAe,CAAI,CAAC,CACzE1E,iBAAiB,cAChBhB,KAAA,QAAK6E,SAAS,CAAC,WAAW,CAAAa,QAAA,eACxB1F,KAAA,QAAK6E,SAAS,CAAC,kCAAkC,CAAAa,QAAA,eAC/C5F,IAAA,OAAI+E,SAAS,CAAC,0CAA0C,CAAAa,QAAA,CAAC,oHAAmB,CAAI,CAAC,cACjF5F,IAAA,MAAG+E,SAAS,CAAC,mCAAmC,CAAAa,QAAA,CAAE1E,iBAAiB,CAACkH,mBAAmB,CAAI,CAAC,EACzF,CAAC,cACNpI,IAAA,QAAA4F,QAAA,cACE5F,IAAA,CAACzB,IAAI,EAACsH,EAAE,CAAE,SAASnF,GAAG,CAACH,EAAE,sBAAsBW,iBAAiB,CAACX,EAAE,EAAG,CAACwE,SAAS,CAAC,eAAe,CAAAa,QAAA,CAAC,gIAAqB,CAAM,CAAC,CAC1H,CAAC,EACH,CAAC,cAEN1F,KAAA,QAAK6E,SAAS,CAAC,kBAAkB,CAAAa,QAAA,eAC/B5F,IAAA,CAACd,QAAQ,EAAC6F,SAAS,CAAC,wCAAwC,CAAE,CAAC,cAC/D/E,IAAA,OAAI+E,SAAS,CAAC,wCAAwC,CAAAa,QAAA,CAAC,4IAAuB,CAAI,CAAC,cACnF5F,IAAA,MAAG+E,SAAS,CAAC,oBAAoB,CAAAa,QAAA,CAAC,0QAA4C,CAAG,CAAC,cAClF1F,KAAA,CAAC3B,IAAI,EAACsH,EAAE,CAAE,SAASnF,GAAG,CAACH,EAAE,YAAa,CAACwE,SAAS,CAAC,gDAAgD,CAAAa,QAAA,eAC/F5F,IAAA,CAACd,QAAQ,EAAC6F,SAAS,CAAC,SAAS,CAAE,CAAC,cAChC/E,IAAA,SAAA4F,QAAA,CAAM,wGAAiB,CAAM,CAAC,EAC1B,CAAC,EACJ,CACN,EACE,CAAC,CACH,CACN,CAEAtE,SAAS,GAAK,cAAc,EAAI,CAAAb,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsD,IAAI,IAAK,cAAc,eAC5D7D,KAAA,QAAK6E,SAAS,CAAC,WAAW,CAAAa,QAAA,eACxB1F,KAAA,QAAK6E,SAAS,CAAC,mCAAmC,CAAAa,QAAA,eAChD5F,IAAA,OAAI+E,SAAS,CAAC,kCAAkC,CAAAa,QAAA,CAAC,wGAAiB,CAAI,CAAC,cACvE1F,KAAA,CAAC3B,IAAI,EAACsH,EAAE,CAAC,eAAe,CAACd,SAAS,CAAC,yCAAyC,CAAAa,QAAA,eAC1E5F,IAAA,CAAClB,QAAQ,EAACiG,SAAS,CAAC,SAAS,CAAE,CAAC,cAChC/E,IAAA,SAAA4F,QAAA,CAAM,gFAAa,CAAM,CAAC,EACtB,CAAC,EACJ,CAAC,CAEL9E,YAAY,CAAC0D,MAAM,GAAK,CAAC,cACxBtE,KAAA,QAAK6E,SAAS,CAAC,wBAAwB,CAAAa,QAAA,eACrC5F,IAAA,CAAClB,QAAQ,EAACiG,SAAS,CAAC,sCAAsC,CAAE,CAAC,cAC7D/E,IAAA,OAAI+E,SAAS,CAAC,wCAAwC,CAAAa,QAAA,CAAC,wJAAyB,CAAI,CAAC,cACrF5F,IAAA,MAAG+E,SAAS,CAAC,oBAAoB,CAAAa,QAAA,CAAC,oNAAmC,CAAG,CAAC,cACzE5F,IAAA,CAACzB,IAAI,EAACsH,EAAE,CAAC,eAAe,CAACd,SAAS,CAAC,aAAa,CAAAa,QAAA,CAAC,kGAEjD,CAAM,CAAC,EACJ,CAAC,cAEN5F,IAAA,QAAK+E,SAAS,CAAC,WAAW,CAAAa,QAAA,CACvB9E,YAAY,CAAC0F,GAAG,CAAE6B,WAAW,OAAAC,iBAAA,CAAAC,kBAAA,CAAAC,kBAAA,CAAAC,kBAAA,CAAAC,kBAAA,CAAAC,qBAAA,CAAAC,sBAAA,oBAC5B5I,IAAA,QAA0B+E,SAAS,CAAC,MAAM,CAAAa,QAAA,cACxC1F,KAAA,QAAK6E,SAAS,CAAC,kCAAkC,CAAAa,QAAA,eAC/C1F,KAAA,QAAK6E,SAAS,CAAC,4BAA4B,CAAAa,QAAA,eACzC5F,IAAA,QAAK+E,SAAS,CAAE,6BACdsD,WAAW,CAACjG,MAAM,GAAK,WAAW,CAAG,cAAc,CACnDiG,WAAW,CAACjG,MAAM,GAAK,WAAW,CAAG,eAAe,CACpDiG,WAAW,CAACjG,MAAM,GAAK,WAAW,CAAG,aAAa,CAAG,YAAY,EAChE,CAAE,CAAC,cACNlC,KAAA,QAAK6E,SAAS,CAAC,QAAQ,CAAAa,QAAA,eACrB5F,IAAA,OAAI+E,SAAS,CAAC,mCAAmC,CAAAa,QAAA,CAAEyC,WAAW,CAACQ,gBAAgB,CAAK,CAAC,cACrF7I,IAAA,MAAG+E,SAAS,CAAC,oBAAoB,CAAAa,QAAA,CAC9B,GAAI,CAAAT,IAAI,CAACkD,WAAW,CAACS,gBAAgB,CAAC,CAACC,cAAc,CAAC,OAAO,CAAE,CAC9DC,SAAS,CAAE,MAAM,CACjBC,SAAS,CAAE,OACb,CAAC,CAAC,CACD,CAAC,cACJ/I,KAAA,QAAK6E,SAAS,CAAC,wDAAwD,CAAAa,QAAA,eACrE1F,KAAA,QAAK6E,SAAS,CAAC,6BAA6B,CAAAa,QAAA,eAC1C1F,KAAA,QAAK6E,SAAS,CAAC,mFAAmF,CAAAa,QAAA,EAC/F,CAAA0C,iBAAA,CAAAD,WAAW,CAAC5H,IAAI,UAAA6H,iBAAA,WAAhBA,iBAAA,CAAkBhB,mBAAmB,cACpCtH,IAAA,QACE8F,GAAG,CAAEuC,WAAW,CAAC5H,IAAI,CAAC6G,mBAAoB,CAC1CvB,GAAG,EAAAwC,kBAAA,CAAEF,WAAW,CAAC5H,IAAI,UAAA8H,kBAAA,iBAAhBA,kBAAA,CAAkBhB,SAAU,CACjCxC,SAAS,CAAC,4BAA4B,CACtCyC,OAAO,CAAGhE,CAAC,EAAK,CACdA,CAAC,CAACC,MAAM,CAACgE,KAAK,CAACC,OAAO,CAAG,MAAM,CAC/BlE,CAAC,CAACC,MAAM,CAACkE,WAAW,CAACF,KAAK,CAACC,OAAO,CAAG,MAAM,CAC7C,CAAE,CACH,CAAC,CACA,IAAI,cACR1H,IAAA,QAAK+E,SAAS,CAAE,kDAAkD,CAAAyD,kBAAA,CAAAH,WAAW,CAAC5H,IAAI,UAAA+H,kBAAA,WAAhBA,kBAAA,CAAkBlB,mBAAmB,CAAG,QAAQ,CAAG,MAAM,EAAG,CAAA1B,QAAA,cAC5H5F,IAAA,QAAK+E,SAAS,CAAC,uBAAuB,CAACmE,IAAI,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAvD,QAAA,cAC5E5F,IAAA,SAAMoJ,QAAQ,CAAC,SAAS,CAACC,CAAC,CAAC,qDAAqD,CAACC,QAAQ,CAAC,SAAS,CAAE,CAAC,CACnG,CAAC,CACH,CAAC,EACH,CAAC,cACNpJ,KAAA,SAAA0F,QAAA,EAAM,8CAAS,CAAC,EAAA6C,kBAAA,CAAAJ,WAAW,CAAC5H,IAAI,UAAAgI,kBAAA,iBAAhBA,kBAAA,CAAkBlB,SAAS,KAAAmB,kBAAA,CAAIL,WAAW,CAAC5H,IAAI,UAAAiI,kBAAA,iBAAhBA,kBAAA,CAAkBd,KAAK,GAAI,SAAS,EAAO,CAAC,EACxF,CAAC,cACN1H,KAAA,SAAA0F,QAAA,EAAM,0DAAW,CAAC,EAAA+C,qBAAA,CAAAN,WAAW,CAACkB,YAAY,UAAAZ,qBAAA,iBAAxBA,qBAAA,CAA0BpB,SAAS,KAAAqB,sBAAA,CAAIP,WAAW,CAACkB,YAAY,UAAAX,sBAAA,iBAAxBA,sBAAA,CAA0BhB,KAAK,GAAI,SAAS,EAAO,CAAC,EAC1G,CAAC,CACLS,WAAW,CAACmB,KAAK,eAChBtJ,KAAA,MAAG6E,SAAS,CAAC,sDAAsD,CAAAa,QAAA,eACjE5F,IAAA,WAAA4F,QAAA,CAAQ,mDAAS,CAAQ,CAAC,IAAC,CAACyC,WAAW,CAACmB,KAAK,EAC5C,CACJ,EACE,CAAC,EACH,CAAC,cACNtJ,KAAA,QAAK6E,SAAS,CAAC,mCAAmC,CAAAa,QAAA,eAChD5F,IAAA,SAAM+E,SAAS,CAAE,8CACfsD,WAAW,CAACjG,MAAM,GAAK,WAAW,CAAG,+BAA+B,CACpEiG,WAAW,CAACjG,MAAM,GAAK,WAAW,CAAG,6BAA6B,CAClEiG,WAAW,CAACjG,MAAM,GAAK,WAAW,CAAG,2BAA2B,CAChE,yBAAyB,EACxB,CAAAwD,QAAA,CACAyC,WAAW,CAACjG,MAAM,GAAK,WAAW,CAAG,UAAU,CAC/CiG,WAAW,CAACjG,MAAM,GAAK,WAAW,CAAG,YAAY,CACjDiG,WAAW,CAACjG,MAAM,GAAK,WAAW,CAAG,WAAW,CAAG,QAAQ,CACxD,CAAC,cACPlC,KAAA,QAAK6E,SAAS,CAAC,uBAAuB,CAAAa,QAAA,EAAC,gEACzB,CAAC,GAAI,CAAAT,IAAI,CAACkD,WAAW,CAACR,UAAU,CAAC,CAACX,kBAAkB,CAAC,OAAO,CAAC,EACtE,CAAC,EACH,CAAC,EACH,CAAC,EA9DEmB,WAAW,CAAC9H,EA+DjB,CAAC,EACP,CAAC,CACC,CACN,EACE,CACN,EACE,CAAC,CAGLa,kBAAkB,eACjBpB,IAAA,CAACH,oBAAoB,EACnB4J,KAAK,CAAElJ,EAAG,CACVmJ,OAAO,CAAEhJ,GAAG,CAACsF,IAAK,CAClB2D,OAAO,CAAEA,CAAA,GAAMtI,qBAAqB,CAAC,KAAK,CAAE,CAC5CuI,aAAa,CAAEnF,iBAAkB,CAClC,CACF,CAGA7C,iBAAiB,eAChB5B,IAAA,QAAK+E,SAAS,CAAC,4EAA4E,CAAAa,QAAA,cACzF1F,KAAA,QAAK6E,SAAS,CAAC,mDAAmD,CAAAa,QAAA,eAChE5F,IAAA,OAAI+E,SAAS,CAAC,sCAAsC,CAAAa,QAAA,CAAC,oEAAW,CAAI,CAAC,cACrE1F,KAAA,MAAG6E,SAAS,CAAC,oBAAoB,CAAAa,QAAA,EAAC,uIAAuB,CAAClF,GAAG,CAACsF,IAAI,CAAC,8LAAiC,EAAG,CAAC,cACxG9F,KAAA,QAAK6E,SAAS,CAAC,4BAA4B,CAAAa,QAAA,eACzC5F,IAAA,WAAQqG,OAAO,CAAEA,CAAA,GAAMxE,oBAAoB,CAAC,KAAK,CAAE,CAACkD,SAAS,CAAC,eAAe,CAAAa,QAAA,CAAC,sCAE9E,CAAQ,CAAC,cACT5F,IAAA,WAAQqG,OAAO,CAAE1B,YAAa,CAACI,SAAS,CAAC,YAAY,CAAAa,QAAA,CAAC,oEAEtD,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAzF,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}