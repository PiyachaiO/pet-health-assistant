{"ast":null,"code":"\"use client\";import{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{useAuth}from\"../contexts/AuthContext\";import{Eye,EyeOff,Mail,Lock}from\"lucide-react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[formData,setFormData]=useState({email:\"\",password:\"\"});const[showPassword,setShowPassword]=useState(false);const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const{login}=useAuth();const navigate=useNavigate();const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError(\"\");const result=await login(formData.email,formData.password);if(result.success){// Redirect based on user role\nif(result.user.role===\"veterinarian\"){navigate(\"/vet-dashboard\");}else if(result.user.role===\"admin\"){navigate(\"/admin\");}else{navigate(\"/dashboard\");}}else{setError(result.error);}setLoading(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:\"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E23\\u0E30\\u0E1A\\u0E1A\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E1A\\u0E31\\u0E0D\\u0E0A\\u0E35\\u0E02\\u0E2D\\u0E07\\u0E04\\u0E38\\u0E13\\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E14\\u0E39\\u0E41\\u0E25\\u0E2A\\u0E31\\u0E15\\u0E27\\u0E4C\\u0E40\\u0E25\\u0E35\\u0E49\\u0E22\\u0E07\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-8 space-y-6\",onSubmit:handleSubmit,children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Mail,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",name:\"email\",type:\"email\",required:true,className:\"form-input pl-10\",placeholder:\"\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\\u0E02\\u0E2D\\u0E07\\u0E04\\u0E38\\u0E13\",value:formData.email,onChange:handleChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Lock,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:showPassword?\"text\":\"password\",required:true,className:\"form-input pl-10 pr-10\",placeholder:\"\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E02\\u0E2D\\u0E07\\u0E04\\u0E38\\u0E13\",value:formData.password,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"absolute right-3 top-1/2 transform -translate-y-1/2\",onClick:()=>setShowPassword(!showPassword),children:showPassword?/*#__PURE__*/_jsx(EyeOff,{className:\"h-5 w-5 text-gray-400\"}):/*#__PURE__*/_jsx(Eye,{className:\"h-5 w-5 text-gray-400\"})})]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full btn-primary py-3 text-lg disabled:opacity-50 disabled:cursor-not-allowed\",children:loading?\"กำลังเข้าสู่ระบบ...\":\"เข้าสู่ระบบ\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E1A\\u0E31\\u0E0D\\u0E0A\\u0E35?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"text-green-500 hover:text-green-600 font-medium\",children:\"\\u0E2A\\u0E21\\u0E31\\u0E04\\u0E23\\u0E2A\\u0E21\\u0E32\\u0E0A\\u0E34\\u0E01\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-blue-800 mb-2\",children:\"\\u0E1A\\u0E31\\u0E0D\\u0E0A\\u0E35\\u0E17\\u0E14\\u0E2A\\u0E2D\\u0E1A:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-600\",children:[\"\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25: admin@pethealthassistant.com\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19: password\"]})]})]})});};export default Login;","map":{"version":3,"names":["useState","Link","useNavigate","useAuth","Eye","EyeOff","Mail","Lock","jsx","_jsx","jsxs","_jsxs","Login","formData","setFormData","email","password","showPassword","setShowPassword","loading","setLoading","error","setError","login","navigate","handleChange","e","target","name","value","handleSubmit","preventDefault","result","success","user","role","className","children","onSubmit","htmlFor","id","type","required","placeholder","onChange","onClick","disabled","to"],"sources":["D:/senior.project/pet-health-docs/src/pages/Login.js"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Link, useNavigate } from \"react-router-dom\"\nimport { useAuth } from \"../contexts/AuthContext\"\nimport { Eye, EyeOff, Mail, Lock } from \"lucide-react\"\n\nconst Login = () => {\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n  })\n  const [showPassword, setShowPassword] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(\"\")\n\n  const { login } = useAuth()\n  const navigate = useNavigate()\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    })\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setLoading(true)\n    setError(\"\")\n\n    const result = await login(formData.email, formData.password)\n\n    if (result.success) {\n      // Redirect based on user role\n      if (result.user.role === \"veterinarian\") {\n        navigate(\"/vet-dashboard\")\n      } else if (result.user.role === \"admin\") {\n        navigate(\"/admin\")\n      } else {\n        navigate(\"/dashboard\")\n      }\n    } else {\n      setError(result.error)\n    }\n\n    setLoading(false)\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div className=\"text-center\">\n          <h2 className=\"text-3xl font-bold text-gray-900\">เข้าสู่ระบบ</h2>\n          <p className=\"mt-2 text-gray-600\">เข้าสู่บัญชีของคุณเพื่อดูแลสัตว์เลี้ยง</p>\n        </div>\n\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n          {error && <div className=\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg\">{error}</div>}\n\n          <div className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                อีเมล\n              </label>\n              <div className=\"relative\">\n                <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\n                <input\n                  id=\"email\"\n                  name=\"email\"\n                  type=\"email\"\n                  required\n                  className=\"form-input pl-10\"\n                  placeholder=\"กรอกอีเมลของคุณ\"\n                  value={formData.email}\n                  onChange={handleChange}\n                />\n              </div>\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                รหัสผ่าน\n              </label>\n              <div className=\"relative\">\n                <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\n                <input\n                  id=\"password\"\n                  name=\"password\"\n                  type={showPassword ? \"text\" : \"password\"}\n                  required\n                  className=\"form-input pl-10 pr-10\"\n                  placeholder=\"กรอกรหัสผ่านของคุณ\"\n                  value={formData.password}\n                  onChange={handleChange}\n                />\n                <button\n                  type=\"button\"\n                  className=\"absolute right-3 top-1/2 transform -translate-y-1/2\"\n                  onClick={() => setShowPassword(!showPassword)}\n                >\n                  {showPassword ? (\n                    <EyeOff className=\"h-5 w-5 text-gray-400\" />\n                  ) : (\n                    <Eye className=\"h-5 w-5 text-gray-400\" />\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full btn-primary py-3 text-lg disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {loading ? \"กำลังเข้าสู่ระบบ...\" : \"เข้าสู่ระบบ\"}\n          </button>\n\n          <div className=\"text-center\">\n            <p className=\"text-gray-600\">\n              ยังไม่มีบัญชี?{\" \"}\n              <Link to=\"/register\" className=\"text-green-500 hover:text-green-600 font-medium\">\n                สมัครสมาชิก\n              </Link>\n            </p>\n          </div>\n        </form>\n\n        {/* Demo Account Info */}\n        <div className=\"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n          <h3 className=\"text-sm font-medium text-blue-800 mb-2\">บัญชีทดสอบ:</h3>\n          <p className=\"text-sm text-blue-600\">\n            อีเมล: admin@pethealthassistant.com\n            <br />\n            รหัสผ่าน: password\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Login\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}