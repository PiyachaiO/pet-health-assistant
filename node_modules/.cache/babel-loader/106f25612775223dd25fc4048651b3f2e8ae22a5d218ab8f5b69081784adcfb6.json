{"ast":null,"code":"\"use client\";import{useState,useEffect,useRef}from\"react\";import{useParams,useNavigate,Link}from\"react-router-dom\";import{useAuth}from\"../contexts/AuthContext\";import apiClient from\"../services/api\";import{ArrowLeft,Save,Eye,Upload,X,Image,Trash2}from\"lucide-react\";import ImageUpload from\"../components/ImageUpload\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ArticleForm=()=>{const{id}=useParams();// id จะมีค่าเมื่อเป็นการแก้ไข\nconst navigate=useNavigate();const{user}=useAuth();const[loading,setLoading]=useState(false);const[saving,setSaving]=useState(false);const[uploading,setUploading]=useState(false);const[error,setError]=useState(\"\");const[previewMode,setPreviewMode]=useState(false);const fileInputRef=useRef(null);const[formData,setFormData]=useState({title:\"\",category:\"\",excerpt:\"\",content:\"\",featured_image_url:\"\",is_published:false});const[imagePreview,setImagePreview]=useState(null);const categories=[\"การดูแลทั่วไป\",\"โภชนาการ\",\"สุขภาพและโรคภัย\",\"พฤติกรรม\",\"การฝึก\"];// ดึงข้อมูลบทความถ้าเป็นการแก้ไข\nuseEffect(()=>{if(id){fetchArticle();}},[id]);const fetchArticle=async()=>{try{setLoading(true);const response=await apiClient.get(`/articles/${id}`);const article=response.data;setFormData({title:article.title||\"\",category:article.category||\"\",excerpt:article.excerpt||\"\",content:article.content||\"\",featured_image_url:article.featured_image_url||\"\",is_published:article.is_published||false});// ถ้ามีรูปภาพอยู่แล้ว ให้แสดง preview\nif(article.featured_image_url){setImagePreview(article.featured_image_url);}}catch(error){console.error(\"Failed to fetch article:\",error);setError(\"ไม่สามารถโหลดข้อมูลบทความได้\");}finally{setLoading(false);}};const handleChange=e=>{const{name,value,type,checked}=e.target;setFormData(prev=>({...prev,[name]:type==='checkbox'?checked:value}));};const handleContentChange=e=>{setFormData(prev=>({...prev,content:e.target.value}));};const handleImageUploaded=imageUrl=>{setFormData(prev=>({...prev,featured_image_url:imageUrl}));setImagePreview(imageUrl);};const removeImage=()=>{setFormData(prev=>({...prev,featured_image_url:\"\"}));setImagePreview(null);if(fileInputRef.current){fileInputRef.current.value=\"\";}};const handleSubmit=async e=>{e.preventDefault();setSaving(true);setError(\"\");try{if(id){// แก้ไขบทความ\nawait apiClient.put(`/articles/${id}`,formData);}else{// สร้างบทความใหม่\nawait apiClient.post(\"/articles\",formData);}navigate(\"/articles\");}catch(error){var _error$response,_error$response$data;console.error(\"Failed to save article:\",error);setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||\"เกิดข้อผิดพลาดในการบันทึกบทความ\");}finally{setSaving(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/articles\",className:\"inline-flex items-center space-x-2 text-green-500 hover:text-green-600\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E01\\u0E25\\u0E31\\u0E1A\\u0E44\\u0E1B\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E1A\\u0E17\\u0E04\\u0E27\\u0E32\\u0E21\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-3\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setPreviewMode(!previewMode),className:\"btn-secondary flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Eye,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:previewMode?\"แก้ไข\":\"ดูตัวอย่าง\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-8\",children:id?\"แก้ไขบทความ\":\"สร้างบทความใหม่\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg mb-6\",children:error}),previewMode?/*#__PURE__*//* Preview Mode */_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-b pb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:formData.title||\"หัวข้อบทความ\"}),formData.category&&/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-100 text-green-800 px-2 py-1 rounded-full text-sm\",children:formData.category})]}),imagePreview&&/*#__PURE__*/_jsx(\"div\",{className:\"aspect-w-16 aspect-h-9\",children:/*#__PURE__*/_jsx(\"img\",{src:imagePreview,alt:\"\\u0E23\\u0E39\\u0E1B\\u0E20\\u0E32\\u0E1E\\u0E1B\\u0E01\\u0E1A\\u0E17\\u0E04\\u0E27\\u0E32\\u0E21\",className:\"w-full h-64 object-cover rounded-lg\"})}),formData.excerpt&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 italic\",children:formData.excerpt})}),/*#__PURE__*/_jsx(\"div\",{className:\"prose max-w-none\",children:/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:formData.content.replace(/\\n/g,'<br/>')}})})]}):/*#__PURE__*//* Edit Mode */_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"form-label\",children:\"\\u0E2B\\u0E31\\u0E27\\u0E02\\u0E49\\u0E2D\\u0E1A\\u0E17\\u0E04\\u0E27\\u0E32\\u0E21 *\"}),/*#__PURE__*/_jsx(\"input\",{id:\"title\",name:\"title\",type:\"text\",required:true,className:\"form-input\",placeholder:\"\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E2B\\u0E31\\u0E27\\u0E02\\u0E49\\u0E2D\\u0E1A\\u0E17\\u0E04\\u0E27\\u0E32\\u0E21...\",value:formData.title,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",className:\"form-label\",children:\"\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48 *\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"category\",name:\"category\",required:true,className:\"form-select\",value:formData.category,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category},category))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0E23\\u0E39\\u0E1B\\u0E20\\u0E32\\u0E1E\\u0E1B\\u0E01\"}),/*#__PURE__*/_jsx(ImageUpload,{onImageUploaded:handleImageUploaded,currentImage:imagePreview,className:\"w-full\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 mt-2\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u0E23\\u0E2D\\u0E07\\u0E23\\u0E31\\u0E1A\\u0E44\\u0E1F\\u0E25\\u0E4C: JPG, PNG, GIF\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0E02\\u0E19\\u0E32\\u0E14\\u0E44\\u0E1F\\u0E25\\u0E4C\\u0E2A\\u0E39\\u0E07\\u0E2A\\u0E38\\u0E14: 5MB\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"excerpt\",className:\"form-label\",children:\"\\u0E2A\\u0E23\\u0E38\\u0E1B\\u0E22\\u0E48\\u0E2D\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"excerpt\",name:\"excerpt\",rows:\"3\",className:\"form-input\",placeholder:\"\\u0E2A\\u0E23\\u0E38\\u0E1B\\u0E22\\u0E48\\u0E2D\\u0E1A\\u0E17\\u0E04\\u0E27\\u0E32\\u0E21...\",value:formData.excerpt,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",className:\"form-label\",children:\"\\u0E40\\u0E19\\u0E37\\u0E49\\u0E2D\\u0E2B\\u0E32\\u0E1A\\u0E17\\u0E04\\u0E27\\u0E32\\u0E21 *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"content\",name:\"content\",rows:\"15\",required:true,className:\"form-input font-mono\",placeholder:\"\\u0E40\\u0E02\\u0E35\\u0E22\\u0E19\\u0E40\\u0E19\\u0E37\\u0E49\\u0E2D\\u0E2B\\u0E32\\u0E1A\\u0E17\\u0E04\\u0E27\\u0E32\\u0E21\\u0E17\\u0E35\\u0E48\\u0E19\\u0E35\\u0E48...\",value:formData.content,onChange:handleContentChange}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"\\u0E43\\u0E0A\\u0E49 Enter \\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E02\\u0E36\\u0E49\\u0E19\\u0E1A\\u0E23\\u0E23\\u0E17\\u0E31\\u0E14\\u0E43\\u0E2B\\u0E21\\u0E48\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"is_published\",checked:formData.is_published,onChange:handleChange,className:\"form-checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"\\u0E40\\u0E1C\\u0E22\\u0E41\\u0E1E\\u0E23\\u0E48\\u0E17\\u0E31\\u0E19\\u0E17\\u0E35\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"\\u0E16\\u0E49\\u0E32\\u0E44\\u0E21\\u0E48\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01 \\u0E1A\\u0E17\\u0E04\\u0E27\\u0E32\\u0E21\\u0E08\\u0E30\\u0E16\\u0E39\\u0E01\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E40\\u0E1B\\u0E47\\u0E19\\u0E41\\u0E1A\\u0E1A\\u0E23\\u0E48\\u0E32\\u0E07\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4 pt-6 border-t\",children:[/*#__PURE__*/_jsx(Link,{to:\"/articles\",className:\"btn-secondary\",children:\"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:saving,className:\"btn-primary flex items-center space-x-2 disabled:opacity-50\",children:[/*#__PURE__*/_jsx(Save,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:saving?\"กำลังบันทึก...\":id?\"อัปเดตบทความ\":\"สร้างบทความ\"})]})]})]})]})]})});};export default ArticleForm;","map":{"version":3,"names":["useState","useEffect","useRef","useParams","useNavigate","Link","useAuth","apiClient","ArrowLeft","Save","Eye","Upload","X","Image","Trash2","ImageUpload","jsx","_jsx","jsxs","_jsxs","ArticleForm","id","navigate","user","loading","setLoading","saving","setSaving","uploading","setUploading","error","setError","previewMode","setPreviewMode","fileInputRef","formData","setFormData","title","category","excerpt","content","featured_image_url","is_published","imagePreview","setImagePreview","categories","fetchArticle","response","get","article","data","console","handleChange","e","name","value","type","checked","target","prev","handleContentChange","handleImageUploaded","imageUrl","removeImage","current","handleSubmit","preventDefault","put","post","_error$response","_error$response$data","className","children","to","onClick","src","alt","dangerouslySetInnerHTML","__html","replace","onSubmit","htmlFor","required","placeholder","onChange","map","onImageUploaded","currentImage","rows","disabled"],"sources":["D:/senior.project/pet-health-docs/src/pages/ArticleForm.js"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useRef } from \"react\"\nimport { useParams, useNavigate, Link } from \"react-router-dom\"\nimport { useAuth } from \"../contexts/AuthContext\"\nimport apiClient from \"../services/api\"\nimport { ArrowLeft, Save, Eye, Upload, X, Image, Trash2 } from \"lucide-react\"\nimport ImageUpload from \"../components/ImageUpload\"\n\nconst ArticleForm = () => {\n  const { id } = useParams() // id จะมีค่าเมื่อเป็นการแก้ไข\n  const navigate = useNavigate()\n  const { user } = useAuth()\n  const [loading, setLoading] = useState(false)\n  const [saving, setSaving] = useState(false)\n  const [uploading, setUploading] = useState(false)\n  const [error, setError] = useState(\"\")\n  const [previewMode, setPreviewMode] = useState(false)\n  const fileInputRef = useRef(null)\n  \n  const [formData, setFormData] = useState({\n    title: \"\",\n    category: \"\",\n    excerpt: \"\",\n    content: \"\",\n    featured_image_url: \"\",\n    is_published: false\n  })\n\n  const [imagePreview, setImagePreview] = useState(null)\n\n  const categories = [\n    \"การดูแลทั่วไป\",\n    \"โภชนาการ\", \n    \"สุขภาพและโรคภัย\",\n    \"พฤติกรรม\",\n    \"การฝึก\"\n  ]\n\n  // ดึงข้อมูลบทความถ้าเป็นการแก้ไข\n  useEffect(() => {\n    if (id) {\n      fetchArticle()\n    }\n  }, [id])\n\n  const fetchArticle = async () => {\n    try {\n      setLoading(true)\n      const response = await apiClient.get(`/articles/${id}`)\n      const article = response.data\n      \n      setFormData({\n        title: article.title || \"\",\n        category: article.category || \"\",\n        excerpt: article.excerpt || \"\",\n        content: article.content || \"\",\n        featured_image_url: article.featured_image_url || \"\",\n        is_published: article.is_published || false\n      })\n\n      // ถ้ามีรูปภาพอยู่แล้ว ให้แสดง preview\n      if (article.featured_image_url) {\n        setImagePreview(article.featured_image_url)\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch article:\", error)\n      setError(\"ไม่สามารถโหลดข้อมูลบทความได้\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleChange = (e) => {\n    const { name, value, type, checked } = e.target\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }))\n  }\n\n  const handleContentChange = (e) => {\n    setFormData(prev => ({\n      ...prev,\n      content: e.target.value\n    }))\n  }\n\n  const handleImageUploaded = (imageUrl) => {\n    setFormData(prev => ({\n      ...prev,\n      featured_image_url: imageUrl\n    }))\n    setImagePreview(imageUrl)\n  }\n\n  const removeImage = () => {\n    setFormData(prev => ({\n      ...prev,\n      featured_image_url: \"\"\n    }))\n    setImagePreview(null)\n    if (fileInputRef.current) {\n      fileInputRef.current.value = \"\"\n    }\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setSaving(true)\n    setError(\"\")\n\n    try {\n      if (id) {\n        // แก้ไขบทความ\n        await apiClient.put(`/articles/${id}`, formData)\n      } else {\n        // สร้างบทความใหม่\n        await apiClient.post(\"/articles\", formData)\n      }\n      \n      navigate(\"/articles\")\n    } catch (error) {\n      console.error(\"Failed to save article:\", error)\n      setError(error.response?.data?.error || \"เกิดข้อผิดพลาดในการบันทึกบทความ\")\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500\"></div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-8\">\n          <Link to=\"/articles\" className=\"inline-flex items-center space-x-2 text-green-500 hover:text-green-600\">\n            <ArrowLeft className=\"h-4 w-4\" />\n            <span>กลับไปหน้าบทความ</span>\n          </Link>\n          \n          <div className=\"flex space-x-3\">\n            <button\n              type=\"button\"\n              onClick={() => setPreviewMode(!previewMode)}\n              className=\"btn-secondary flex items-center space-x-2\"\n            >\n              <Eye className=\"h-4 w-4\" />\n              <span>{previewMode ? \"แก้ไข\" : \"ดูตัวอย่าง\"}</span>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"card\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-8\">\n            {id ? \"แก้ไขบทความ\" : \"สร้างบทความใหม่\"}\n          </h1>\n\n          {error && (\n            <div className=\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg mb-6\">\n              {error}\n            </div>\n          )}\n\n          {previewMode ? (\n            /* Preview Mode */\n            <div className=\"space-y-6\">\n              <div className=\"border-b pb-4\">\n                <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">{formData.title || \"หัวข้อบทความ\"}</h2>\n                {formData.category && (\n                  <span className=\"bg-green-100 text-green-800 px-2 py-1 rounded-full text-sm\">\n                    {formData.category}\n                  </span>\n                )}\n              </div>\n              \n              {imagePreview && (\n                <div className=\"aspect-w-16 aspect-h-9\">\n                  <img \n                    src={imagePreview} \n                    alt=\"รูปภาพปกบทความ\" \n                    className=\"w-full h-64 object-cover rounded-lg\"\n                  />\n                </div>\n              )}\n              \n              {formData.excerpt && (\n                <div className=\"bg-gray-50 p-4 rounded-lg\">\n                  <p className=\"text-gray-700 italic\">{formData.excerpt}</p>\n                </div>\n              )}\n              \n              <div className=\"prose max-w-none\">\n                <div dangerouslySetInnerHTML={{ __html: formData.content.replace(/\\n/g, '<br/>') }} />\n              </div>\n            </div>\n          ) : (\n            /* Edit Mode */\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                {/* Title */}\n                <div className=\"md:col-span-2\">\n                  <label htmlFor=\"title\" className=\"form-label\">หัวข้อบทความ *</label>\n                  <input\n                    id=\"title\"\n                    name=\"title\"\n                    type=\"text\"\n                    required\n                    className=\"form-input\"\n                    placeholder=\"กรอกหัวข้อบทความ...\"\n                    value={formData.title}\n                    onChange={handleChange}\n                  />\n                </div>\n\n                {/* Category */}\n                <div>\n                  <label htmlFor=\"category\" className=\"form-label\">หมวดหมู่ *</label>\n                  <select\n                    id=\"category\"\n                    name=\"category\"\n                    required\n                    className=\"form-select\"\n                    value={formData.category}\n                    onChange={handleChange}\n                  >\n                    <option value=\"\">เลือกหมวดหมู่</option>\n                    {categories.map(category => (\n                      <option key={category} value={category}>{category}</option>\n                    ))}\n                  </select>\n                </div>\n\n                {/* Featured Image Upload */}\n                <div>\n                  <label className=\"form-label\">รูปภาพปก</label>\n                  <ImageUpload\n                    onImageUploaded={handleImageUploaded}\n                    currentImage={imagePreview}\n                    className=\"w-full\"\n                  />\n                  <div className=\"text-xs text-gray-500 mt-2\">\n                    <p>รองรับไฟล์: JPG, PNG, GIF</p>\n                    <p>ขนาดไฟล์สูงสุด: 5MB</p>\n                  </div>\n                </div>\n\n                {/* Excerpt */}\n                <div className=\"md:col-span-2\">\n                  <label htmlFor=\"excerpt\" className=\"form-label\">สรุปย่อ</label>\n                  <textarea\n                    id=\"excerpt\"\n                    name=\"excerpt\"\n                    rows=\"3\"\n                    className=\"form-input\"\n                    placeholder=\"สรุปย่อบทความ...\"\n                    value={formData.excerpt}\n                    onChange={handleChange}\n                  />\n                </div>\n\n                {/* Content */}\n                <div className=\"md:col-span-2\">\n                  <label htmlFor=\"content\" className=\"form-label\">เนื้อหาบทความ *</label>\n                  <textarea\n                    id=\"content\"\n                    name=\"content\"\n                    rows=\"15\"\n                    required\n                    className=\"form-input font-mono\"\n                    placeholder=\"เขียนเนื้อหาบทความที่นี่...\"\n                    value={formData.content}\n                    onChange={handleContentChange}\n                  />\n                  <p className=\"text-sm text-gray-500 mt-1\">\n                    ใช้ Enter เพื่อขึ้นบรรทัดใหม่\n                  </p>\n                </div>\n\n                {/* Published Status */}\n                <div className=\"md:col-span-2\">\n                  <label className=\"flex items-center space-x-2\">\n                    <input\n                      type=\"checkbox\"\n                      name=\"is_published\"\n                      checked={formData.is_published}\n                      onChange={handleChange}\n                      className=\"form-checkbox\"\n                    />\n                    <span className=\"text-sm font-medium text-gray-700\">เผยแพร่ทันที</span>\n                  </label>\n                  <p className=\"text-sm text-gray-500 mt-1\">\n                    ถ้าไม่เลือก บทความจะถูกบันทึกเป็นแบบร่าง\n                  </p>\n                </div>\n              </div>\n\n              {/* Action Buttons */}\n              <div className=\"flex justify-end space-x-4 pt-6 border-t\">\n                <Link to=\"/articles\" className=\"btn-secondary\">\n                  ยกเลิก\n                </Link>\n                <button\n                  type=\"submit\"\n                  disabled={saving}\n                  className=\"btn-primary flex items-center space-x-2 disabled:opacity-50\"\n                >\n                  <Save className=\"h-4 w-4\" />\n                  <span>{saving ? \"กำลังบันทึก...\" : (id ? \"อัปเดตบทความ\" : \"สร้างบทความ\")}</span>\n                </button>\n              </div>\n            </form>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ArticleForm"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}